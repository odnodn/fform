var b,c;b=window,c=function(d){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";var n=r(2),a=t.ValidationError=function(e,t,r,n,a,i){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=a,this.argument=i,this.stack=this.toString()};a.prototype.toString=function(){return this.property+" "+this.message};var i=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&!0===r.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}i.prototype.addError=function(e){var t;if("string"==typeof e)t=new a(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new a(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},i.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},i.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(i.prototype,"valid",{get:function(){return!this.errors.length}});var s=t.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};s.prototype=Object.create(Error.prototype,{constructor:{value:s,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var u=t.SchemaContext=function(e,t,r,n,a){this.schema=e,this.options=t,this.propertyPath=r,this.base=n,this.schemas=a};u.prototype.resolve=function(e){return n.resolve(this.base,e)},u.prototype.makeChild=function(e,t){var r=void 0===t?this.propertyPath:this.propertyPath+l(t),a=n.resolve(this.base,e.id||""),i=new u(e,this.options,r,a,Object.create(this.schemas));return e.id&&!i.schemas[a]&&(i.schemas[a]=e),i};var c=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};c.regexp=c.regex,c.pattern=c.regex,c.ipv4=c["ip-address"],t.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==c[t]){if(c[t]instanceof RegExp)return c[t].test(e);if("function"==typeof c[t])return c[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var l=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function f(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(t instanceof Array)return r instanceof Array&&t.length===r.length&&t.every(function(n,a){return e(t[a],r[a])});if("object"!=typeof t)return t===r;if(!t||!r)return t===r;var n=Object.keys(t),a=Object.keys(r);return n.length===a.length&&n.every(function(n){return e(t[n],r[n])})},e.exports.deepMerge=function e(t,r){var n=Array.isArray(r),a=n&&[]||{};return n?(t=t||[],a=a.concat(t),r.forEach(function(t,r,n,a){"object"==typeof n?r[a]=e(t[a],n):-1===t.indexOf(n)&&r.push(n)}.bind(null,t,a))):(t&&"object"==typeof t&&Object.keys(t).forEach(function(e,t,r){t[r]=e[r]}.bind(null,t,a)),Object.keys(r).forEach(function(t,r,n,a){"object"==typeof r[a]&&r[a]&&t[a]?n[a]=e(t[a],r[a]):n[a]=r[a]}.bind(null,t,r,a))),a},t.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var a=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e},t.encodePath=function(e){return e.map(f).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return void 0===e};t.isUndefined=i,t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return"number"==typeof e&&(Math.floor(e)===e||9007199254740992<e||e<-9007199254740992)},t.isString=function(e){return"string"==typeof e};var o=Array.isArray;t.isArray=o,t.isObject=function(e){return u(e)&&!o(e)};var s=function(e){return"function"==typeof e};function u(e){return e&&"object"===a(e)&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}t.isFunction=s,t.toArray=function(e){return o(e)?e:[e]},t.deArray=function(e,t){return!t&&o(e)&&1==e.length?e[0]:e},t.isMergeable=u;var c=Object.keys;t.objKeys=c;var l=function(e){return c(e).concat(Object.getOwnPropertySymbols(e))};t.objKeysNSymb=l;var f="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":a(e)};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)o(t+1<1||arguments.length<=t+1?void 0:arguments[t+1])?e.push.apply(e,n(t+1<1||arguments.length<=t+1?void 0:arguments[t+1])):e.push(t+1<1||arguments.length<=t+1?void 0:arguments[t+1]);return e}function d(){for(var e,t=[],r=0;r<arguments.length-1;r++)h(t,r<0||arguments.length<=r?void 0:arguments[r]);var n=(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e];return t.length?v({},n,t):n}function m(e){if(0<(arguments.length<=1?0:arguments.length-1))for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)for(var r=o(t+1<1||arguments.length<=t+1?void 0:arguments[t+1])?t+1<1||arguments.length<=t+1?void 0:arguments[t+1]:[t+1<1||arguments.length<=t+1?void 0:arguments[t+1]],n=0;n<r.length;n++)if(!i(r[n])){try{if(!e.hasOwnProperty(r[n]))return!1}catch(e){return!1}e=e[r[n]]}return!0}function v(e,t){var r,n=e;if(0<(arguments.length<=2?0:arguments.length-2))for(var a=0;a<(arguments.length<=2?0:arguments.length-2);a++)for(var s=o(a+2<2||arguments.length<=a+2?void 0:arguments[a+2])?a+2<2||arguments.length<=a+2?void 0:arguments[a+2]:[a+2<2||arguments.length<=a+2?void 0:arguments[a+2]],c=0;c<s.length;c++)i(s[c])||(i(r)||(u(n[r])||(n[r]={}),n=n[r]),r=s[c]);return i(r)?t:(n[r]=t,e)}function g(e){for(var t=e,r=0;r<(arguments.length<=1?0:arguments.length-1);r++){var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];"function"==typeof n&&(n=n(t)),o(n)||(n=[n]);for(var a=0;a<n.length;a++){if(!u(t))return;i(n[a])||(t=t[n[a]])}}return t}function y(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=r.noSymbol?c:l,a=r.SymbolDelete,i=r.del,f=r.diff,h=r.replace,d=r.arrays,m=h;return"function"!=typeof m&&(m=u(h)?function(e){return g(h,e)}:function(){return!1}),!0===h||!0===m([],e,t)?{state:t,changes:e!==t?t:void 0}:(s(d)||(d=void 0),function e(t,r){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],c={},l=o(r);u(t)||o(t=l?[]:{})&&(c.length=0);var h=o(t);if(!u(r))return{state:t};h&&l&&(d&&(r=d(t,r,s)),t.length!=r.length&&(c.length=r.length));var v=n(t);if(0==v.length&&!i){if(!h&&!l)return n(r).length?{state:r,changes:r}:{state:t};if(h&&l)return t.length==r.length&&0==r.length?{state:t}:n(r).length||r.length!==t.length?{state:r,changes:r}:{state:t}}var g=n(r),y={},b=h?[]:{};f&&v.forEach(function(e){~g.indexOf(e)||(c[e]=a)}),g.forEach(function(n){if(i&&r[n]===a)t.hasOwnProperty(n)&&(c[n]=a);else{var o=s.concat(n);if(u(r[n])&&u(t[n])&&!0!==m(o,t[n],r[n])){if(t[n]!==r[n]){var l=e(t[n],r[n],o);l.changes&&(y[n]=l)}}else t.hasOwnProperty(n)&&p(t[n],r[n])||(c[n]=r[n])}});var _=n(y),w=n(c);return 0==w.length&&0==_.length?{state:t}:(Object.assign(b,t),w.forEach(function(e){i&&c[e]===a||f&&!r.hasOwnProperty(e)?delete b[e]:b[e]=c[e]}),_.forEach(function(e){b[e]=y[e].state,c[e]=y[e].changes}),{state:b,changes:c})}(e,t))}t.isEqual=function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(p(t,r))return!0;if("object"!==(i(t)?"undefined":f(t))||null===t||"object"!==(i(r)?"undefined":f(r))||null===r)return!1;var a=n.symbol?l:c,o=a(t),s=a(r);if(o.length!==s.length)return!1;for(var u=n.skipKeys,h=void 0===u?[]:u,d=n.deepKeys,m=void 0===d?[]:d,v=0;v<o.length;v++)if(!~h.indexOf(o[v]))if(n.deep||~m.indexOf(o[v])){if(!e(t[o[v]],r[o[v]],n))return!1}else if(!r.hasOwnProperty(o[v])||!p(t[o[v]],r[o[v]]))return!1;return!0},t.asNumber=function(e){if(""===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;var t=Number(e),r="number"==typeof t&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:r?t:e},t.memoize=function(e){return e.cache=new Map,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=[r.length].concat(r),i=e.cache,o=a.pop(),s=0;s<a.length;s++)i.has(a[s])||i.set(a[s],new Map),i=i.get(a[s]);return i.has(o)||i.set(o,e.apply(this,r)),i.get(o)}},t.push2array=h,t.moveArrayElems=function(e,t,r){var n=e.length;n&&(t=(t%n+n)%n,r=(r%n+n)%n);for(var a=e[t],i=t;i<r;i++)e[i]=e[i+1];for(var o=t;r<o;o--)e[o]=e[o-1];return e[r]=a,e},t.makeSlice=d,t.hasIn=m,t.setIn=v,t.delIn=function e(t,r){if(!r.length)return t;var n="string"==typeof r[0]?r[0].split(","):[r[0]],a=r.slice(1);if(a.length)n.forEach(function(r){var n;u(t[r])&&(n=e(t[r],a)),n&&n!==t[r]&&(t=b(b(t,d(r,void 0)),d(r,n)))});else{for(var i=0;i<n.length;i++)if(t.hasOwnProperty(n[i])){t=Object.assign({},t);break}for(var o=0;o<n.length;o++)delete t[n[o]]}return t},t.getIn=g,t.getCreateIn=function(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return m.apply(void 0,[e].concat(n))||v.apply(void 0,[e,t].concat(n)),g.apply(void 0,[e].concat(n))},t.mergeState=y;var b=function(e,t){return y(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).state};(t.merge=b).all=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return 0==t.length?e:t.reduce(function(e,t){return b(e,t,r)},e)}},function(e,t,r){"use strict";var n=r(10),a=r(13);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(14);function b(e,t,r){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var $=(w=w[0]).toLowerCase();this.protocol=$,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(O||w&&!g[w])){for(var S,A,j=-1,x=0;x<p.length;x++)-1!==(E=b.indexOf(p[x]))&&(-1===j||E<j)&&(j=E);for(-1!==(A=-1===j?b.lastIndexOf("@"):b.lastIndexOf("@",j))&&(S=b.slice(0,A),b=b.slice(A+1),this.auth=decodeURIComponent(S)),j=-1,x=0;x<f.length;x++){var E;-1!==(E=b.indexOf(f[x]))&&(-1===j||E<j)&&(j=E)}-1===j&&(j=b.length),this.host=b.slice(0,j),b=b.slice(j),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),F=(x=0,P.length);x<F;x++){var k=P[x];if(k&&!k.match(h)){for(var M="",D=0,C=k.length;D<C;D++)127<k.charCodeAt(D)?M+="x":M+=k[D];if(!M.match(h)){var R=P.slice(0,x),U=P.slice(x+1),N=k.match(d);N&&(R.push(N[1]),U.unshift(N[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=R.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var V=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+V,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[$])for(x=0,F=l.length;x<F;x++){var K=l[x];if(-1!==b.indexOf(K)){var q=encodeURIComponent(K);q===K&&(q=escape(K)),b=b.split(K).join(q)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var L=b.indexOf("?");if(-1!==L?(this.search=b.substr(L),this.query=b.substr(L+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,L)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[$]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var B=this.search||"";this.path=V+B}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,$=w,O=r.pathname&&r.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),w=w&&(""===d[0]||""===O[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=O.shift(),(I=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=O.slice(-1)[0],j=(r.host||e.host||1<O.length)&&("."===A||".."===A)||""===A,x=0,E=O.length;0<=E;E--)"."===(A=O[E])?O.splice(E,1):".."===A?(O.splice(E,1),x++):x&&(O.splice(E,1),x--);if(!w&&!$)for(;x--;x)O.unshift("..");!w||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),j&&"/"!==O.join("/").substr(-1)&&O.push("");var I,P=""===O[0]||O[0]&&"/"===O[0].charAt(0);return S&&(r.hostname=r.host=P?"":O.length?O.shift():"",(I=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(w=w||r.host&&O.length)&&!P&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){var n=r(2),a=r(0);function i(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=i,e.exports.scan=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var i=n.resolve(e,t.$ref);c[i]=c[i]?c[i]+1:0}else{var l=t.id?n.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),u[l]){if(!a.deepCompareStrict(u[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return u[l]}u[l]=t,"#"==l[l.length-1]&&(u[l.substring(0,l.length-1)]=t)}o(l+"/items",t.items instanceof Array?t.items:[t.items]),o(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),r(l+"/additionalItems",t.additionalItems),s(l+"/properties",t.properties),r(l+"/additionalProperties",t.additionalProperties),s(l+"/definitions",t.definitions),s(l+"/patternProperties",t.patternProperties),s(l+"/dependencies",t.dependencies),o(l+"/disallow",t.disallow),o(l+"/allOf",t.allOf),o(l+"/anyOf",t.anyOf),o(l+"/oneOf",t.oneOf),r(l+"/not",t.not)}}function o(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function s(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var u={},c={};return r(e,t),new i(u,c)}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),u=r(1),c=r(5),l=Symbol.for("FFormData");t.SymData=l;var f=Symbol.for("FFormDataMapTree"),p=Symbol.for("FFormDataMap");t.SymDataMap=p;var h=Symbol.for("FFormReset");t.SymReset=h;var d=Symbol.for("FFormClear");t.SymClear=d;var m=void 0;t.SymDelete=m;var v=["null","boolean","integer","number","string","array","object"];(t.types=v).any=function(){return!0},v.null=function(e){return null===e},v.boolean=function(e){return"boolean"==typeof e},v.number=u.isNumber,v.integer=u.isInteger,v.string=u.isString,v.array=u.isArray,v.object=u.isObject,v.empty={any:null,null:null,boolean:!1,number:0,integer:0,string:"",array:Object.freeze([]),object:Object.freeze({})};var g={};function y(e){var t=[];if(F(e))return t;if("array"==e[l].fData.type)for(var r=0;r<s.getIn(e,l,"length");r++)t.push(r.toString());else t=s.objKeys(e).filter(function(e){return e});return t}g.array=function(e,t,r,n){var i=n,c=i.path,f=(i.macros,i.value,l),p=(i[f],o(i,["path","macros","value","symbol"===a(f)?f:f+""])),h=J([r.update,e],c,l,"length");if(!u.isNumber(h))return e;if(u.isArray(n.value)){for(var d=[],m={},v=0;v<n.value.length;v++)d[h+v]=n.value[v],m[h+v]=s.getIn(n.replace,v);return d.length=h+n.value.length,V(e,r,d,m,c,n.setOneOf)}return(h+=n.value||1)<0&&(h=0),q(e,r,H(c,["length"],h,!1,p))},g.arrayItem=function(e,t,r,n){var a=n.path,o=n.op,c=n.value||0,p=parseInt(a.pop()),h=p,m=S(O(t,a,_(e))),v=J([r.update,e],a,l,"length")-1;"up"==o&&h--,"down"==o&&h++,"first"==o&&(h=m),"last"!=o&&"del"!=o||(h=v),"move"==o&&(h=c),"shift"==o&&(h+=c),h<m&&(h=m),v<h&&(h=v);var g={},y={},b={},w=[];w[0]=s.getIn(r.update,a),w[1]=s.getIn(r.update,l,"current",a),w[2]=s.getIn(r.replace,a),w[3]=s.getIn(r.replace,l,"current",a);for(var $=function(t){g[t]=s.getIn(e,a,t),y[t]=g[t][l].arrayItem,b[t]=s.getIn(e,l,"current",a,t),w.forEach(function(e){return u.isMergeable(e)&&!e.hasOwnProperty(t)&&(e[t]=d)})},A=Math.min(p,h);A<=Math.max(p,h);A++)$(A);g=s.moveArrayElems(g,p,h),b=s.moveArrayElems(b,p,h);var j=function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=s.getIn(t,f,l)||[],a=n.map(function(e){return s.merge(e,{emitter:r})}),o=n.length?i({},f,i({},l,[])):void 0;return s.objKeys(t).forEach(function(i){var u;t[i]&&(u=e(t[i],r.concat(i)),s.push2array(n,u.maps2disable),s.push2array(a,u.maps2enable),u.clearBinded&&(o||(o={}),o[i]=u.clearBinded))}),{maps2disable:n,maps2enable:a,clearBinded:o}}(g,a),x=j.maps2disable,E=j.maps2enable,I=j.clearBinded;return I&&(g=s.merge(g,I)),w.forEach(function(e){if(u.isMergeable(e)){s.moveArrayElems(e,p,h);for(var t=Math.min(p,h);t<=Math.max(p,h);t++)e[t]===d&&delete e[t]}}),s.objKeys(g).forEach(function(e){g[e]=s.merge(g[e],s.makeSlice(l,"arrayItem",y[e]),{replace:s.makeSlice(l,"arrayItem",!0)})}),e=s.merge(e,s.makeSlice(a,g),{replace:B(n.path.length+1)}),e=s.merge(e,s.makeSlice(l,"current",a,b),{replace:B(n.path.length+3)}),"del"==o&&(e=q(e,r,H(a,["length"],v))),e=z(e=z(e=K(e,r),r,x,!0),r,E)},g.switch=function(e,t,r,n){var a=n[l]||[];return ue(s.makeSlice(a,n.value)).forEach(function(a){return e=function e(t,r,n,a){var i=s.getIn(t,a.path),o=y(i);if(a.value==h&&"status"==a[l][0]){var u=Object.assign({},a);u.value="untouched"==a[l][1]?F(i)?1:o.length:0,t=q(t,n,u)}else t=q(t,n,a);return o.forEach(function(i){return t=e(t,r,n,s.merge(a,{path:a.path.concat(i)}))}),t}(e,t,r,H(n.path,a,a.pop()))}),e},g.setExtraStatus=function(e,t,r,n){var a=n[l]||[],i=J([r.update,e],n.path,l,a),o=0<n.value;return!i==o&&(e=q(e,r,H(n.path,a,o)),e=g.setStatus(e,t,r,H(n.path,["status",a[a.length-1]],o?1:-1))),e},g.setStatus=function(e,t,r,n){var a=n[l]||[];if(2<a.length)return g.setExtraStatus(e,t,r,n);var i=a[1];if(!i)return e;if("valid"==i||"pristine"==i||"touched"==i)throw new Error('Setting "'+i+'" directly is not allowed');var o=J([r.update,e],n.path,l,a),s=F(e,n.path);if("untouched"==i&&0==o&&!s)return e;var u,c=o+n.value;return s&&1<c&&(c=1),c<0&&(c=0),e=q(e,r,H(n.path,["status",i],c)),0==(u=n.path).length||1==u.length&&"#"==u[0]||!o==!c||(e=g.setStatus(e,t,r,H(n.path.slice(0,-1),a,0<c?1:-1))),e},g.setCurrent=function(e,t,r,n){return V(e,r,n.value,n.replace,n.path,n.setOneOf)},g.setOneOf=function(e,t,r,n){if(s.getIn(e,n.path,l,"oneOf")==n.value)return u.isUndefined(n.setValue)||(e=V(e,r,n.setValue,!1,n.path)),e;n.macros;var a=o(n,["macros"]);return a[l]=["oneOf"],u.isUndefined(a.setValue)&&(e=K(e,r),a.setValue=s.getIn(e,l,"current",n.path)),q(e,r,a)},t.branchKeys=y;var b=s.memoize(function(e){return{}});function _(e){return function(t){var r=s.getIn(u.isFunction(e)?e():e,t,l);return{oneOf:s.getIn(r,"oneOf"),type:s.getIn(r,"fData","type")}}}function w(e,t){"function"==typeof e&&(e=e());var r={},n=r;s.setIn(n,s.getIn(e,l,"oneOf"),l,"oneOf"),s.setIn(n,s.getIn(e,l,"fData","type"),l,"type");for(var a=0;a<t.length;a++)u.isUndefined(t[a])||""===t[a]||(n[t[a]]={},n=n[t[a]],e=s.getIn(e,t[a]),s.setIn(n,s.getIn(e,l,"oneOf"),l,"oneOf"),s.setIn(n,s.getIn(e,l,"fData","type"),l,"type"));var i=function(e,t){return u.isUndefined(t)?s.getIn(r,e,l):s.setIn(r,t,e,l)};return i._canSet=!0,i}t.oneOfFromState=_;var $=s.memoize(function(e){return{_compiled:!0,oneOf:e,_oneOfSelector:fe(function(){return se(this.path).pop()%e.length},{noStrictArrayResult:!0})}});function O(e,t,r,n){function a(e,r){var n=[];if(r.items){if(!u.isArray(r.items))return r.items;n=r.items}if(e<n.length)return n[e];if(!1!==r.additionalItems)return r.additionalItems&&!0!==r.additionalItems?r.additionalItems:$(n);throw new Error(f+t.join("/"))}function i(e,t){var r=se(t);if("#"==t[0])return s.getIn(e,r);throw new Error("Can only ref to #")}function c(t){if(t.$ref||t.allOf||t.oneOf)if(h.get(t))t=h.get(t);else{var r=t;if((t=l(e,t)).oneOf){var n=t.oneOf,a=o(t,["oneOf"]);t=n.map(function(t){return s.merge(l(e,t),a,{array:"replace"})})}h.set(r,t)}return t}function l(e,t){if((t=function(e,t){for(;t.$ref;)t=i(e,t.$ref);return t}(e,t)).allOf){for(var r,n=t.allOf,a=o(t,["allOf"]),u=0;u<n.length;u++)r=s.merge(r,l(e,n[u]),{array:"replace"});t=s.merge(r,a)}return t}for(var f="Schema path not found: ",p=e,h=s.getCreateIn(b(e),new Map,"combinedSchemas"),d="#"==t[0]?1:0;d<t.length;d++){if(!p)throw new Error(f+t.join("/"));p=c(p);var m=r(t.slice(0,d)),v=m.oneOf,g=m.type;if(u.isArray(p)&&(p=p[v||0]),"array"==g){if(isNaN(parseInt(t[d])))throw new Error(f+t.join("/"));p=a(t[d],p)}else{if(!p.properties||!p.properties[t[d]])throw new Error(f+t.join("/"));p=p.properties[t[d]]}}return p=c(p),n||u.isArray(p)&&(p=p[r(t).oneOf||0]),p}t.getSchemaPart=O;var S=s.memoize(function(e){return u.isArray(e.items)?!1===e.additionalItems?e.items.length:"object"===a(e.additionalItems)?e.items.length:0==e.items.length?0:e.items.length-1:0});t.arrayStart=S;var A={invalid:0,dirty:0,untouched:1,pending:0,valid:!0,touched:!1,pristine:!0},j=s.memoize(function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.default,a=e._params,i=void 0===a?{}:a,o=e._data,c=void 0===o?{}:o,l=Object.assign({params:i},c);u.isObject(l.messages)||(l.messages={}),u.isUndefined(n)&&(n=v.empty[r||"any"]),l.oneOf=t,l.status=A,u.isObject(l.fData)||(l.fData={});var f,p,h=l.fData;if(h.type=r,h.required=e.required,h.title=e.title,h.placeholder=e._placeholder,e.enum&&(h.enum=e.enum),e._enumExten&&(h.enumExten=e._enumExten),u.isArray(e._enumExten)&&u.isArray(e.enum)){var d={};h.enumExten=h.enumExten.map(function(e){return u.isString(e)?{label:e}:e}),h.enum.forEach(function(e,t){return d[e]=h.enumExten[t]}),h.enumExten=d}else if(e._enumExten&&!h.enum){if(u.isArray(h.enumExten)){var m={};h.enumExten.forEach(function(e){u.isString(e)?m[e]={label:e}:u.isObject(e)&&(u.isUndefined(e.value)?u.isUndefined(e.label)||(m[e.label]=e):(u.isUndefined(e.label)&&(e=Object.assign({},e,{label:e.value})),m[e.value]=e))}),h.enumExten=m}h.enum=s.objKeys(h.enumExten).filter(function(e){return h.enumExten[e]})}e._oneOfSelector&&(h.oneOfSelector=!0),f=e,"array"!==(p=r)&&"object"!==p||s.getIn(f,"_simple")?l.value=n:delete l.value;var g=1;return"array"==r?(l.length=s.getIn(n,"length")||0,!u.isUndefined(e.minItems)&&l.length<e.minItems&&(l.length=e.minItems),l.fData.canAdd=I(e,l.length),g=l.length):"object"==r&&(g=s.objKeys(e.properties||{}).length),1!=g&&(l.status=Object.assign({},l.status,{untouched:g})),l});function x(){return Date.now().toString(36)+Math.random().toString(36)}function E(e,t){var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length?arguments[3]:void 0,c={},f=[],h=(t(n)||{}).oneOf,d=s.toArray(O(e,n,t,!0));if(u.isUndefined(h)){var m=d[h||0]._oneOfSelector;if(m){var v=de.call({path:oe(n)},m,a);u.isArray(v)&&(v=v[0]),h=v}}var g,y,b=k(d,a,h),_=b.schemaPart,w=b.oneOf,$=b.type;if(u.isUndefined(_)||!u.isUndefined(h)&&h!=w){console.info('Passed value: "'+a+'" is not supported by schema.type in path "'+n.join("/")+'" and oneOfIndex "'+h+'". Reset value to default.\n');var S=k(d,a=d[h||0].default,h);_=S.schemaPart,w=S.oneOf,$=S.type}if(s.push2array(f,(g=_._stateMaps||[],y=n,s.toArray(g).map(function(e){var t=e.from,r=e.to,n=o(e,["from","to"]);return n=!n.$||fe(n),t&&r||(n=!1),{emitter:y,from:t,to:r,action:n}}))),c[p]={},c[l]=j(_,w,$,a),t(n,{oneOf:w,type:$}),c[l].hasOwnProperty("value"))r=c[l].value;else{if("array"==$){(r=[]).length=c[l].length;for(var A=0;A<r.length;A++){var I=E(e,t,n.concat(A),s.getIn(u.isUndefined(a)?_.default:a,A)),F=I.state,M=I.dataMap,D=I.defaultValues;r[A]=D,s.push2array(f,M),F=s.merge(F,i({},l,{arrayItem:P(_,A,r.length)}),{replace:i({},l,{ArrayItem:!0})}),F=s.merge(F,i({},l,{params:{uniqKey:x()}})),c[A]=F}}else if("object"==$){r={};var C=c[l].fData.required;C=u.isArray(C)&&C.length&&C,s.objKeys(_.properties||{}).forEach(function(o){var p=E(e,t,n.concat(o),s.getIn(u.isUndefined(a)?_.default:a,o)),h=p.state,d=p.dataMap,m=p.defaultValues;r[o]=m,s.push2array(f,d),C&&~C.indexOf(o)&&(h=s.merge(h,i({},l,{fData:{required:!0}}))),c[o]=h})}a&&(r=s.merge(a,r,{replace:B(1)}))}return{state:c,defaultValues:r,dataMap:f}}function I(e,t){var r=S(e);return e.minItems,(!1!==e.additionalItems||t<r)&&t<(e.maxItems||1/0)}function P(e,t,r){var n={},a=S(e);return e.minItems,n.canUp=a<t,n.canDown=a<=t&&t<r-1,n.canDel=t>=Math.min(a,r-1),n}function F(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s.hasIn.apply(s,[e].concat(r,[l,"value"]))}function k(e,t,r){u.isArray(e)||(e=[e]);var n=e.map(function(e,t){return t});r&&s.moveArrayElems(n,r,0);for(var a=0;a<n.length;a++){var i=n[a],o=e[i].type||v;u.isArray(o)||(o=[o]);for(var c=void 0,l=u.isUndefined(t)?(c=!0)&&e[i].default:t,f=0;f<o.length;f++)if(v[o[f]](l)||u.isUndefined(l))return{schemaPart:e[i],oneOf:i,type:o[f]};if(c&&!u.isUndefined(e[i].default))throw new Error("Type of schema.default is not supported by schema.type")}return{}}function M(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;return s.toArray(n).map(function(e){return"object"===a(e)?e:{group:i,data:e}}).forEach(function(n){var a=n.path,c=o(n,["path"]);if(a)a=ie(a,r),e=M(e,t,a,c,i);else{var f=c.group,p=void 0===f?i:f,h=c.data,d=c.priority,m=void 0===d?0:d,v=o(c,["group","data","priority"]),g=s.getCreateIn(t.update,{},r,l,"messages",m);Object.assign(g,v),u.isObject(g.texts)||(g.texts={}),u.isArray(g.texts[p])||(g.texts[p]=[]),h&&s.push2array(g.texts[p],h)}}),e}function D(e){for(var t,r=s.objKeys(e||{}),n=0;n<r.length;n++){for(var a=s.getIn(e,r[n],"texts")||{},i=s.objKeys(a),o=0;o<i.length;o++)if(a[i[o]]&&a[i[o]].length){t=parseInt(r[n]);break}if(!u.isUndefined(t))break}return t}function C(e,t,r,n){return q(e=q(e,t,H(r,["status","validation","invalid"],0===n?1:0,!0,{macros:"setStatus"})),t,H(r,["status","priority"],n))}function R(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],a=D(s.getIn(e,n,l,"messages"));return F(e=C(e,t,n,a),n)||s.objKeys(r).forEach(function(a){return e=R(e,t,r[a],n.concat(a))}),e}function U(e,t,r,n){var a,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],c=t.api.schema;try{a=O(c,i,_(e))}catch(a){}if(!a||F(e,i)){var f=s.getIn(e,l,"current",i);u.isUndefined(r)&&(r=s.getIn(e,l,"default",i));var p=o||f!==r?1:-1,h=i,d=["status","dirty"];a||(h=h.slice(),d.push(h.pop(),d.pop())),e=q(e,t,H(h,d,p,!1,{macros:"setStatus"}))}else{var m=s.objKeys(n||{});if("array"==a.type){~m.indexOf("length")||m.push("length");var v=y(s.getIn(e,i));m=m.filter(function(e){return isNaN(parseInt(e))||~v.indexOf(e)})}o=o||!u.isMergeable(r),m.forEach(function(a){return e=U(e,t,s.getIn(r,a),s.getIn(n,a),i.concat(a),o)})}return e}t.isSelfManaged=F,t.rehydrateState=function(e,t){var r=E(t.api.schema,_(e)).dataMap;return z(e,t,void 0===r?[]:r,null)},t.updateState=function(e){var t=this.updates,r=this.state,n=this.api,a=this.forceValidation,i=this.opts,o=this.promises,f=n.getState,p=(n.schema,n.UPDATABLE);r||(r=f());var h=r;t.forEach(function(e){return r=q(r,p,e)}),r=K(r,p);var d=s.getIn(h,l,"current");if(p.forceCheck&&(d=s.merge(d,p.forceCheck),p.forceCheck=void 0),h[l].inital!==r[l].inital){var m=s.mergeState(h[l].inital,r[l].inital,{diff:!0}).changes;r=U(r,p,r[l].inital,m)}var v,g=s.mergeState(d,s.getIn(r,l,"current"),{diff:!0}).changes;return g&&(r=U(r,p,r[l].inital,g)),r=K(r=function e(t,r,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];return s.getIn(r.update,a,l,"status","pristine")?u.isMergeable(n)&&s.getIn(t,l,"current",a)!==n&&(s.setIn(r.update,n,l,"current",a),s.setIn(r.replace,!0,l,"current",a)):s.objKeys(s.getIn(r.update,a)).forEach(function(i){return e(t,r,s.getIn(n,i),a.concat(i))}),t}(r,p,r[l].inital),p),(v=i.noValidation?a:a?(ue(g).forEach(function(e){e.pop(),re(a,!0,e)}),a):u.isMergeable(g)?g:!u.isUndefined(g))&&(r=function(e,t,r){var n=r.api,a=r.force,i=r.promises,o=n.JSONValidator,u=n.schema,f=n.getState,p=n.UPDATABLE,h=e[l].current,d=[],m=!0===a?h:a;if(!m||0==s.objKeys(m).length)return i.resolve(),i.vAsync.resolve(),e;o&&(e=function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=s.getIn(t,n,l,"fData","type");return a&&("object"!=a&&"array"!=a||r&&s.objKeys(r).forEach(function(a){return e(t,r[a],n.concat(a))}),T(p,{},!0,n,l,"messages","0","texts")),t}(e,m),o(h).forEach(function(t){return M(e,p,t[0],t[1])})),e=function e(t,r,n){var a,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];try{a=O(u,i,_(t))}catch(a){return t}var o=F(t,i);o||n&&s.objKeys(n).forEach(function(a){return t=e(t,r[a],n[a],i.concat(a))});var c=a._validators;if(c){var l=W(p.api,oe(i));c.forEach(function(e){var n=[];l.updates=n;var a=de.call(l,e,r);t=a&&a.then&&"function"==typeof a.then?(a.validatedValue=r,a.path=i,a.selfManaged=o,d.push(a),q(t,p,H(i,["status","validation","pending"],1,!0,{macros:"setStatus"}))):M(t,p,i,a,1),n.length&&n.forEach(function(e){return t=q(t,p,e)}),l.updates=null})}return t}(e,h,m);var v=p.update;return e=K(e=R(e=K(e,p),p,v),p),i.resolve(),d.length?Promise.all(d).then(function(e){for(var r=f(),a=n.UPDATABLE,o=r[l].current,u=0;u<d.length;u++){var p=d[u],h=p.validatedValue,m=p.path;p.selfManaged,h==s.getIn(o,m)&&(r=q(r=M(r,a,m,e[u]||"",2),a,H(m,["status","validation","pending"],0,!1,{macros:"setStatus"})))}var v=a.update;r=K(r=R(r=K(r,a),a,v),a),t({type:c.anSetState,state:r,api:n}),i.vAsync.resolve()}).catch(function(e){for(var r=f(),a=n.UPDATABLE,o=r[l].current,u=0;u<d.length;u++){var p=d[u],h=p.validatedValue,m=p.path;p.selfManaged,h==s.getIn(o,m)&&(r=q(r,a,H(m,["status","validation","pending"],0,!1,{macros:"setStatus"})))}var v=a.update;r=K(r=R(r=K(r,a),a,v),a),t({type:c.anSetState,state:r,api:n}),i.vAsync.reject(e)}):i.vAsync.resolve(),e}(r,e,{force:v,api:n,opts:i,promises:o})),e({type:c.anSetState,state:r,api:n}),o};var N=s.memoize(function(e){return E(e,w({},[]))});function V(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],o=5<arguments.length?arguments[5]:void 0;if((r===h||u.isUndefined(r))&&(r=s.getIn(e,l,"inital",i)),(r===d||u.isUndefined(r))&&(r=s.getIn(e,l,"default",i)),s.getIn(e,l,"current",i)===r&&!s.hasIn(t.update,l,"current",i))return e;var c=t.api.schema,f=s.getIn(e,i);if(!f){if("length"==i[i.length-1]){var p=i.slice(0,-1);if("array"==s.getIn(e,p)[l].fData.type)return q(e,t,H(p,["length"],r))}return q(e,t,H([],["current"].concat(i),r,n))}f[l].fData.oneOfSelector&&W(t.api,oe(i));var m=f[l].fData.oneOfSelector,g=f[l].fData.type;if(m||!v[g||"any"](r)){var b=O(c,i,_(e),!0),w=f[l].oneOf;if(m){var $=b[w]._oneOfSelector;o=de.call({path:oe(i)},$,r),u.isArray(o)&&(o=o[0])}var S=k(b,r,u.isUndefined(o)?w:o),A=S.schemaPart,j=S.oneOf,x=S.type;if(w!==j){if(A)return q(e,t,H(i,["oneOf"],j,!1,{type:x,setValue:r}));console.warn('Type "'+a(r)+'" not found in path ['+i.join("/")+"]")}}if(F(f))e=q(e,t,H(i,["value"],r,n));else if(u.isMergeable(r)){if("array"!=g||u.isUndefined(r.length)||(e=q(e,t,H(i,["length"],r.length)),f=s.getIn(e,i)),!0===n){var E=u.isArray(r)?[]:{};y(f).forEach(function(e){return E[e]=void 0}),r=Object.assign(E,r)}if(s.objKeys(r).forEach(function(a){return e=V(e,t,r[a],!0===n||s.getIn(n,a),i.concat(a))}),!0===n){e=K(e,t),f=s.getIn(e,i);var I=s.getIn(e,l,"current",i);y(f).forEach(function(e){return r[e]=I[e]}),e=q(e,t,H([],["current"].concat(i),r,n))}}return e}function T(e,t,r){for(var n=arguments.length,a=new Array(3<n?n-3:0),i=3;i<n;i++)a[i-3]=arguments[i];return ue(r).forEach(function(r){var n=r.pop();s.setIn.apply(s,[e,s.getIn(t,r),"update"].concat(a,[r])),n&&s.setIn.apply(s,[e,n,"replace"].concat(a,[r]))}),e}function K(e,t){return e=s.merge(e,t.update,{replace:t.replace}),t.update={},t.replace={},e}function q(e,t,r){if(!r)return e;var n,a,c,d=t.update,v=(t.replace,t.api.schema);if(c=r,u.isUndefined(s.getIn(c,l))||!u.isArray(c[l]))return a=t,X(r,n=e).forEach(function(e){if(0===e.path.length&&"current"==e[l][0]&&(e.macros="setCurrent",e.path=e[l].slice(1),e[l]=[]),"value"==e[l][0])e.macros="setCurrent",e.path=e.path.concat(e[l].slice(1)),e[l]=[];else{if("status"==e[l][0])return void console.warn("Status should not be changed through StateApi. Update ignored.");"oneOf"==e[l][0]&&(e.macros="setOneOf")}n=q(n,a,e)}),n;if(r.macros){var y=g[r.macros];if(!y)throw new Error('"'+y+'" not found in macros');return y(e,v,t,r)}var b=r.value,$=r.path,S=r.replace,A=r[l];if(u.isFunction(b)&&(b=b(Z(e,t)($,l,A))),0!=$.length||"inital"!=A[0]&&"default"!=A[0]){if(u.isObject(b)&&(0==A.length&&(s.hasIn(b,"value")||s.hasIn(b,"status")||s.hasIn(b,"length")||s.hasIn(b,"oneOf"))||1==A.length&&"status"==A[0]))return function(e,t,r){var n=r.value,a=r.path,i=r.replace,u=r[l]||[];if(0==u.length){n.value,n.status,n.length,n.oneOf;var c=o(n,["value","status","length","oneOf"]);["value","status","length","oneOf"].forEach(function(r){s.hasIn(n,r)&&(e=q(e,t,H(a,[r],n[r],s.getIn(i,r))))}),s.objKeys(c).length&&(e=q(e,t,H(a,u,c,i)))}else s.objKeys(n).forEach(function(r){e=q(e,t,H(a,u.concat(r),n[r],s.getIn(i,r)))});return e}(e,t,r);var j=s.getIn(e,$);if(!u.isObject(j))return e;if("value"==A[0]&&!s.hasIn(j,l,"value"))return g.setCurrent(e,v,t,{value:b,replace:S,path:$.concat(A.slice(1))});if(b===J([t.update,e],$,l,A))return e;if(T(t,b,S,$,l,A),"value"==A[0])e=q(e,t,H([],s.push2array(["current"],$,A.slice(1)),b,S));else if("messages"==A[0]){var k=D(Z(e,t)($,l,"messages"));e=C(e,t,$,k)}else if("length"==A[0]){e=q(e,t,H([],s.push2array(["current"],$,A),b,S));var M=j[l].length;M=Math.max(M,0);for(var R=Math.max(b||0),U=w(e,$),N=[],V=[],B=M;B<R;B++){var W=$.concat(B);u.isUndefined(r.setOneOf)||U(W,{oneOf:r.setOneOf});var G=E(v,U,W),Q=G.state,Y=G.dataMap,ee=void 0===Y?[]:Y,te=G.defaultValues,ne=J([e,t.update],$,l,"status","untouched"),ae=i({},l,{params:{uniqKey:x()}});ne||s.setIn(ae[l],{untouched:0,touched:!0},"status"),Q=s.merge(Q,ae),e=q(e=s.merge(e,s.setIn({},Q,W),{replace:s.setIn({},!0,W)}),t,H([],s.push2array(["current"],W),te,!0)),s.push2array(N,ee),ne&&(e=g.setStatus(e,v,t,H($,["status","untouched"],1)))}for(var ie=function(r){var n=$.concat(r);s.push2array(V,s.getIn(e,n,f,l)||[]),["invalid","dirty","untouched","pending"].forEach(function(r){J([d,e],n,l,"status",r)&&(e=g.setStatus(e,v,t,H($,["status",r],-1)))}),T(t,m,!0,n)},oe=R;oe<M;oe++)ie(oe);var se=O(v,$,_(e));s.setIn(d,I(se,R),$,l,"fData","canAdd");for(var ue=Math.max(Math.min(M,R)-1,0);ue<R;ue++)T(t,P(se,ue,R),!0,$,ue,l,"arrayItem");e=z(e=z(e=K(e,t),t,V,!0),t,N)}else if("status"==A[0]){var ce,le,fe=A[1];"invalid"==fe||"pending"==fe?(le=J([d,e],$,l,"status","pending")?null:!J([d,e],$,l,"status","invalid"),ce="valid"):"untouched"!=fe&&"dirty"!=fe||(le=!J([d,e],$,l,"status",fe),ce="untouched"==fe?"touched":"pristine"),u.isUndefined(ce)||(e=q(e,t,H($,["status",ce],le)))}else if("oneOf"==A[0]){var pe=s.getIn(e,$);if((s.getIn(pe,l,"oneOf")||0)!=s.getIn(t.update,$,l,"oneOf")||r.type&&r.type!=s.getIn(pe,l,"fData","type")){re(t,h,"forceCheck",r.path),e=z(e=K(e,t),t,s.getIn(e,$,f,l)||[],!0);var he=E(v,w(e,$),$,r.setValue),de=he.state,me=he.dataMap,ve=void 0===me?[]:me,ge=(te=he.defaultValues,pe[l]),ye=(ge.value,ge.length,ge.oneOf,ge.fData,o(ge,["value","length","oneOf","fData"]));if(F(pe)&&F(de)||delete ye.status,de=s.merge(de,i({},l,ye),{arrays:"replace"}),$.length){var be=$.slice(),_e=be.pop();["invalid","dirty","pending"].forEach(function(r){var n=s.getIn(pe,l,"status",r),a=s.getIn(de,l,"status",r);!n!=!a&&(e=g.setStatus(e,v,t,H(be,["status",r],a?1:-1)))});var we=s.getIn(e,be,l,"fData","required");(we=u.isArray(we)&&we.length&&we)&&~we.indexOf(_e)&&(de=s.merge(de,i({},l,{fData:{required:!0}})))}0==s.getIn(pe,l,"status","untouched")&&(de=s.merge(de,i({},l,{status:{untouched:0}}))),e=z(e=q(e=s.merge(e,s.setIn({},de,$),{replace:s.setIn({},!0,$)}),t,H([],s.push2array(["current"],$),te,!0)),t,ve),0==s.getIn(de,l,"status","untouched")&&(e=g.switch(e,v,t,H($,["status","untouched"],0)))}}}else e=s.merge(e,s.makeSlice(l,A,b),{replace:s.makeSlice(l,A,S)});for(var $e=s.getIn(e,$,f),Oe=0;Oe<A.length&&$e;Oe++)e=L(e,t,$e[p],H($,A.slice(0,Oe),s.setIn({},b,A.slice(Oe)),s.setIn({},S,A.slice(Oe)))),$e=$e[A[Oe]];return $e&&(e=function r(n,a,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];return e=L(e,t,n[p],H($,o,a,i)),u.isMergeable(a)&&s.objKeys(n).forEach(function(t){return a.hasOwnProperty(t)&&(e=r(n[t],a[t],s.getIn(i,t),o.concat(t)))}),e}($e,b,S,A)),e}function z(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=[];return r.forEach(function(r){var u=r.emitter,c=!1;if(X({path:u.join("/")+"/"+r.from,value:null},e).forEach(function(h){var d=h[l][0];("current"==d||"inital"==d||"default"==d&&h.path.length)&&(h=Object.assign({},h,i({path:[]},l,[d].concat(n(h.path),n(h[l].slice(1)))))),X({path:u.join("/")+"/"+r.to,value:null},e).forEach(function(i){var d,m=oe(te(h.path,(d=i.path).concat.apply(d,[l].concat(n(i[l])))));s.getIn(e,h.path)&&s.setIn(t.update,a?void 0:r.action,h.path,f,h[l],p,m),a||(o.push({map:s.makeSlice(m,r.action),fromPath:h.path,keyPath:h[l]}),c||"."==te(u,h.path)[0]||(c=!0))})}),c){var h=s.getIn(e,u);if(h){var d,m=s.getIn(h,f,l)||[];for(d=0;d<m.length&&(r.from!==m[d].from||r.to!==m[d].to);d++);(m=m.slice())[d]=r,T(t,m,!0,u,f,l)}}e=K(e,t)}),null!==a&&o.forEach(function(r){e=K(e=L(e,t,r.map,H(r.fromPath,r.keyPath,s.getIn(e,r.fromPath,l,r.keyPath))),t)}),e}function L(e,t,r,n){var a,i,o=n.value,c=n.path,f=n.replace,p=(n[l],(i=oe((a=n).path))+(a[l]&&!~i.indexOf("@")?"/@/"+oe(a[l]):""));return s.objKeys(r||{}).forEach(function(n){if(r[n]){var a=r[n],i=oe(ie(n,c)),s=o,l=[];if(u.isObject(a)){var h=W(t.api,i,p);h.get=Z(e,t),h.updates=l,s=de.call(h,a,o),h.updates=null,h.get=null}l.length||l.push({path:i,value:s,replace:u.isUndefined(a.replace)?f:a.replace}),l.forEach(function(r){return e=q(e,t,r)})}}),e}t.initState=function(e){var t=N(e.api.schema),r=t.state,n=t.dataMap,a=void 0===n?[]:n,i=t.defaultValues;r=z(r=s.merge(r,s.setIn({},i,[l,"current"])),e,a);var o=s.getIn(r,l,"current");return K(r=q(r=q(r,e,H([],["inital"],o)),e,H([],["default"],o)),e)},t.setUPDATABLE=T,t.mergeUPD_PROC=K,t.updatePROC=q;var B=function(e){return function(t){return s.getIn(t,"length")===e}},W=s.memoize(function(e,t,r){var n=t.split("@")[0],a=r?r.split("@")[0]:n,i={from:r,to:t,path:n,stateApi:e,updates:[]};return i.api=e.wrapper(i),i.wrapOpts=function(e){return i.updates&&u.isUndefined(e.setExecution)&&(e.setExecution=function(e){return e&&s.push2array(i.updates,e)}),e},i.getData=function(){return i.api.get(a,l)},i});function Z(e,t){return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s.hasIn.apply(s,[t.update].concat(n(a.map(function(e){return ie(e)}))))?s.merge(G.apply(void 0,[e].concat(a)),G.apply(void 0,[t.update].concat(a)),{replace:G.apply(void 0,[t.replace].concat(a))}):G.apply(void 0,[e].concat(a))}}function J(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var a=0;a<e.length;a++)if(s.hasIn.apply(s,[e[a]].concat(r)))return s.getIn.apply(s,[e[a]].concat(r))}function G(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.getIn.apply(s,[e].concat(n(r.map(function(e){return ie(e)}))))}t.getFromState=G;var H=function(e,t,r,n){var a,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return Object.assign((i(a={path:e},l,t),i(a,"value",r),i(a,"replace",n),a),o)};function X(e,t){var r=e.path,n=e.value,a=e.replace,i=e.base,u=o(e,["path","value","replace","base"]),c=[];return oe(r).split(";").forEach(function(e){var r=ie(e,i),o=[],f=r.indexOf(l);~f&&(o=r.slice(f+1),r=r.slice(0,f)),r=Y(r,{"*":function(e){return y(s.getIn(t,e)).join(",")}}),o=Y(o),s.objKeys(r).forEach(function(e){return s.objKeys(o).forEach(function(t){return c.push(H(r[e],o[t],n,a,u))})})}),c}t.makeNUpdate=H,t.string2NUpdate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=[],a=(e=ie(e,t)).indexOf(l);~a&&(n=e.slice(a+1),e=e.slice(0,a));var i=r.value,s=r.replace,u=o(r,["value","replace"]);return H(e,n,i,s,u)},t.normalizeUpdate=X;var Q=function e(t,r){if(u.isUndefined(r))return e._data[t];e._data[t]=r,e._data[r]=t};function Y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={"":[]};return e.forEach(function(e){var n={};"string"==typeof(e=t[e]||e)&&~e.indexOf(",")?s.objKeys(r).forEach(function(t){return e.split(",").forEach(function(e){return n[t&&t+","+e||e]=r[t].concat(e.trim())})}):"function"==typeof e?s.objKeys(r).forEach(function(a){var i=e(r[a]);"string"==typeof i&&(i=se(i)),i=Y(i,t),s.objKeys(i).forEach(function(e){return n[a&&a+(e?","+e:"")||e]=r[a].concat(i[e])})}):s.objKeys(r).forEach(function(t){return s.push2array(r[t],e)}),s.objKeys(n).length&&(r=n)}),r}Q._data={"#":""},Q.sym2str=function(e){return"symbol"!=a(e)||u.isUndefined(Q(e))?e:Q(e)},Q.str2sym=function(e){return"string"!=typeof e||u.isUndefined(Q(e))?e:Q(e)},Q("@",l),t.multiplyPath=Y;var ee=function(e){return"number"==typeof e?e.toString():e};function te(e,t){"#"===e[0]&&(e=e.slice(1)),"#"===t[0]&&(t=t.slice(1));var r,n=[];for(r=0;r<e.length&&ee(e[r])===ee(t[r]);r++);for(var a=r;a<e.length;a++)n.push("..");return n.length||n.push("."),s.push2array(n,t.slice(r))}function re(e,t){if(e===t)return e;for(var r=arguments.length,n=new Array(2<r?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];for(var i=ne(n),o=e,s=0;s<i.length-1;s++){if(o[i[s]]===t)return e;u.isObject(o[i[s]])||(o[i[s]]={}),o=o[i[s]]}return i.length?(o[i[i.length-1]]=t,e):t}function ne(e){if(u.isArray(e)){var t=[];return s.push2array.apply(s,[t].concat(n(e.map(ne)))),t}return"string"==typeof e?se(e):[e]}function ae(e){return u.isMergeable(e)&&"nPath"===s.getIn(e,l)}function ie(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=function(e,t){for(var r=!t||"."!==e[0]&&".."!=e[0]?[]:t.slice(),n=0;n<e.length;n++){var a=e[n];".."===a?r.pop():""!==a&&"."!==a&&r.push(a)}return r}(ne(e),t.length?ne(t):[]);return r[l]="nPath",r}function oe(e){return u.isArray(e)?e.map(oe).join("/"):Q.sym2str(e)}function se(e){e=(e=e.replace(Q(l),"/"+Q(l)+"/")).replace(/\/+/g,"/");var t=[];return e.split("/").forEach(function(e){return e&&(e=Q.str2sym(e.trim()))&&t.push(e)}),t}function ue(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=t.symbol?s.objKeysNSymb:s.objKeys,a=t.arrayAsValue?u.isObject:u.isMergeable;if(!a(e))return[[e]];var i=[];return n(e).forEach(function(n){var o=r.concat(n);a(e[n])?ue(e[n],t,o).forEach(function(e){return i.push(e)}):i.push(s.push2array(o,e[n]))}),i.length?i:[s.push2array(r.slice(),{})]}t.relativePath=te,t.setIfNotDeeper=re,t.isNPath=ae,t.normalizePath=ie,t.path2string=oe,t.string2path=se,t.object2PathValues=ue,t.objMap=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return s.objKeys(e).reduce(function(n,a){return n[a]=t(e[a],r.concat(a)),n},u.isArray(e)?[]:{})};var ce=function(e){return u.isObject(e)&&e.$||u.isFunction(e)&&e._map};function le(e,t){var r=!1;return e=s.toArray(u.isUndefined(e)?[]:e).map(function(e){if(u.isString(e)){var n=0;if("@"==e[0]&&(n=1),"!@"==e.substr(0,2)&&(n=2),"!!@"==e.substr(0,3)&&(n=3),n){r=!0;var a=ie(e.substr(n));return 2==n&&(a[p]="not"),3==n&&(a[p]="doubleNot"),a}}if(ce(e)){var i=le(e.args,t);return i.dataRequest&&(r=!0),i=Object.assign({},e,i),t?t(i):i}return t&&u.isMergeable(e)?t(e):e}),{dataRequest:r,args:e,norm:!0}}function fe(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(t.wrapFn,o(t,["wrapFn"])),n=u.isObject(e)?Object.assign({},e,r):Object.assign({$:e},r);return n.args?Object.assign(n,le(n.args,t.wrapFn)):n.args=["${...}"],n}function pe(e){if(u.isUndefined(e))return[];if(!u.isArray(e))throw new Error("array expected");return e}function he(e,t){var r=s.getIn(e,t);switch(t[p]){case"not":return!r;case"doubleNot":return!!r;default:return r}}function de(e){for(var t=this,r=arguments.length,n=new Array(1<r?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=e.dataRequest?this.getData():null,o=function(e){for(var r=[],a=0;a<e.length;a++){var o=e[a];ae(o)?r.push(he(i,o)):ce(o)?r.push(o._map?o.apply(void 0,n):de.call.apply(de,[t,o].concat(n))):"${...}"==o?r.push.apply(r,n):"${0}"==o?r.push(n[0]):r.push(o)}return r}(e.args),c=s.toArray(e.$).reduce(function(r,n){return u.isFunction(n)?(e.noStrictArrayResult?s.toArray:pe)(n.apply(t,r)):r},o);return e.noStrictArrayResult?s.deArray(c):pe(c)[0]}t.isMapFn=ce,t.normalizeArgs=le,t.normalizeFn=fe,t.processProp=he,t.processFn=de},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}var f=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var p=r(1),h=r(4),d=function(){function e(){u(this,e),this.done=!1,this.vals=[{},{}];var t=this,r=new Promise(function(e,r){t.setFunction(0,e),t.setFunction(1,r)});return r.resolve=t.execFunction.bind(t,0),r.reject=t.execFunction.bind(t,1),r.isPending=function(){return!t.done},r.isResolved=function(){return t.vals[0].done},r.isRejected=function(){return t.vals[1].done},r.result=function(){return t.done&&t.vals[t.vals[0].done?0:1].rest},r}return l(e,[{key:"setFunction",value:function(e,t){var r=this.vals[e];r.func=t,r.done&&t.apply(void 0,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r.rest))}},{key:"execFunction",value:function(e){if(!this.done){this.done=!0;for(var t=this.vals[e],r=arguments.length,n=new Array(1<r?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.rest=n,t.done=!0,this.vals[1-e].done=!1,t.func&&t.func.apply(t,n)}}}]),e}(),m=new WeakMap;t.fformCores=function(e){return m[e]};var v=function(){function e(t){if(u(this,e),this._listeners=[],(t.getState?1:0)+(t.setState?1:0)==1&&new Error('Expected both "getState" and "setState" or none but not only one of them.'),t.store&&!t.name)throw new Error('Expected "name" to be passed together with "store".');var r=this;r.props=t,r.schema=S(t.schema)?t.schema:O(t.elements,t.schema),r.name=t.name||"",r.dispatch=t.store?t.store.dispatch:r._dispatch.bind(r),r._reducer=$(),t.JSONValidator&&(r.JSONValidator=t.JSONValidator(r.schema)),r._getState=r._getState.bind(r),r._setState=r._setState.bind(r),t.setState&&t.store&&(r._unsubscribe=r.props.store.subscribe(r._handleChange.bind(r))),t.name&&(m[t.name]=r),r.UPDATABLE={update:{},replace:{},api:r}}return l(e,[{key:"_dispatch",value:function(e){var t=this;return"function"==typeof e?e(t._dispatch.bind(t)):(t._setState(t._reducer(t._getState()||{},e)),e)}},{key:"_setState",value:function(e){var t=this;e!==t._getState()&&(t.props.setState?t.props.setState(e):t._currentState=e,t.props.store&&t._setStoreState(e),t._listeners.forEach(function(t){return t(e)}))}},{key:"_getState",value:function(){var e=this;return e.props.store?e._getStoreState():e.props.getState?e.props.getState():e._currentState}},{key:"_setStoreState",value:function(e){return this.props.store.dispatch({type:y,state:e,api:this})}},{key:"_getStoreState",value:function(){return this.props.name&&this.props.store.getState()[w()][this.props.name]}},{key:"_handleChange",value:function(){var e=this,t=e._getStoreState();t!==(e.props.getState?e.props.getState():e._currentState)&&e._setState(t)}},{key:"addListener",value:function(e){var t=this;return t._listeners.push(e),t.props.store&&!t._unsubscribe&&(t._unsubscribe=t.props.store.subscribe(t._handleChange.bind(t))),t.delListener.bind(t,e)}},{key:"delListener",value:function(e){var t=this;if(p.isUndefined(e))t._listeners=[];else{var r=t._listeners.indexOf(e);~r&&t._listeners.splice(r,1)}t._listeners.length||!t._unsubscribe||t.props.setState||(t._unsubscribe(),delete t._unsubscribe)}}]),e}(),g=function(e){function t(e){var r,s;u(this,t),s=i(t).call(this,e),(r=!s||"object"!==n(s)&&"function"!=typeof s?o(this):s)._noExec=0,r._updates=[],r._validation=null,r.getState=r._getState,r.noExec=function(){r._noExec++},r.execute=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r._setExecution(null,p.merge(e,{execute:!0}))},r.setState=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=o(r);return n._updates=[],n._newState=e,n._setExecution(null,t)},r.getActive=function(){return r.get(h.SymData,"active")},r.validate=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=o(r);return"boolean"==typeof e?n._validation=e:h.normalizeUpdate({path:e,value:!0},n.getState()).forEach(function(e){return n._validation=h.setIfNotDeeper(n._validation||{},!0,e.path)}),n._setExecution(null,t)},r.get=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.getFromState.apply(h,[r.getState()].concat(t))},r.set=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return r._setExecution([null],n);var a=f(n,[]);return a.path=e,a.value=t,r._setExecution(a,n)},r.getValue=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r.get(h.SymData,e.inital?"inital":"current",e.path||[])},r.setValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.path,i=t.inital,o=t.replace,s=f(t,["path","inital","replace"]);if(null===n)return r._setExecution([null],t);if(~(n=h.normalizePath(n||[]).slice()).indexOf(h.SymData))s.path=n;else{for(var u=r.getState();!p.getIn(u,n)&&n.length;){var c=n.pop();e=a({},c,e),o=a({},c,o)}s.path=[i?"@inital":"@current"].concat(n)}return s.value=e,s.replace=o,r._setExecution(s,t)},r.getDefaultValue=function(){return r.get(h.SymData,"default")},r.switch=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r.set(e,t,Object.assign({},n,{macros:"switch"}))},r.setMessages=function(e,t){var n=t||{},a=n.priority,i=void 0===a?0:a,o=n.group,s=void 0===o?3:o,u=n.path,c=void 0===u?[]:u,l=n.props,d=void 0===l?void 0:l,m=f(n,["priority","group","path","props"]),v="@/messages/"+i+"/texts/"+s;null===e?(r.switch([c,v],[],m),p.isObject(d)&&r.switch([c,"@/messages/"+i],d,m)):h.object2PathValues(e,{arrayAsValue:!0}).forEach(function(e){r.set([c,e,v],e.pop(),m),p.isObject(d)&&r.set([c,e,"@/messages/"+i],d,m)})},r.reset=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.status?r.set(h.normalizePath(t.path||"/"),p.isUndefined(t.value)?h.SymReset:t.value,(a(e={},h.SymData,["status",t.status]),a(e,"macros","switch"),e)):r.setValue(h.SymReset,t)},r.clear=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r.setValue(h.SymClear,e)},r.arrayAdd=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution(Object.assign({path:e,value:t,macros:"array"},n),n)},r.arrayItemOps=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution(Object.assign({path:e,op:t,macros:"arrayItem"},n),n)},r.setHidden=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution([Object.assign({path:[e,"@","/params/hidden"],value:t},n)],n)},r.showOnly=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e=h.normalizePath(e),r._setExecution([Object.assign({path:[e.slice(0,-1),"/*/@/params/hidden"],value:!0},t),Object.assign({path:[e,"@","/params/hidden"],value:!1},t)],t)},r.getSchemaPart=function(e){return e=h.normalizePath(e),h.getSchemaPart(r.schema,e,h.oneOfFromState(r.getState()))};var c=o(r);e.state?c._setState(e.state):c._getState()||c._setState(h.initState(c.UPDATABLE));var l=c._getState();return l[h.SymDataMap]||c._setState(h.rehydrateState(l,c.UPDATABLE)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,v),l(t,[{key:"wrapper",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this,r=function(r){return e[r]||t[r]},n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"./";return t&&h.normalizePath(t,e.path)},a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,a=t.path,i=f(t,["path"]);return null===a?i.path=null:p.isUndefined(a)&&!r||(i.path=n(a||"./")),e.wrapOpts?e.wrapOpts(i):i},i={validate:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"./",t=arguments.length,a=new Array(1<t?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return r("validate").apply(void 0,["boolean"==typeof e?e:n(e)].concat(a))},get:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r("get")(n(t))},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r("setValue")(e,a(t))},bind:function(t){return e=t,i},getValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i.get(h.SymData,e.inital?"inital":"current",n(e.path))},getApi:function(){return t}};return["noExec","setState","getActive","getDefaultValue"].forEach(function(e){return i[e]=function(){return r(e).apply(void 0,arguments)}}),["reset","clear","execute"].forEach(function(e){return i[e]=function(t){for(var n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r(e).apply(void 0,[a(t,!0)].concat(i))}}),["showOnly","getSchemaPart"].forEach(function(e){return i[e]=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length,s=new Array(2<o?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return r(e).apply(void 0,[n(t),a(i)].concat(s))}}),["set","switch","arrayAdd","arrayItemOps","setHidden","showOnly"].forEach(function(e){return i[e]=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length,u=new Array(3<s?s-3:0),c=3;c<s;c++)u[c-3]=arguments[c];return r(e).apply(void 0,[n(t),i,a(o)].concat(u))}}),i}},{key:"_clearActions",value:function(){var e=this;e._newState=void 0,e._defferedTimerId=null,e._validation=null,e._updates=[],e._promise(!0)}},{key:"_execBatch",value:function(e,t,r,n){var a={type:b,state:this._newState,updates:e,api:this,forceValidation:n,opts:t,promises:r};return this._clearActions(),this.dispatch(h.updateState.bind(a)),r}},{key:"_setExecution",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.setExecution)return t.setExecution(e,t);var r=this;e&&p.push2array(r._updates,e),!0===t.force&&0<r._noExec&&r._noExec--;var n=r._promise();return!1===t.execute||r._noExec||(r._defferedTimerId&&clearTimeout(r._defferedTimerId),!0===t.execute?r._execBatch(r._updates,t,n,r._validation):r._defferedTimerId=setTimeout(r._execBatch.bind(r,r._updates,t,n,r._validation),t.execute||0)),n}},{key:"_promise",value:function(e){var t=this;return e&&(t._resultPromises=null),t._resultPromises||(t._resultPromises=new d,t._resultPromises.vAsync=new d),t._resultPromises}}]),t}();t.FFormStateAPI=g;var y="FFROM_SET_STATE";t.anSetState=y;var b="FFROM_UPDATE_STATE",_="fforms";function w(){return _}function $(e){e&&(_=e);var t={};return t[y]=function(e,t){return t.api.props.store?function(e,t,r){if(e[t]===r)return e;var n=Object.assign({},e);return n[t]=r,n}(e,t.api.name,t.state):t.state},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,n=t[r.type];return n?n(e,r):e}}t.getFRVal=w,t.formReducer=$;var O=p.memoize(function(e,t){return function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;if(S(r))return r;var n=r._validators,a=r._stateMaps,i=r._oneOfSelector,o=f(r,["_validators","_stateMaps","_oneOfSelector"]),s=p.isArray(r)?[]:{_compiled:!0},u={noStrictArrayResult:!0};return n&&(s._validators=p.toArray(x(t,n)).map(function(e){return h.normalizeFn(e,u)})),a&&(s._stateMaps=x(t,a)),i&&(s._oneOfSelector=x(t,h.normalizeFn(i,u))),p.objKeys(o).forEach(function(r){if("_"==r.substr(0,1))return s[r]=o[r];switch(r){case"default":case"enum":s[r]=o[r];break;case"definitions":case"properties":case"patternProperties":case"dependencies":s[r]=h.objMap(o[r],e.bind(null,t));break;default:p.isMergeable(o[r])?s[r]=e(t,o[r]):s[r]=o[r]}}),s}(e,t)});function S(e){return p.getIn(e,"_compiled")}function A(e,t,r){if(p.isUndefined(e))throw new Error('Reference "'+t+"\" leads to undefined object's property in path: "+h.path2string(r));return!0}function j(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(!p.isMergeable(t))return t;var n=t.$_ref,a=void 0===n?"":n,i=f(t,["$_ref"]);a=a.split(":");for(var o=[],s=0;s<a.length;s++)if(a[s]){var u=h.string2path(a[s]);if("^"!==u[0])throw new Error("Can reffer only to ^");var c=p.getIn({"^":e},u);A(c,a[s],r.concat("@"+s)),p.isMergeable(c)&&(c=j(e,c,r.concat("@"+s))),o.push(c)}for(var l=p.isArray(t)?[]:{},d=0;d<o.length;d++)l=p.merge(l,o[d]);return p.merge(l,h.objMap(i,j.bind(null,e),r))}function x(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=function(e){return"^/"==e.substr(0,2)},a={"^":e},i=j(e,t),o=p.isArray(i)?[]:{};return p.objKeys(i).forEach(function(t){var s=i[t];p.isString(s)&&n(s.trim())&&(s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return p.deArray(e.split("|").map(function(e,i){e=e.trim(),n(e)?t=e.substr(0,e.lastIndexOf("/")+1):e=t+e;var o=p.getIn(a,h.string2path(e));return A(o,e,r.concat("@"+i)),o}))}(s),"$"!==t&&"_$"!==t.substr(0,2)&&(p.isFunction(s)||p.isArray(s)&&s.every(p.isFunction))&&(s={$:s})),"_$"!==t.substr(0,2)&&p.isMergeable(s)?o[t]=x(e,s,r.concat(t)):o[t]=s}),o}t.objectDerefer=j,t.objectResolver=x},function(e,t,r){"use strict";function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var h=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var d=r(7),m=r(1),v=r(4),g=r(5);t.FFormStateAPI=g.FFormStateAPI,t.fformCores=g.fformCores,t.formReducer=g.formReducer;var y=Symbol("_$cx"),b=r(8);console.log(b);var _=function(e){function t(e,r){var n;o(this,t),(n=c(this,l(t).call(this,e,r)))._methods={onSubmit:null,onChange:null,onStateChange:null},n.wrapFns=I;var a=f(n),i=e.core;console.log("init"),a.api=i instanceof g.FFormStateAPI?i:a._getCoreFromParams(i,r),Object.defineProperty(a,"elements",{get:function(){return a.api.props.elements}}),Object.defineProperty(a,"valid",{get:function(){return a.api.get("/@/status/valid")}}),a.parent=e.parent;var s=Object.assign({},e);return null!==e.touched&&(s.touched=!!s.touched),t.params.forEach(function(t){m.isUndefined(s[t])||(s[t]=function(r){return m.isUndefined(r)?e[t]:r})}),a._updateMethods(e),m.isUndefined(s.value)&&(s.value=s.inital),a._updateValues(s),e.noValidation||a.api.validate(!0),a._unsubscribe=a.api.addListener(a._handleStateUpdate.bind(a)),a._setRootRef=a._setRootRef.bind(a),a._setFormRef=a._setFormRef.bind(a),a._submit=a._submit.bind(a),a._getPath=a._getPath.bind(a),a.reset=a.reset.bind(a),n}return p(t,d.Component),u(t,[{key:"_updateMethods",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};m.objKeys(this._methods).forEach(function(n){t[n]!==e[n]&&(r[n]=e[n])}),Object.assign(this._methods,this.wrapFns(g.objectResolver(this.elements,r),{noStrictArrayResult:!0}))}},{key:"_setRootRef",value:function(e){this._root=e}},{key:"_setFormRef",value:function(e){this._form=e}},{key:"_updateValues",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.state,a=e.value,i=e.inital,o=e.extData,s=e.noValidation,u=e.touched,c=this;n&&n!==r.state&&c.api.setState(n),i&&i!==r.inital&&c.api.setValue(i,{replace:!0,inital:!0,noValidation:s}),a&&a!==r.value&&c.api.setValue(a,{replace:!0,noValidation:s}),o&&o!==r.extData&&m.objKeys(o).forEach(function(e){return c.api.set(e,o[e],{replace:!0})}),m.isUndefined(u)||null===u||u===r.touched||c.api.reset({status:"untouched",value:u?0:void 0}),t.params.forEach(function(t){return!m.isUndefined(e[t])&&e[t]!==r[t]&&c.api.switch("/@/params/"+t,e[t])})}},{key:"_handleStateUpdate",value:function(e){var t=this;t._savedState!=e&&(t._savedState=e,t._methods.onStateChange&&t._methods.onStateChange(e,t),e[v.SymData].current!==t._savedValue&&(t._savedValue=e[v.SymData].current,t._methods.onChange&&t._methods.onChange(t._savedValue,t)),t._root&&t._root.setState({branch:e}))}},{key:"_submit",value:function(e){var t,r=this,n=function(e){return r.api.set([],e,i({},v.SymData,["status","pending"]))};if(r.api.set([],0,(i(t={},v.SymData,["status","untouched"]),i(t,"execute",!0),i(t,"macros","switch"),t)),r._methods.onSubmit){r.api.setMessages(null,{execute:!0});var a=r._methods.onSubmit(e,r._savedValue,r);a&&a.then&&"function"==typeof a.then?(n(1),a.then(function(e){n(0),r.api.setMessages(e)},function(e){n(0),r.api.setMessages(e)})):r.api.setMessages(a)}}},{key:"_getCoreFromParams",value:function(e,t){return m.isUndefined(e.store)&&t.store?new g.FFormStateAPI(m.merge(e,{store:t.store})):new g.FFormStateAPI(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this;t.parent=e.parent;var r=e.core,n=!1;return r instanceof g.FFormStateAPI&&t.api!==r&&(t._unsubscribe(),t.api=r,t._unsubscribe=t.api.addListener(t._handleStateUpdate.bind(t)),n=!0),t._updateMethods(e,t.props),t._updateValues(e,t.props),n||!m.isEqual(t.props,e,{skipKeys:["core","state","value","inital","extData","fieldCache","flatten","noValidate","parent","onSubmit","onChange","onStateChange"]})}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"getRef",value:function(e){return this._root&&this._root.getRef(e)}},{key:"_getPath",value:function(){return"#"}},{key:"getDataObject",value:function(e,t){return m.getIn(e,v.SymData)}},{key:"getValue",value:function(e,t){return v.isSelfManaged(e)?m.getIn(e,v.SymData,"value"):this.api.getValue({path:t.path})}},{key:"getBranch",value:function(e){return this.api.get(e)}},{key:"reset",value:function(e){e&&e.preventDefault(),this.api.reset()}},{key:"submit",value:function(){this._form.dispatchEvent(new Event("submit"))}},{key:"render",value:function(){var e=this,r=e.props,n=(r.core,r.state,r.value,r.inital,r.extData,r.fieldCache,r.touched,r.parent,r.onSubmit,r.onChange,r.onStateChange,r._$useTag),a=void 0===n?e.elements.widgets.Form||"form":n,i=h(r,["core","state","value","inital","extData","fieldCache","touched","parent","onSubmit","onChange","onStateChange","_$useTag"]);return t.params.forEach(function(e){return delete i[e]}),m.objKeys(i).forEach(function(e){return("_"===e[0]||"$"===e[0])&&delete i[e]}),d.createElement(a,Object.assign({ref:e._setFormRef},i,{onSubmit:e._submit,onReset:e.reset}),d.createElement($,{ref:e._setRootRef,id:i.id?i.id+"/#":void 0,name:e.api.name,pFForm:e,getPath:e._getPath,FFormApi:e.api}))}}]),t}();_.params=["readonly","disabled","viewer","liveValidate","liveUpdate"],t.FForm=_;var w=function(e){function t(e,r){var n;o(this,t),(n=c(this,l(t).call(this,e,r))).$refs={};var a=f(n);return a._setRef=a._setRef.bind(a),n}return p(t,d.Component),u(t,[{key:"getRef",value:function(e){var t=this;return e.length?1!=e.length||t.$refs[e[0]].getRef?t.$refs[e[0]]&&t.$refs[e[0]].getRef&&t.$refs[e[0]].getRef(e.slice(1)):t.$refs[e[0]]:t}},{key:"_setRef",value:function(e){var t=this;return function(r){return t.$refs[e]=r}}},{key:"_refProcess",value:function(e,t){return!0===t?this._setRef(e):m.isString(t)?this._setRef(t):m.isMergeable(t)?v.objMap(t,this._refProcess.bind(this,e)):t}}]),t}(),$=function(e){function t(e,r){var n;o(this,t),(n=c(this,l(t).call(this,e,r)))._mappedData={},n._builderData={},n._rebuild=!0,n._blocks=[],n._maps={},n._forceUpd=!1,n.get=null,n.wrapFns=I;var a=f(n);return Object.defineProperty(a,"path",{get:function(){return a.props.getPath()}}),Object.defineProperty(a,"pFForm",{get:function(){return a.props.pFForm}}),Object.defineProperty(a,"liveValidate",{get:function(){return m.getIn(a.getData(),"params","liveValidate")}}),Object.defineProperty(a,"liveUpdate",{get:function(){return m.getIn(a.getData(),"params","liveUpdate")}}),Object.defineProperty(a,"value",{get:function(){return a.props.pFForm.getValue(a.state.branch,a)}}),Object.defineProperty(a,"stateApi",{get:function(){return a.props.pFForm.api}}),a.state={branch:a.pFForm.getBranch(a.path)},a.$branch=a.state.branch,a._updateStateApi(e.pFForm.api),n}return p(t,w),u(t,[{key:"getRef",value:function(e){var t=this;return(e=v.normalizePath(e)).length?1==e.length&&e[0]==v.SymData?t:"@"==e[0][0]?1==e.length?t.$refs[e[0]]:t.$refs[e[0]].getRef(e.slice(1)):t.$refs["@Main"]&&t.$refs["@Main"].getRef&&t.$refs["@Main"].getRef(e):t.$refs["@Main"]}},{key:"_resolver",value:function(e){try{return g.objectResolver(this.pFForm.elements,e)}catch(e){throw this._addErrPath(e)}}},{key:"_addErrPath",value:function(e){return e.message=e.message+", in form '"+(this.pFForm.props.name||"")+"', path: '"+this.path+"'",e}},{key:"_updateStateApi",value:function(e){var t=this;if(e){var r=e.wrapper({get path(){return t.path}});r._set=r.set,r._setValue=r.setValue,r.set=function(){return t._cacheValue(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],"set",arguments.length<=2?void 0:arguments[2])||r._set.apply(r,arguments)},r.setValue=function(){return t._cacheValue(((arguments.length<=1?void 0:arguments[1])||{}).path,arguments.length<=0?void 0:arguments[0],"setValue",arguments.length<=1?void 0:arguments[1])||r._setValue.apply(r,arguments)},t.api=r}}},{key:"_updateCachedValue",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.liveUpdate||this._forceUpd,t=this;t._cachedTimeout=void 0,e&&t._cached&&(t.stateApi.setValue(t._cached.value,Object.assign({noValidation:!t.liveValidate&&!t._forceUpd,path:t.path},t._cached.opts)),t._forceUpd=!1,t._cached=void 0)}},{key:"_cacheValue",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"set",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=this,i=a.pFForm.props.fieldCache;(m.isUndefined(i)||!0===i)&&(i=40);var o="setValue"===r&&(!e||"./"==e||"."==e);if(!o){var s=a.path;o=(e="#/"+v.path2string(v.normalizePath(e,a.path))+("setValue"===r?"/@/value":""))==s+"/@/value"||e=="#/@/current/"+s.slice(2)}if(o){var u=a.getData();if(a._cached={value:t,opts:n},i){a._cachedTimeout&&clearTimeout(a._cachedTimeout),a._cachedTimeout=setTimeout(a._updateCachedValue.bind(a),i);var c=a.getData(),l=a._mappedData;a.get=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=v.normalizePath(t,a.path);return m.isEqual(n,v.normalizePath("./@value",a.path))?c.value:a.stateApi.get(n)},a._setMappedData(u,c,!0),a.get=null,l!=a._mappedData&&a.forceUpdate()}else a._updateCachedValue();return!0}}},{key:"_build",value:function(){var e=this;e.state={branch:e.pFForm.getBranch(e.path)},e.$branch=e.state.branch;var t=e.api.getSchemaPart(e.path);if(e.schemaPart=t,e._isNotSelfManaged=!v.isSelfManaged(e.state.branch)||void 0,(m.isArray(t.type)||m.isUndefined(t.type))&&!t._presets)throw new Error("schema._presets should be defined explicitly for multi type");e._layout=e.wrapFns(F(e.pFForm.elements,t._layout));var r=F(e.pFForm.elements,t._custom,t._presets||t.type),n=k(r=e.wrapFns(r)),a=n.$_maps,i=n.rest;e._maps=M(a),e._widgets={},e._components=i,e._blocks=m.objKeys(i).filter(function(e){return i[e]}),e._blocks.forEach(function(t){var r=i[t],n=r._$widget,a=r.$_reactRef,o=h(r,["_$widget","$_reactRef"]);if(!n)throw new Error('_$widget for "'+t+'" is empty');if(e._widgets[t]=n,a){var s=e._refProcess("@"+t,a);o[m.isFunction(s)?"ref":"$_reactRef"]=s}e._mappedData[t]=o}),e._setMappedData(void 0,e.getData(),"build"),e._rebuild=!1}},{key:"_setMappedData",value:function(e,t,r){var n=this,a=n.getData;n.getData=function(){return t};var i=D(n._mappedData,e,t,"build"==r&&n._maps.build,r&&n._maps.data,n._maps.every);return n.getData=a,n._mappedData!=i&&(n._mappedData=i,!0)}},{key:"getData",value:function(e){var t=this,r=t.pFForm.getDataObject(e||m.getIn(t,"state","branch"),t);return t._cached?m.merge(r,{value:t._cached.value},{replace:{value:t._cached.opts.replace}}):r}},{key:"shouldComponentUpdate",value:function(e,t){var r=this;if(e.FFormApi!==r.props.FFormApi)return r._updateStateApi(e.FFormApi),r._rebuild=!0;if(!m.isEqual(e,r.props))return r._rebuild=!0;if(m.isUndefined(t.branch))return!0;r.$branch=t.branch;var n=!1,a=r.getData(),i=r.getData(m.getIn(t,"branch"));if(m.getIn(i,"oneOf")!==m.getIn(a,"oneOf"))return r._rebuild=!0;try{n=(n=r._setMappedData(a,i,i!==a)||n)||m.getIn(i,"params","norender")!==m.getIn(a,"params","norender")}catch(e){throw r._addErrPath(e)}return n}},{key:"render",value:function(){var e=this;try{return m.isUndefined(e.state.branch)?null:!m.getIn(e.getData(),"params","norender")&&(e._rebuild&&this._build(),e._widgets.Builder?d.createElement(e._widgets.Builder,e._mappedData.Builder,e._mappedData):null)}catch(t){throw e._addErrPath(t)}}}]),t}(),O=function(e){function t(){return o(this,t),c(this,l(t).apply(this,arguments))}return p(t,d.Component),u(t,[{key:"_cn",value:function(e){return e&&this.props._$cx&&e.className&&!m.isString(e.className)?P(this.props._$widget)?Object.assign({_$cx:this.props._$cx},e):Object.assign({},e,{className:this.props._$cx(e.className)}):e}},{key:"render",value:function(){var e=this._cn(this.props.getMappedData());return d.createElement(this.props._$widget,e,this.props.children||e.children)}}]),t}(),S=function(e){function t(e,r){var n;o(this,t),(n=c(this,l(t).call(this,e,r)))._arrayStart=0,n._rebuild=!0,n._focusField="",n._arrayKey2field={},n._widgets={},n._objectLayouts=[],n._arrayLayouts=[],n._maps={},n._mappedData={},n._isArray=!1;var a=f(n);return a._setWidRef=function(e){return function(t){return a._widgets[e]=t}},n}return p(t,w),u(t,[{key:"_getMappedData",value:function(e){var t=this;return function(){return t._mappedData[e]}}},{key:"_build",value:function(e){function t(e,t){var n=k(t,["$_fields"]),a=n.$_maps,i=n.rest,o=i.$_fields,s=i.$_reactRef,c=i._$widget,f=void 0===c?u:c,d=i.className,v=h(i,["$_fields","$_reactRef","_$widget","className"]);!o&&e||(d=m.merge(l,d)),v.className=d;var g=r._refProcess("@widget_"+e,s)||{};m.isFunction(g)&&(g={ref:g}),Object.assign(v,g);var y=M(a,e.toString());return p.forEach(function(e){var t;return(t=r._maps[e]).push.apply(t,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(y[e]))}),r._mappedData[e]=v,{_$widget:f,$_fields:o}}var r=this,n=e.$branch,a=e.$layout,i=e._$cx,o=e.arrayStart,s=e.LayoutDefaultWidget,u=void 0===s?"div":s,c=e.LayoutDefaultClass,l=void 0===c?{}:c,f=(e.uniqKey,e.focusField),p=["build","data","every"];p.forEach(function(e){return r._maps[e]=[]}),r.$refs={},r._widgets={},r._mappedData={},r._objectLayouts=[];var v={keys:r._getObjectKeys(n),counter:1};r._focusField=f||v.keys[0]||"";var g=t(0,m.isArray(a)?{$_fields:a}:a),y=g._$widget,b=g.$_fields;if(r._$widget=y,b&&(r._objectLayouts=function e(n,a){var o=[];return a.forEach(function(a){if(n.keys,n.counter,m.isString(a)){var s=n.keys.indexOf(a);~s&&(o.push(r._makeFField(a)),n.keys.splice(s,1))}else if(m.isObject(a)){var u=n.counter++,c=t(u,a),l=c._$widget,f=c.$_fields;o.push(d.createElement(O,{_$widget:l,_$cx:i,key:"widget_"+u,ref:r._setWidRef(u),getMappedData:r._getMappedData(u)},f&&e(n,f)))}}),o}(v,b)),v.keys.forEach(function(e){return r._objectLayouts.push(r._makeFField(e))}),r._arrayLayouts=[],r._arrayKey2field={},r.props.isArray)for(var _=o;_<r.props.length;_++){var w=r._arrayIndex2key(n[_]);r._arrayLayouts.push(r._makeFField(_.toString(),w)),w&&(r._arrayKey2field[w]=_)}r._mappedData=r._updateMappedData(void 0,r._getData(n),"build"),r._rebuild=!1}},{key:"_makeFField",value:function(e,t){var r=this;return d.createElement($,{ref:r._setRef(t||e),key:t||e,pFForm:r.props.$FField.pFForm,FFormApi:r.props.FFormApi,id:r.props.id?r.props.id+(t||e):void 0,name:r.props.name?r.props.name+"["+(r.props.isArray?"${idx}_"+(t||e):e)+"]":void 0,getPath:t?r._getArrayPath.bind(r,t):r._getObjectPath.bind(r,e)})}},{key:"_arrayIndex2key",value:function(e){return this.props.uniqKey?m.getIn(this._getData(e),v.string2path(this.props.uniqKey)):void 0}},{key:"_getObjectKeys",value:function(e){var t=[];if(this.props.isArray)for(var r=0;r<this.props.arrayStart;r++)t.push(r.toString());else t=v.branchKeys(e);return t}},{key:"_getObjectPath",value:function(e){return this.props.$FField.path+"/"+e}},{key:"_getArrayPath",value:function(e){return this.props.$FField.path+"/"+this._arrayKey2field[e]}},{key:"_getArrayField",value:function(e){return this._arrayLayouts[e-this.props.arrayStart]}},{key:"_reorderArrayLayout",value:function(e,t,r){for(var n=this,a=[],i=!1,o=r.arrayStart;o<r.length;o++){var s=n._arrayIndex2key(t[o]);if(m.isUndefined(s))throw new Error("no unique key provided for array item");n.$refs[s]&&n.$refs[s].setState({branch:t[o]});var u=n._arrayKey2field[s];n._arrayKey2field[s]!==o&&(n._arrayKey2field[s]=o,i=!0),a.push(m.isUndefined(u)?n._makeFField(o.toString(),s):n._getArrayField(u))}return n._arrayLayouts.length!==a.length&&(i=!0),i&&(n._arrayLayouts=a),i}},{key:"_updateMappedData",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e!==t;return D(this._mappedData,e,t,"build"==r&&this._maps.build,r&&this._maps.data,this._maps.every)}},{key:"_getData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.$branch;return this.props.$FField.getData(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(e.FFormApi!==t.props.FFormApi||e.oneOf!==t.props.oneOf)return t._rebuild=!0;var r=!m.isEqual(e,t.props,{skipKeys:["$branch"]}),n=t.props.$branch,a=e.$branch;if(n!=a){var i;try{i=t._updateMappedData(t._getData(n),t._getData(a))}catch(e){throw t.props.$FField._addErrPath(e)}if(i!=t._mappedData){var o=t._mappedData;t._mappedData=i,m.objKeys(i).forEach(function(e){return t._widgets[e]&&i[e]!=o[e]&&t._widgets[e].forceUpdate()})}t._getObjectKeys(a).forEach(function(e){return a[e]!==n[e]&&t.$refs[e]&&t.$refs[e].setState({branch:a[e]})}),t.props.isArray&&(r=t._reorderArrayLayout(n,a,e)||r)}return r}},{key:"getRef",value:function(e){if(!this.props.isArray||isNaN(parseInt(e[0]))||e[0]<this.props.arrayStart)return n(l(t.prototype),"getRef",this).call(this,e);var r=this._getArrayField(e[0]);return r&&this.$refs[r.key].getRef(e.slice(1))}},{key:"render",value:function(){var e=this,t=e.props;try{if(t.viewer){var r=t.viewerProps||{},n=r._$widget,a=void 0===n?j:n,i=h(r,["_$widget"]);return i.inputProps=t,i.value=t.$FField.value,d.createElement(a,i)}return v.isSelfManaged(t.$branch)?null:(e._rebuild&&e._build(t),d.createElement(O,{_$widget:e._$widget,_$cx:t._$cx,key:"widget_0",ref:e._setWidRef(0),getMappedData:e._getMappedData(0)},e._objectLayouts,e._arrayLayouts))}catch(t){throw e.props.$FField._addErrPath(t)}}}]),t}(),A=function(e){function t(e,r){return o(this,t),c(this,l(t).call(this,e,r))}return p(t,w),u(t,[{key:"_newWidget",value:function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=r._$widget,i=void 0===a?t:a,o=r.className,s=r.$_reactRef,u=h(r,["_$widget","className","$_reactRef"]),c=this._refProcess(e,s)||{};return m.isFunction(c)&&(c={ref:c}),m.isFunction(n)?c.ref=n:Object.assign(c,n),d.createElement(i,Object.assign({key:e,className:!P(i)&&this.props._$cx?this.props._$cx(o):o,_$cx:P(i)?this.props._$cx:void 0},u,c))}},{key:"_mapChildren",value:function(e,t){var r=this;if(e!==r._children||r._reactRef!==t){var n=r._children&&m.toArray(r._children),a=e&&m.toArray(e);r._mapped=a&&a.map(function(e,i){return!m.isObject(e)||e.$$typeof?e:r._mapped&&m.getIn(r._mapped,i)&&n[i]===a[i]&&m.getIn(r._reactRef,i)===m.getIn(t,i)?r._mapped[i]:r._newWidget(i,e,m.getIn(t,i))}),r._children=e,r._reactRef=t}}},{key:"setRef2rest",value:function(e,t){return t&&m.objKeys(t).filter(function(e){return isNaN(+e)}).forEach(function(r){return e[r]=t[r]}),e}},{key:"render",value:function(){var e=this;if(e.props.norender)return null;var t=e.props,r=t._$useTag,n=void 0===r?"div":r,a=t._$cx,i=t.className,o=t.$_reactRef,s=t.children,u=h(t,["_$useTag","_$cx","className","$_reactRef","children"]);return e._mapChildren(s,o),e.setRef2rest(u,o),d.createElement(n,Object.assign({children:e._mapped,className:a?a(i):i},u))}}]),t}();function j(e){var t=e._$useTag,r=void 0===t?"div":t,n=e.value,a=(e.inputProps,e._$cx),i=e.enumExten,o=void 0===i?{}:i,s=e.emptyMock,u=void 0===s?"(none)":s,c=h(e,["_$useTag","value","inputProps","_$cx","enumExten","emptyMock"]);return c.className&&a&&(c.className=a(c.className)),d.createElement(r,c,function e(t){var r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;return r=a,(m.isMergeable(r)?0===m.objKeys(r).length:null==r||""===r)?t:m.isArray(a)?a.map(e.bind(null,t,n)).join(", "):(a=C(n,a).label||a,m.isString(a)?a:JSON.stringify(a))}(u,o,n))}var x=function(e){function t(){return o(this,t),c(this,l(t).apply(this,arguments))}return p(t,A),u(t,[{key:"render",value:function(){var e=this.props;if(e.viewer){var t=e.viewerProps||{},r=t._$widget,n=void 0===r?j:r,a=h(t,["_$widget"]);return a.inputProps=e,a.value=e.value,d.createElement(n,a)}var i=e.value,o=e._$useTag,s=e.type,u=e.$_reactRef,c=e._$cx,l=(e.viewer,e.viewerProps,e.children),f=h(e,["value","_$useTag","type","$_reactRef","_$cx","viewer","viewerProps","children"]);return this._mapChildren(l,u),this.setRef2rest(f,u),"textarea"==s||"select"==s?o=o||s:(o=o||"input","notInput"!==s&&(f.type=s)),"notInput"!==s&&(f["checkbox"===s?"checked":"value"]=i),f.className&&c&&(f.className=c(f.className)),d.createElement(o,f,this._mapped)}}]),t}(),E=function(e){function t(){return o(this,t),c(this,l(t).apply(this,arguments))}return p(t,d.Component),u(t,[{key:"componentDidMount",value:function(){var e,t=this;try{e=window&&window.getComputedStyle(this.props.$FField.$refs["@Main"])}catch(e){}e&&this._elem&&["fontSize","fontFamily","fontWeight","fontStyle","letterSpacing"].forEach(function(r){return t._elem.style[r]=e[r]})}},{key:"render",value:function(){var e=this,r=e.props,n=(m.isUndefined(r.value)||null===r.value?"":r.value.toString())||r.placeholder||"";return d.createElement("div",{style:t.sizerStyle,ref:function(t){(e._elem=t)&&r.$FField.$refs["@Main"]&&r.$FField.$refs["@Main"].style&&(r.$FField.$refs["@Main"].style.width=Math.max(t.scrollWidth+(r.addWidth||45),r.minWidth||0)+"px")}},n)}}]),t}();function I(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=I.bind(this);if(m.isFunction(e)&&(e={$:e}),v.isMapFn(e)){var n=e.norm?e:v.normalizeFn(e,Object.assign({},t,{wrapFn:r})),a=v.processFn.bind(this,n);return a._map=n,a}if(m.isMergeable(e)){var i=m.isArray(e)?[]:{};//!~ignore.indexOf(key) &&
return m.objKeys(e).forEach(function(n){return i[n]="_$"!=n.substr(0,2)?r(e[n],t):e[n]}),i}return e}function P(e){return e instanceof A}E.sizerStyle={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"};var F=m.memoize(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if(r){var n=r.split(":").map(function(e){return(e=e.trim())&&("^"!=e[0]?"^/sets/"+e:e)}).join(":")+":"+(t.$_ref||"");t=m.merge(t,{$_ref:n})}return g.objectResolver(e,t)});function k(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=e.$_maps,n=h(e,["$_maps"]);r=Object.assign({},r);var a=m.isArray(e)?[]:{};return m.objKeys(n).forEach(function(e){if(m.isMergeable(n[e])&&!~t.indexOf(e)){var i=k(n[e],t);a[e]=i.rest,m.objKeys(i.$_maps).forEach(function(t){return r[e+"/"+t]=i.$_maps[t]})}else a[e]=n[e]}),{$_maps:r,rest:a}}function M(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r={data:[],every:[],build:[]};return m.objKeys(e).forEach(function(n){var a=e[n];if(a){var i=v.multiplyPath(v.normalizePath((t?t+"/":"")+n));if(m.isFunction(a)||m.isArray(a))m.toArray(a).forEach(function(e){var t=e._map,n=t.update,a=void 0===n?"data":n,o=t.replace,s=void 0===o||o,u=h(t,["update","replace"]);r[a].push(Object.assign({update:a,replace:s},u,{to:i,$:e}))});else{m.isString(a)&&(a={args:a});var o=a=Object.assign({},a,v.normalizeArgs(a.args)),s=o.args,u=o.update,c=void 0===u?"data":u,l=o.replace,f=void 0===l||l,p=h(a,["args","update","replace"]);r.data.push(Object.assign({args:s[0],update:c,replace:f,to:i,dataRequest:!0},p))}}}),r}//!map.$ && map.args[0] == 'selectorValue' && args[0]
function D(e,t,r){for(var n={update:{},replace:{},api:{}},a=arguments.length,i=new Array(3<a?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return i.forEach(function(a){return a&&a.forEach(function(a){if("data"!=a.update||function e(n){return m.isUndefined(t)||!n.$||n.dataRequest&&n.args.some(function(n){return v.isNPath(n)?m.getIn(t,n)!==m.getIn(r,n):!!v.isMapFn(n)&&e(n._map||n)})}(a)){var i=a.$?a.$():v.processProp(r,a.args);m.objKeys(a.to).forEach(function(e){return v.setUPDATABLE(n,i,a.replace,a.to[e])}),a.replace||(e=v.mergeUPD_PROC(e,n))}})}),v.mergeUPD_PROC(e,n)}t.extractMaps=k,t.normalizeMaps=M,t.updateProps=D;var C=function(e,t){var r=m.isFunction(e)?e(t):m.getIn(e,t);return r&&m.isString(r)&&(r={label:r}),m.isObject(r)?r:{}};function R(){for(var e=this,t=arguments,r=[],n=function(n){var i=n<0||t.length<=n?void 0:t[n];if(!i)return"continue";var o=a(i);"string"===o||"number"===o?r.push(e&&e[i]||i):m.isArray(i)?r.push(R.apply(e,i)):"object"===o&&m.objKeys(i).forEach(function(t){i[t]&&("number"==typeof i[t]||!0===i[t]?r.push(e&&e[t]||t):r.push(R.call(e,i[t])))})},i=0;i<arguments.length;i++)n(i);return r.join(" ")}t.classNames=R;var U=i({extend:function(e,t){var r=m.merge.all(this,e,t);return this["_$cx.bind"]!==r["_$cx.bind"]&&(r=m.merge(r,{_$cx:r["_$cx.bind"]?this[y].bind(r["_$cx.bind"]):this[y]})),r},widgets:{Section:S,Generic:A,Input:x,Autowidth:E,Builder:function(e){var t=e.children,r=e.widgets,n=r.Title,a=r.Body,i=r.Main,o=r.Message,s=r.Wrapper,u=r.Autowidth;return t=m.deArray(t),s?d.createElement(s,t.Wrapper,n?d.createElement(n,t.Title):"",a?d.createElement(a,t.Body,i?d.createElement(i,t.Main):"",o?d.createElement(o,t.Message):"",u?d.createElement(u,t.Autowidth):""):""):""},Wrapper:function(e){var t=e._$useTag,r=void 0===t?"div":t,n=e._$cx,a=void 0===n?R:n,i=e.className,o=e.ArrayItemMenu,s=e.ArrayItemBody,u=e.arrayItem,c=h(e,["_$useTag","_$cx","className","ArrayItemMenu","ArrayItemBody","arrayItem"]),l=s||{},f=l._$widget,p=void 0===f?"div":f,m=l.className,v=void 0===m?{}:m,g=h(l,["_$widget","className"]),y=o||{},b=y._$widget,_=void 0===b?"div":b,w=y.className,$=void 0===w?{}:w,O=h(y,["_$widget","className"]),S=d.createElement(r,Object.assign({className:a?a(i):i},c));return u?d.createElement(p,Object.assign({className:a?a(v):v},g),S,d.createElement(_,Object.assign({className:a&&a($)},O))):S},ItemMenu:function(e){var t=e._$useTag,r=void 0===t?"div":t,n=e._$buttonDefaults,a=void 0===n?{}:n,i=e._$cx,o=e.disabled,s=e.className,u=e.buttonsProps,c=void 0===u?{}:u,l=e.arrayItem,f=e.buttons,p=void 0===f?[]:f,m=e.onClick,v=h(e,["_$useTag","_$buttonDefaults","_$cx","disabled","className","buttonsProps","arrayItem","buttons","onClick"]);return l?(p.forEach(function(e){return delete v[e]}),d.createElement(r,Object.assign({className:i(s)},v),p.map(function(e){var t=Object.assign({},a,c[e]||{}),r=t._$widget,n=void 0===r?"button":r,s=t.type,u=void 0===s?"button":s,f=t.disabledCheck,p=void 0===f?"":f,v=t.className,g=void 0===v?{}:v,y=t.onClick,b=void 0===y?m:y,_=t.title,w=void 0===_?e:_,$=t.children,O=void 0===$?e:$,S=h(t,["_$widget","type","disabledCheck","className","onClick","title","children"]);return d.createElement(n,Object.assign({key:e,type:u,title:w,className:i?i(g):g,children:O,disabled:o||p&&!l[p]},S,{onClick:function(){return b(e)}}))}))):null},CheckboxNull:function(e){var t=e.checked,r=e.onChange,n=e.nullValue,a=void 0===n?null:n,i=e.dual,o=e.tagRef,s=(e.type,h(e,["checked","onChange","nullValue","dual","tagRef","type"]));return d.createElement("input",Object.assign({type:"checkbox",checked:!0===t},s,{onChange:function(e){r(i?!t:t===a||!0!==t&&a,e)},ref:function(e){o&&o(e),e&&(e.indeterminate=t===a)}}))}},sets:{base:{Wrapper:{_$widget:"^/widgets/Wrapper",ArrayItemMenu:{$_ref:"^/parts/ArrayItemMenu"},_$cx:"^/_$cx",$_maps:{"className/fform-hidden":"@/params/hidden",arrayItem:"@/arrayItem"}},Builder:{_$widget:"^/widgets/Builder",_$cx:"^/_$cx",$_maps:{widgets:{$:"^/fn/getProp",args:["_widgets"],update:"build"}}},Body:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",className:"fform-body"},Message:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",children:[],$_maps:{children:{$:"^/fn/messages",args:["@/messages",{}]},"className/fform-hidden":{$:"^/fn/not",args:"@/status/touched"}}}},simple:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Input",_$cx:"^/_$cx",$_reactRef:{ref:!0},viewerProps:{_$cx:"^/_$cx",emptyMock:"(no value)",className:{"fform-viewer":!0}},onChange:{$:"^/fn/eventValue|setValue"},onBlur:{$:"^/fn/blur"},onFocus:{$:"^/fn/focus"},$_maps:{value:{$:"^/fn/iif",args:[{$:"^/fn/equal",args:["@value",null]},"","@value"]},viewer:"@/params/viewer",autoFocus:"@/params/autofocus",readOnly:"@/params/readonly",disabled:"@/params/disabled",placeholder:"@/fData/placeholder",required:"@/fData/required",label:"@/fData/title","viewerProps/enumExten":"@/fData/enumExten",id:{$:"^/fn/getProp",args:"props/id",update:"build"},name:{$:"^/fn/getProp",args:"props/name",update:"build"},"className/fform-input-priority":{$:"^/fn/setInputPriority",args:"@/status/priority"}}},Title:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"label",children:[],$_maps:{"className/fform-required":"@/fData/required","children/0":"@/fData/title","className/fform-hidden":{$:"^/fn/not",args:"@/fData/title"},htmlFor:{$:"^/fn/getProp",args:["id"],update:"build"},"className/fform-title-viewer":"@/params/viewer"}}},string:{$_ref:"^/sets/simple",Main:{type:"text"}},textarea:{$_ref:"^/sets/simple",Main:{type:"textarea",viewerProps:{className:{"fform-viewer":!1,"fform-viewer-inverted":!0}}},Title:{$_maps:{"className/fform-fform-title-viewer-inverted":"@/params/viewer"}}},integer:{$_ref:"^/sets/simple",Main:{type:"number",onChange:{$:"^/fn/eventValue|parseNumber|setValue",args:["${0}",!0,0]}}},integerNull:{$_ref:"^/sets/integer",Main:{onChange:{args:{2:null}}}},number:{$_ref:"^/sets/integer",Main:{onChange:{args:{1:!1}},step:"any"}},numberNull:{$_ref:"^/sets/integerNull",Main:{onChange:{args:{1:!1,2:null}},step:"any"}},null:{$_ref:"^/sets/simple",Main:!1},boolean:{$_ref:"^/sets/simple",Main:{type:"checkbox",onChange:{$:"^/fn/eventChecked|setValue|liveUpdate"}}},booleanLeft:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Generic",_$useTag:"label",_$cx:"^/_$cx",$_reactRef:{0:{ref:!0}},children:[{$_ref:"^/sets/simple/Main:^/sets/boolean/Main",$_reactRef:!1,viewerProps:{_$useTag:"span"}},{$_ref:"^/sets/simple/Title",_$useTag:"span",$_maps:{"className/fform-hidden":"@/params/viewer"}}]},Title:{$_ref:"^/sets/simple/Title",$_maps:{"className/fform-hidden":{$:"^/fn/not",args:"@/params/viewer"}}}},booleanNull:{$_ref:"^/sets/boolean",Main:{_$useTag:"^/widgets/CheckboxNull",$_reactRef:{tagRef:!0},onChange:{$:"^/fn/setValue|liveUpdate",args:["${0}"]}}},booleanNullLeft:{$_ref:"^/sets/booleanLeft",Main:{$_reactRef:{0:{ref:null,tagRef:!0}},children:[{$_ref:"^/sets/booleanNull/Main"},{}]}},object:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Section",_$cx:"^/_$cx",$_reactRef:!0,uniqKey:"params/uniqKey",LayoutDefaultClass:"layout",LayoutDefaultWidget:"div",viewerProps:{$_ref:"^/sets/simple/Main/viewerProps"},$_maps:{length:"@/length",oneOf:"@/oneOf",isArray:{$:"^/fn/equal",args:["@/fData/type","array"]},$branch:{$:"^/fn/getProp",args:"$branch",update:"every"},arrayStart:{$:"^/fn/getArrayStart",args:[],update:"build"},$FField:{$:"^/fn/getProp",args:[],update:"build"},FFormApi:{$:"^/fn/getProp",args:"props/pFForm/api",update:"build"},id:{$:"^/fn/getProp",args:"props/id",update:"build"},name:{$:"^/fn/getProp",args:"props/name",update:"build"},$layout:{$:"^/fn/getProp",args:"_layout",update:"build"}}},Title:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"legend",children:[{$_ref:"^/sets/simple/Title",_$useTag:"span"},{$_ref:"^/parts/ArrayAddButton"},{$_ref:"^/parts/ArrayDelButton"},{$_ref:"^/parts/ArrayEmpty"}]},Wrapper:{_$useTag:"fieldset"}},array:{$_ref:"^/sets/object"},select:{$_ref:"^/sets/simple",Main:{type:"select",children:[],onChange:{$:"^/fn/eventValue|liveUpdate|setValue"},$_maps:{children:{$:"^/fn/arrayOfEnum",args:["@/fData/enum","@/fData/enumExten",{_$widget:"option"}],replace:!1},label:!1}}},multiselect:{$_ref:"^/sets/select",Main:{multiple:!0,onChange:{$:"^/fn/eventMultiple|setValue|liveUpdate"}}},radio:{$_ref:"^/sets/base",Title:{$_ref:"^/sets/simple/Title"},Main:{$_ref:"^/parts/RadioSelector",$_reactRef:!0,viewerProps:{$_ref:"^/sets/simple/Main/viewerProps"},$_maps:{value:"@/value",viewer:"@/params/viewer",children:[{args:["@/fData/enum","@/fData/enumExten",{$_reactRef:{$_reactRef:{0:{ref:!0}}}},{onChange:{args:["${0}"]}},{},!0]},{args:["@/fData/enum","@/value"]},{args:{0:"@/fData/enum"}}]}}},checkboxes:{$_ref:"^/sets/radio",Main:{$_maps:{children:{0:{args:{3:{type:"checkbox",onChange:{$:"^/fn/eventCheckboxes|setValue|liveUpdate"}},5:"[]"}}}}}},$radioNull:{Main:{$_maps:{children:{0:{args:{3:{onClick:"^/fn/eventValue|radioClear|liveUpdate"}}}}}}},$radioEmpty:{Main:{$_maps:{children:{0:{args:{3:{onClick:{$:"^/fn/eventValue|radioClear|liveUpdate",args:["${0}",""]}}}}}}}},$autowidth:{Autowidth:{$_ref:"^/parts/Autowidth"},Wrapper:{className:{"fform-shrink":!0}}},$noArrayControls:{Wrapper:{$_maps:{arrayItem:!1}}},$noArrayButtons:{Title:{$_ref:"^/sets/simple/Title"}},$inlineItems:{Main:{className:{"fform-inline":!0}}},$inlineTitle:{Wrapper:{className:{"fform-inline":!0}}},$inlineLayout:{Main:{LayoutDefaultClass:{"fform-inline":!0}}},$inlineArrayControls:{Wrapper:{ArrayItemBody:{className:{"fform-inline":!0}}}},$arrayControls3but:{Wrapper:{ArrayItemMenu:{buttons:["up","down","del"]}}},$noTitle:{Title:!1},$shrink:{Wrapper:{className:{"fform-shrink":!0}}},$expand:{Wrapper:{className:{"fform-expand":!0}}},$password:{Main:{type:"password"}}},fn:{api:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=this.api)[e].apply(t,n)},format:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(e,t,r){return e.replace("${"+r+"}",t)},e)},iif:function(e,t,r){for(var n=arguments.length,a=new Array(3<n?n-3:0),i=3;i<n;i++)a[i-3]=arguments[i];return[e?t:r].concat(a)},not:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[!e].concat(r)},equal:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[r.some(function(t){return e===t})]},getArrayStart:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[v.arrayStart(this.schemaPart)].concat(t)},getProp:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[m.getIn(this,v.normalizePath(e))].concat(r)},eventValue:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[e.target.value].concat(r)},eventChecked:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[e.target.checked].concat(r)},eventMultiple:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return[Array.from(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value})].concat(r)},parseNumber:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length,a=new Array(3<n?n-3:0),i=3;i<n;i++)a[i-3]=arguments[i];return[""===e?r:(t?parseInt:parseFloat)(e)].concat(a)},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.api.setValue(e,t);for(var r=arguments.length,n=new Array(2<r?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return n},focus:function(e){this.api.set("/@/active",this.path,{noValidation:!0});for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r},blur:function(){var e;this.api.set("./",-1,(i(e={},v.SymData,["status","untouched"]),i(e,"noValidation",!0),i(e,"macros","setStatus"),e)),this.api.set("/@/active",void 0,{noValidation:!0}),this._updateCachedValue(!0),!this.liveValidate&&this.api.validate("./");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r},liveUpdate:function(){this._forceUpd=!0;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},eventCheckboxes:function(e){var t=(this.getData().value||[]).slice(),r=e.target.value,n=t.indexOf(r),a=t.slice();-1==n?a.push(r):a.splice(n,1);var i=this.getData().fData.enum;a.sort(function(e,t){return i.indexOf(e)>i.indexOf(t)});for(var o=arguments.length,s=new Array(1<o?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return[a].concat(s)},radioClear:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.api.getValue()===e&&this.api.setValue(t);for(var r=arguments.length,n=new Array(2<r?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return n},messages:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.className,n=void 0===r?{}:r,a=h(t,["className"]);return[m.objKeys(e).map(function(t){var r=e[t],o=r.norender,s=r.texts,u=r.className,c=void 0===u?{}:u,l=h(r,["norender","texts","className"]),f=[];return m.objKeys(s).forEach(function(e){return m.toArray(s[e]).forEach(function(e,t,r){return m.isString(e)&&m.isString(f[f.length-1])?f.push(e,{_$widget:"br"}):f.push(e)})}),o||!f.length?null:Object.assign({children:f},a,{className:Object.assign(i({},"fform-message-priority-"+t,!0),n,c)},l)})]},arrayOfEnum:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length?arguments[3]:void 0;return[t.map(function(t){var i=C(r,t);return Object.assign({key:t,children:[i.label||t],name:a&&e.name+(!0===a?"":a)},i,n,{value:t})})]},enumInputs:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=5<arguments.length?arguments[5]:void 0;return[t.map(function(t){var s=C(r,t);return Object.assign({key:t},n,{children:[Object.assign({name:o&&e.props.name+(!0===o?"":o)},m.merge(a,s),{value:t}),Object.assign({},i,{children:[s.label||t]})]})})]},enumInputProps:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t={},r=arguments.length,n=new Array(1<r?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i+=2)t[n[i]]=n[i+1];return[e.map(function(e){return{children:{0:t}}})]},enumInputValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"checked";return t=m.toArray(t),[e.map(function(e){return{children:{0:i({},r,!!~t.indexOf(e))}}})]},setInputPriority:function(e){return"number"==typeof e?["fform-input-priority-"+e]:[!1]}},parts:{RadioSelector:{_$widget:"^/widgets/Input",_$cx:"^/_$cx",_$useTag:"div",type:"notInput",children:[],$_maps:{value:"@/selector/value",children:[{$:"^/fn/enumInputs",args:["@/selector/enum","@/selector/enumExten",{_$useTag:"label",_$cx:"^/_$cx"},{_$widget:"input",type:"radio",onChange:{$:"^/fn/eventValue|setValue|liveUpdate",args:["${0}",{path:"./@/selector/value"}]},onBlur:"^/sets/simple/Main/onBlur",onFocus:"^/sets/simple/Main/onFocus"},{_$useTag:"span",_$cx:"^/_$cx"},!0],replace:!1},{$:"^/fn/enumInputValue",args:["@/selector/enum","@/selector/value"],replace:!1},{$:"^/fn/enumInputProps",args:["@/selector/enum","readOnly","@/params/readonly","disabled","@/params/disabled"],replace:!1}]}},Autowidth:{_$widget:"^/widgets/Autowidth",addWidth:35,minWidth:60,$_maps:{value:"value",placeholder:"@/params/placeholder","className/fform-hidden":"@/params/hidden",$FField:{$:"^/fn/getProp",args:[],update:"build"}}},Button:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"button",type:"button",$_maps:{"className/fform-button-viewer":"@/params/viewer",disabled:"@/params/disabled"}},Submit:{$_ref:"^/parts/Button",type:"submit",children:["Submit"]},Reset:{$_ref:"^/parts/Button",type:"reset",children:["Reset"],$_maps:{disabled:"@/status/pristine"}},ArrayAddButton:{$_ref:"^/parts/Button",children:["+"],onClick:{$:"^/fn/api",args:["arrayAdd","./",1]},$_maps:{"className/fform-hidden":{$:"^/fn/equal | ^/fn/not",args:["@/fData/type","array"]},disabled:{$:"^/fn/equal",args:[!0,{$:"^/fn/not",args:"@/fData/canAdd"},"@params/disabled"]}}},ArrayDelButton:{$_ref:"^/parts/Button",children:["-"],onClick:{$:"^/fn/api",args:["arrayAdd","./",-1]},$_maps:{"className/fform-hidden":{$:"^/fn/equal | ^/fn/not",args:["@/fData/type","array"]},disabled:{$:"^/fn/equal",args:[!0,{$:"^/fn/not",args:"@/length"},"@params/disabled"]}}},ArrayEmpty:{children:"(array is empty)",_$useTag:"span",$_maps:{"className/fform-hidden":{$:"^/fn/equal | ^/fn/not",args:["@/length",0]}}},ArrayItemMenu:{_$widget:"^/widgets/ItemMenu",_$cx:"^/_$cx",buttons:["first","last","up","down","del"],onClick:{$:"^/fn/api",args:["arrayItemOps","./","${0}"]},buttonsProps:{first:{disabledCheck:"canUp"},last:{disabledCheck:"canDown"},up:{disabledCheck:"canUp"},down:{disabledCheck:"canDown"},del:{disabledCheck:"canDel"}},$_maps:{arrayItem:"@/arrayItem","className/fform-button-viewer":"@/params/viewer",disabled:"@params/disabled"}},Expander:{_$widget:"div",className:{"fform-expand":!0}}},_$cx:R},y,R);t.elements=U},function(e,t){e.exports=d},function(e,t,r){"use strict";var n=e.exports.Validator=r(9);e.exports.ValidatorResult=r(0).ValidatorResult,e.exports.ValidationError=r(0).ValidationError,e.exports.SchemaError=r(0).SchemaError,e.exports.SchemaScanResult=r(3).SchemaScanResult,e.exports.scan=r(3).scan,e.exports.validate=function(e,t,r){return(new n).validate(e,t,r)}},function(e,t,r){"use strict";var n=r(2),a=r(17),i=r(0),o=r(3).scan,s=i.ValidatorResult,u=i.SchemaError,c=i.SchemaContext,l=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(p),this.attributes=Object.create(a.validators)};function f(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=o(t||"/",e),a=t||e.id;for(var i in n.id)this.schemas[i]=n.id[i];for(var i in n.ref)this.unresolvedRefs.push(i);return this.unresolvedRefs=this.unresolvedRefs.filter(function(e){return void 0===r.schemas[e]}),this.schemas[a]},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,r,a){r||(r={});var i=r.propertyName||"instance",s=n.resolve(r.base||"/",t.id||"");if(!a){(a=new c(t,r,i,s,Object.create(this.schemas))).schemas[s]||(a.schemas[s]=t);var l=o(s,t);for(var f in l.id){var p=l.id[f];a.schemas[f]=p}}if(t){var h=this.validateSchema(e,t,r,a);if(!h)throw new Error("Result undefined");return h}throw new u("no schema specified",t)},l.prototype.validateSchema=function(e,t,r,n){var o,l=new s(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var p={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,p)),t=p.schema,p.schema=null,p.ctx=null,p=null}else t=i.deepMerge(t,this.superResolve(t.extends,n));if(o=f(t)){var h=this.resolve(t,o,n),d=new c(h.subschema,r,n.propertyPath,h.switchSchema,n.schemas);return this.validateSchema(e,h.subschema,r,d)}var m=r&&r.skipAttributes||[];for(var v in t)if(!a.ignoreProperties[v]&&m.indexOf(v)<0){var g=null,y=this.attributes[v];if(y)g=y.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new u("Unsupported attribute: "+v,t);g&&l.importErrors(g)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,e,t,r,n);l.instance=b}return l},l.prototype.schemaTraverser=function(e,t){e.schema=i.deepMerge(e.schema,this.superResolve(t,e.ctx))},l.prototype.superResolve=function(e,t){var r;return(r=f(e))?this.resolve(e,r,t).subschema:e},l.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var a=n.parse(t),o=a&&a.hash,s=o&&o.length&&t.substr(0,t.length-o.length);if(!s||!r.schemas[s])throw new u("no such schema <"+t+">",e);var c=i.objectGetPath(r.schemas[s],o.substr(1));if(void 0===c)throw new u("no such schema "+o+" located in <"+s+">",e);return{subschema:c,switchSchema:t}},l.prototype.testType=function(e,t,r,n,a){if("function"==typeof this.types[a])return this.types[a].call(this,e);if(a&&"object"==typeof a){var i=this.validateSchema(e,a,r,n);return void 0===i||!(i&&i.errors.length)}return!0};var p=l.prototype.types={};p.string=function(e){return"string"==typeof e},p.number=function(e){return"number"==typeof e&&isFinite(e)},p.integer=function(e){return"number"==typeof e&&e%1==0},p.boolean=function(e){return"boolean"==typeof e},p.array=function(e){return Array.isArray(e)},p.null=function(e){return null===e},p.date=function(e){return e instanceof Date},p.any=function(e){return!0},p.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},e.exports=l},function(e,t,r){(function(e,n){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var s,u=2147483647,c=36,l=1,f=26,p=38,h=700,d=72,m=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,$=Math.floor,O=String.fromCharCode;function S(e){throw new RangeError(_[e])}function A(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function j(e,t){var r=e.split("@"),n="";return 1<r.length&&(n=r[0]+"@",e=r[1]),n+A((e=e.replace(b,".")).split("."),t).join(".")}function x(e){for(var t,r,n=[],a=0,i=e.length;a<i;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function E(e){return A(e,function(e){var t="";return 65535<e&&(t+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+O(e)}).join("")}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var n=0;for(e=r?$(e/h):e>>1,e+=$(e/t);w*f>>1<e;n+=c)e=$(e/w);return $(n+(w+1)*e/(e+p))}function F(e){var t,r,n,a,i,o,s,p,h,g,y,b=[],_=e.length,w=0,O=m,A=d;for((r=e.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)128<=e.charCodeAt(n)&&S("not-basic"),b.push(e.charCodeAt(n));for(a=0<r?r+1:0;a<_;){for(i=w,o=1,s=c;_<=a&&S("invalid-input"),y=e.charCodeAt(a++),(c<=(p=y-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)||p>$((u-w)/o))&&S("overflow"),w+=p*o,!(p<(h=s<=A?l:A+f<=s?f:s-A));s+=c)o>$(u/(g=c-h))&&S("overflow"),o*=g;A=P(w-i,t=b.length+1,0==i),$(w/t)>u-O&&S("overflow"),O+=$(w/t),w%=t,b.splice(w++,0,O)}return E(b)}function k(e){var t,r,n,a,i,o,s,p,h,g,y,b,_,w,A,j=[];for(b=(e=x(e)).length,t=m,i=d,o=r=0;o<b;++o)(y=e[o])<128&&j.push(O(y));for(n=a=j.length,a&&j.push(v);n<b;){for(s=u,o=0;o<b;++o)t<=(y=e[o])&&y<s&&(s=y);for(s-t>$((u-r)/(_=n+1))&&S("overflow"),r+=(s-t)*_,t=s,o=0;o<b;++o)if((y=e[o])<t&&++r>u&&S("overflow"),y==t){for(p=r,h=c;!(p<(g=h<=i?l:i+f<=h?f:h-i));h+=c)A=p-g,w=c-g,j.push(O(I(g+A%w,0))),p=$(A/w);j.push(O(I(p,0))),i=P(r,_,n==a),r=0,++n}++r,++t}return j.join("")}s={version:"1.4.1",ucs2:{decode:x,encode:E},decode:F,encode:k,toASCII:function(e){return j(e,function(e){return y.test(e)?"xn--"+k(e):e})},toUnicode:function(e){return j(e,function(e){return g.test(e)?F(e.slice(4).toLowerCase()):e})}},void 0===(a=function(){return s}.call(t,r,t,e))||(e.exports=a)}()}).call(this,r(11)(e),r(12))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(SU,TU){var UU;UU=function(){return this}();try{UU=UU||Function("return this")()||eval("this")}catch(e){"object"==typeof window&&(UU=window)}SU.exports=UU},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(15),t.encode=t.stringify=r(16)},function(e,t,r){"use strict";e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var u,c,l=e.length;0<s&&s<l&&(l=s);for(var f=0;f<l;++f){var p,h,d,m,v=e[f].replace(o,"%20"),g=v.indexOf(r);h=0<=g?(p=v.substr(0,g),v.substr(g+1)):(p=v,""),d=decodeURIComponent(p),m=decodeURIComponent(h),u=i,c=d,Object.prototype.hasOwnProperty.call(u,c)?n(i[d])?i[d].push(m):i[d]=[i[d],m]:i[d]=m}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),function(o){var s=encodeURIComponent(n(o))+r;return a(e[o])?i(e[o],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[o]))}).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(0),a=n.ValidatorResult,i=n.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},s=o.validators={};function u(e,t,r,n,a){var i=t.throwError;t.throwError=!1;var o=this.validateSchema(e,a,t,r);return t.throwError=i,!o.valid&&n instanceof Function&&n(o),o.valid}function c(e,t,r,n,a,i){if(this.types.object(e)&&(!t.properties||void 0===t.properties[a]))if(!1===t.additionalProperties)i.addError({name:"additionalProperties",argument:a,message:"additionalProperty "+JSON.stringify(a)+" exists in instance when not allowed"});else{var o=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,a,o,r,n);var s=this.validateSchema(e[a],o,r,n.makeChild(o,a));s.instance!==i.instance[a]&&(i.instance[a]=s.instance),i.importErrors(s)}}s.type=function(e,t,r,n){if(void 0===e)return null;var i=new a(e,t,r,n),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,r,n))){var s=o.map(function(e){return e.id&&"<"+e.id+">"||e+""});i.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return i},s.anyOf=function(e,t,r,n){if(void 0===e)return null;var o=new a(e,t,r,n),s=new a(e,t,r,n);if(!Array.isArray(t.anyOf))throw new i("anyOf must be an array");if(!t.anyOf.some(u.bind(this,e,r,n,function(e){s.importErrors(e)}))){var c=t.anyOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});r.nestedErrors&&o.importErrors(s),o.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return o},s.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new i("allOf must be an array");var o=new a(e,t,r,n),s=this;return t.allOf.forEach(function(t,a){var i=s.validateSchema(e,t,r,n);if(!i.valid){var u=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+a+"]";o.addError({name:"allOf",argument:{id:u,length:i.errors.length,valid:i},message:"does not match allOf schema "+u+" with "+i.errors.length+" error[s]:"}),o.importErrors(i)}}),o},s.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new i("oneOf must be an array");var o=new a(e,t,r,n),s=new a(e,t,r,n),c=t.oneOf.filter(u.bind(this,e,r,n,function(e){s.importErrors(e)})).length,l=t.oneOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==c&&(r.nestedErrors&&o.importErrors(s),o.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),o},s.properties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n),o=t.properties||{};for(var s in o){"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,s,o[s],r,n);var u=Object.hasOwnProperty.call(e,s)?e[s]:void 0,c=this.validateSchema(u,o[s],r,n.makeChild(o[s],s));c.instance!==i.instance[s]&&(i.instance[s]=c.instance),i.importErrors(c)}return i}},s.patternProperties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n),o=t.patternProperties||{};for(var s in e){var u=!0;for(var l in o)if(new RegExp(l).test(s)){u=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,s,o[l],r,n);var f=this.validateSchema(e[s],o[l],r,n.makeChild(o[l],s));f.instance!==i.instance[s]&&(i.instance[s]=f.instance),i.importErrors(f)}u&&c.call(this,e,t,r,n,s,i)}return i}},s.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var i=new a(e,t,r,n);for(var o in e)c.call(this,e,t,r,n,o,i);return i}},s.minProperties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},s.maxProperties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},s.items=function(e,t,r,n){var i=this;if(this.types.array(e)&&t.items){var o=new a(e,t,r,n);return e.every(function(e,a){var s=Array.isArray(t.items)?t.items[a]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=i.validateSchema(e,s,r,n.makeChild(s,a));return u.instance!==o.instance[a]&&(o.instance[a]=u.instance),o.importErrors(u),!0}),o}},s.minimum=function(e,t,r,n){if(this.types.number(e)){var i=new a(e,t,r,n);return(t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum)||i.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),i}},s.maximum=function(e,t,r,n){if(this.types.number(e)){var i=new a(e,t,r,n);return(t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum)||i.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),i}};var l=function(e,t,r,o,s,u){if(this.types.number(e)){var c=t[s];if(0==c)throw new i(s+" cannot be zero");var l=new a(e,t,r,o),f=n.getDecimalPlaces(e),p=n.getDecimalPlaces(c),h=Math.max(f,p),d=Math.pow(10,h);return Math.round(e*d)%Math.round(c*d)!=0&&l.addError({name:s,argument:c,message:u+JSON.stringify(c)}),l}};function f(e,t,r){var a,i=r.length;for(a=t+1;a<i;a++)if(n.deepCompareStrict(e,r[a]))return!1;return!0}s.multipleOf=function(e,t,r,n){return l.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,r,n){return l.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,r,n){var i=new a(e,t,r,n);return void 0===e&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===e[t]&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),i},s.pattern=function(e,t,r,n){if(this.types.string(e)){var i=new a(e,t,r,n);return e.match(t.pattern)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),i}},s.format=function(e,t,r,i){if(void 0!==e){var o=new a(e,t,r,i);return o.disableFormat||n.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},s.minLength=function(e,t,r,n){if(this.types.string(e)){var i=new a(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},s.maxLength=function(e,t,r,n){if(this.types.string(e)){var i=new a(e,t,r,n),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},s.minItems=function(e,t,r,n){if(this.types.array(e)){var i=new a(e,t,r,n);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},s.maxItems=function(e,t,r,n){if(this.types.array(e)){var i=new a(e,t,r,n);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},s.uniqueItems=function(e,t,r,i){if(this.types.array(e)){var o=new a(e,t,r,i);return e.every(function(e,t,r){for(var a=t+1;a<r.length;a++)if(n.deepCompareStrict(e,r[a]))return!1;return!0})||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.uniqueItems=function(e,t,r,n){if(this.types.array(e)){var i=new a(e,t,r,n);return e.every(f)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},s.dependencies=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n);for(var o in t.dependencies)if(void 0!==e[o]){var s=t.dependencies[o],u=n.makeChild(s,o);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach(function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})});else{var c=this.validateSchema(e,s,r,u);i.instance!==c.instance&&(i.instance=c.instance),c&&c.errors.length&&(i.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),i.importErrors(c))}}return i}},s.enum=function(e,t,r,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new i("enum expects an array",t);var s=new a(e,t,r,o);return t.enum.some(n.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,r,i){if(void 0===e)return null;var o=new a(e,t,r,i);return n.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},s.not=s.disallow=function(e,t,r,n){var i=this;if(void 0===e)return null;var o=new a(e,t,r,n),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach(function(a){if(i.testType(e,t,r,n,a)){var s=a&&a.id&&"<"+a.id+">"||a;o.addError({name:"not",argument:s,message:"is of prohibited type "+s})}}),o):null},e.exports=o}])},"object"==typeof exports&&"object"==typeof module?module.exports=c(require("React")):"function"==typeof define&&define.amd?define(["React"],c):"object"==typeof exports?exports.fform=c(require("React")):b.fform=c(b.React);