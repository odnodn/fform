var e,t;e=window,t=function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return void 0===e};t.isUndefined=i,t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return"number"==typeof e&&(Math.floor(e)===e||9007199254740992<e||e<-9007199254740992)},t.isString=function(e){return"string"==typeof e};var o=Array.isArray;t.isArray=o,t.isObject=function(e){return u(e)&&!o(e)};var s=function(e){return"function"==typeof e};function u(e){return e&&"object"===(void 0===e?"undefined":a(e))&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}t.isFunction=s,t.toArray=function(e){return o(e)?e:[e]},t.deArray=function(e,t){return!t&&o(e)&&1==e.length?e[0]:e},t.isMergeable=u;var c=Object.keys;t.objKeys=c;var l=function(e){return c(e).concat(Object.getOwnPropertySymbols(e))};t.objKeysNSymb=l;var f="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":void 0===e?"undefined":a(e)};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];for(var i=0;i<r.length;i++)o(r[i])?e.push.apply(e,n(r[i])):e.push(r[i]);return e}function h(){for(var e=[],t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var n=0;n<r.length-1;n++)d(e,r[n]);var i=r[r.length-1];return e.length?g({},i,e):i}function v(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(0<r.length)for(var n=0;n<r.length;n++)for(var s=o(r[n])?r[n]:[r[n]],u=0;u<s.length;u++)if(!i(s[u])){try{if(!e.hasOwnProperty(s[u]))return!1}catch(e){return!1}e=e[s[u]]}return!0}function g(e,t){for(var r=e,a=void 0,n=arguments.length,s=Array(2<n?n-2:0),c=2;c<n;c++)s[c-2]=arguments[c];if(0<s.length)for(var l=0;l<s.length;l++)for(var f=o(s[l])?s[l]:[s[l]],p=0;p<f.length;p++)i(f[p])||(i(a)||(u(r[a])||(r[a]={}),r=r[a]),a=f[p]);return i(a)?t:(r[a]=t,e)}function y(e){for(var t=e,r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];for(var s=0;s<a.length;s++){var c=a[s];"function"==typeof c&&(c=c(t)),o(c)||(c=[c]);for(var l=0;l<c.length;l++){if(!u(t))return;i(c[l])||(t=t[c[l]])}}return t}function m(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=r.noSymbol?c:l,n=r.SymbolDelete,i=r.del,f=r.diff,d=r.replace,h=r.arrays,v=d;return"function"!=typeof v&&(v=u(d)?function(e){return y(d,e)}:function(){return!1}),!0===d||!0===v([],e,t)?{state:t,changes:e!==t?t:void 0}:(s(h)||(h=void 0),function e(t,r){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],c={},l=o(r);u(t)||o(t=l?[]:{})&&(c.length=0);var d=o(t);if(!u(r))return{state:t};d&&l&&(h&&(r=h(t,r,s)),t.length!=r.length&&(c.length=r.length));var g=a(t);if(0==g.length&&!i){if(!d&&!l)return a(r).length?{state:r,changes:r}:{state:t};if(d&&l)return t.length==r.length&&0==r.length?{state:t}:a(r).length||r.length!==t.length?{state:r,changes:r}:{state:t}}var y=a(r),m={},_=d?[]:{};f&&g.forEach(function(e){~y.indexOf(e)||(c[e]=n)}),y.forEach(function(a){if(i&&r[a]===n)t.hasOwnProperty(a)&&(c[a]=n);else{var o=s.concat(a);if(u(r[a])&&u(t[a])&&!0!==v(o,t[a],r[a])){if(t[a]!==r[a]){var l=e(t[a],r[a],o);l.changes&&(m[a]=l)}}else t.hasOwnProperty(a)&&p(t[a],r[a])||(c[a]=r[a])}});var b=a(m),$=a(c);return 0==$.length&&0==b.length?{state:t}:(Object.assign(_,t),$.forEach(function(e){i&&c[e]===n||f&&!r.hasOwnProperty(e)?delete _[e]:_[e]=c[e]}),b.forEach(function(e){_[e]=m[e].state,c[e]=m[e].changes}),{state:_,changes:c})}(e,t))}t.isEqual=function e(t,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(p(t,r))return!0;if("object"!==(i(t)?"undefined":f(t))||null===t||"object"!==(i(r)?"undefined":f(r))||null===r)return!1;var n=a.symbol?l:c,o=n(t),s=n(r);if(o.length!==s.length)return!1;for(var u=a.skipKeys,d=void 0===u?[]:u,h=a.deepKeys,v=void 0===h?[]:h,g=0;g<o.length;g++)if(!~d.indexOf(o[g]))if(a.deep||~v.indexOf(o[g])){if(!e(t[o[g]],r[o[g]],a))return!1}else if(!r.hasOwnProperty(o[g])||!p(t[o[g]],r[o[g]]))return!1;return!0},t.asNumber=function(e){if(""===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;var t=Number(e),r="number"==typeof t&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:r?t:e},t.memoize=function(e){return e.cache=new Map,function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var n=[r.length].concat(r),i=e.cache,o=n.pop(),s=0;s<n.length;s++)i.has(n[s])||i.set(n[s],new Map),i=i.get(n[s]);return i.has(o)||i.set(o,e.apply(this,r)),i.get(o)}},t.push2array=d,t.moveArrayElems=function(e,t,r){var a=e.length;a&&(t=(t%a+a)%a,r=(r%a+a)%a);for(var n=e[t],i=t;i<r;i++)e[i]=e[i+1];for(var o=t;r<o;o--)e[o]=e[o-1];return e[r]=n,e},t.makeSlice=h,t.hasIn=v,t.setIn=g,t.delIn=function e(t,r){if(!r.length)return t;var a="string"==typeof r[0]?r[0].split(","):[r[0]],n=r.slice(1);if(n.length)a.forEach(function(r){var a=void 0;u(t[r])&&(a=e(t[r],n)),a&&a!==t[r]&&(t=_(_(t,h(r,void 0)),h(r,a)))});else{for(var i=0;i<a.length;i++)if(t.hasOwnProperty(a[i])){t=Object.assign({},t);break}for(var o=0;o<a.length;o++)delete t[a[o]]}return t},t.getIn=y,t.getCreateIn=function(e,t){for(var r=arguments.length,a=Array(2<r?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return v.apply(void 0,[e].concat(a))||g.apply(void 0,[e,t].concat(a)),y.apply(void 0,[e].concat(a))},t.mergeState=m;var _=function(e,t){return m(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).state};(t.merge=_).all=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return 0==t.length?e:t.reduce(function(e,t){return _(e,t,r)},e)}},function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),u=r(0),c=r(2),l=Symbol.for("FFormData");t.SymData=l;var f=Symbol.for("FFormDataMapTree"),p=Symbol.for("FFormDataMap");t.SymDataMap=p;var d=Symbol.for("FFormReset");t.SymReset=d;var h=Symbol.for("FFormClear");t.SymClear=h;var v=void 0;t.SymDelete=v;var g=["null","boolean","integer","number","string","array","object"];(t.types=g).any=function(){return!0},g.null=function(e){return null===e},g.boolean=function(e){return"boolean"==typeof e},g.number=u.isNumber,g.integer=u.isInteger,g.string=u.isString,g.array=u.isArray,g.object=u.isObject,g.empty={any:null,null:null,boolean:!1,number:0,integer:0,string:"",array:Object.freeze([]),object:Object.freeze({})};var y={};function m(e){var t=[];if(F(e))return t;if("array"==e[l].fData.type)for(var r=0;r<s.getIn(e,l,"length");r++)t.push(r.toString());else t=s.objKeys(e).filter(function(e){return e});return t}y.array=function(e,t,r,n){var i=n,c=i.path,f=(i.macros,i.value,l),p=(i[f],o(i,["path","macros","value","symbol"===(void 0===f?"undefined":a(f))?f:f+""])),d=J([r.update,e],c,l,"length");if(!u.isNumber(d))return e;if(u.isArray(n.value)){for(var h=[],v={},g=0;g<n.value.length;g++)h[d+g]=n.value[g],v[d+g]=s.getIn(n.replace,g);return h.length=d+n.value.length,U(e,r,h,v,c,n.setOneOf)}return(d+=n.value||1)<0&&(d=0),B(e,r,Q(c,["length"],d,!1,p))},y.arrayItem=function(e,t,r,a){var n=a.path,o=a.op,c=a.value||0,p=parseInt(n.pop()),d=p,v=w(S(t,n,b(e))),g=J([r.update,e],n,l,"length")-1;"up"==o&&d--,"down"==o&&d++,"first"==o&&(d=v),"last"!=o&&"del"!=o||(d=g),"move"==o&&(d=c),"shift"==o&&(d+=c),d<v&&(d=v),g<d&&(d=g);var y={},m={},_={},$=[];$[0]=s.getIn(r.update,n),$[1]=s.getIn(r.update,l,"current",n),$[2]=s.getIn(r.replace,n),$[3]=s.getIn(r.replace,l,"current",n);for(var O=function(t){y[t]=s.getIn(e,n,t),m[t]=y[t][l].arrayItem,_[t]=s.getIn(e,l,"current",n,t),$.forEach(function(e){return u.isMergeable(e)&&!e.hasOwnProperty(t)&&(e[t]=h)})},A=Math.min(p,d);A<=Math.max(p,d);A++)O(A);y=s.moveArrayElems(y,p,d),_=s.moveArrayElems(_,p,d);var j=function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=s.getIn(t,f,l)||[],n=a.map(function(e){return s.merge(e,{emitter:r})}),o=a.length?i({},f,i({},l,[])):void 0;return s.objKeys(t).forEach(function(i){var u=void 0;t[i]&&(u=e(t[i],r.concat(i)),s.push2array(a,u.maps2disable),s.push2array(n,u.maps2enable),u.clearBinded&&(o||(o={}),o[i]=u.clearBinded))}),{maps2disable:a,maps2enable:n,clearBinded:o}}(y,n),I=j.maps2disable,E=j.maps2enable,x=j.clearBinded;return x&&(y=s.merge(y,x)),$.forEach(function(e){if(u.isMergeable(e)){s.moveArrayElems(e,p,d);for(var t=Math.min(p,d);t<=Math.max(p,d);t++)e[t]===h&&delete e[t]}}),s.objKeys(y).forEach(function(e){y[e]=s.merge(y[e],s.makeSlice(l,"arrayItem",m[e]),{replace:s.makeSlice(l,"arrayItem",!0)})}),e=s.merge(e,s.makeSlice(n,y),{replace:z(a.path.length+1)}),e=s.merge(e,s.makeSlice(l,"current",n,_),{replace:z(a.path.length+3)}),"del"==o&&(e=B(e,r,Q(n,["length"],g))),e=q(e=q(e=K(e,r),r,I,!0),r,E)},y.switch=function(e,t,r,a){var n=a[l]||[];return ue(s.makeSlice(n,a.value)).forEach(function(n){return e=function e(t,r,a,n){var i=s.getIn(t,n.path),o=m(i);if(n.value==d&&"status"==n[l][0]){var u=Object.assign({},n);u.value="untouched"==n[l][1]?F(i)?1:o.length:0,t=B(t,a,u)}else t=B(t,a,n);return o.forEach(function(i){return t=e(t,r,a,s.merge(n,{path:n.path.concat(i)}))}),t}(e,t,r,Q(a.path,n,n.pop()))}),e},y.setExtraStatus=function(e,t,r,a){var n=a[l]||[],i=J([r.update,e],a.path,l,n),o=0<a.value;return!i==o&&(e=B(e,r,Q(a.path,n,o)),e=y.setStatus(e,t,r,Q(a.path,["status",n[n.length-1]],o?1:-1))),e},y.setStatus=function(e,t,r,a){var n=a[l]||[];if(2<n.length)return y.setExtraStatus(e,t,r,a);var i=n[1];if(!i)return e;if("valid"==i||"pristine"==i||"touched"==i)throw new Error('Setting "'+i+'" directly is not allowed');var o=J([r.update,e],a.path,l,n),s=F(e,a.path);if("untouched"==i&&0==o&&!s)return e;var u,c=o+a.value;return s&&1<c&&(c=1),c<0&&(c=0),e=B(e,r,Q(a.path,["status",i],c)),0==(u=a.path).length||1==u.length&&"#"==u[0]||!o==!c||(e=y.setStatus(e,t,r,Q(a.path.slice(0,-1),n,0<c?1:-1))),e},y.setCurrent=function(e,t,r,a){return U(e,r,a.value,a.replace,a.path,a.setOneOf)},y.setOneOf=function(e,t,r,a){if(s.getIn(e,a.path,l,"oneOf")==a.value)return u.isUndefined(a.setValue)||(e=U(e,r,a.setValue,!1,a.path)),e;a.macros;var n=o(a,["macros"]);return n[l]=["oneOf"],u.isUndefined(n.setValue)&&(e=K(e,r),n.setValue=s.getIn(e,l,"current",a.path)),B(e,r,n)},t.branchKeys=m;var _=s.memoize(function(e){return{}});function b(e){return function(t){var r=s.getIn(u.isFunction(e)?e():e,t,l);return{oneOf:s.getIn(r,"oneOf"),type:s.getIn(r,"fData","type")}}}function $(e,t){"function"==typeof e&&(e=e());var r={},a=r;s.setIn(a,s.getIn(e,l,"oneOf"),l,"oneOf"),s.setIn(a,s.getIn(e,l,"fData","type"),l,"type");for(var n=0;n<t.length;n++)u.isUndefined(t[n])||""===t[n]||(a[t[n]]={},a=a[t[n]],e=s.getIn(e,t[n]),s.setIn(a,s.getIn(e,l,"oneOf"),l,"oneOf"),s.setIn(a,s.getIn(e,l,"fData","type"),l,"type"));var i=function(e,t){return u.isUndefined(t)?s.getIn(r,e,l):s.setIn(r,t,e,l)};return i._canSet=!0,i}t.oneOfFromState=b;var O=s.memoize(function(e){return{ff_compiled:!0,oneOf:e,ff_oneOfSelector:fe(function(){return se(this.path).pop()%e.length},{noStrictArrayResult:!0})}});function S(e,t,r,a){function n(e,r){var a=[];if(r.items){if(!u.isArray(r.items))return r.items;a=r.items}if(e<a.length)return a[e];if(!1!==r.additionalItems)return r.additionalItems&&!0!==r.additionalItems?r.additionalItems:O(a);throw new Error(f+t.join("/"))}function i(e,t){var r=se(t);if("#"==t[0])return s.getIn(e,r);throw new Error("Can only ref to #")}function c(t){if(t.$ref||t.allOf||t.oneOf)if(d.get(t))t=d.get(t);else{var r=t;if((t=l(e,t)).oneOf){var a=t.oneOf,n=o(t,["oneOf"]);t=a.map(function(t){return s.merge(l(e,t),n,{array:"replace"})})}d.set(r,t)}return t}function l(e,t){if((t=function(e,t){for(;t.$ref;)t=i(e,t.$ref);return t}(e,t)).allOf){for(var r=t.allOf,a=o(t,["allOf"]),n=void 0,u=0;u<r.length;u++)n=s.merge(n,l(e,r[u]),{array:"replace"});t=s.merge(n,a)}return t}for(var f="Schema path not found: ",p=e,d=s.getCreateIn(_(e),new Map,"combinedSchemas"),h="#"==t[0]?1:0;h<t.length;h++){if(!p)throw new Error(f+t.join("/"));p=c(p);var v=r(t.slice(0,h)),g=v.oneOf,y=v.type;if(u.isArray(p)&&(p=p[g||0]),"array"==y){if(isNaN(parseInt(t[h])))throw new Error(f+t.join("/"));p=n(t[h],p)}else{if(!p.properties||!p.properties[t[h]])throw new Error(f+t.join("/"));p=p.properties[t[h]]}}return p=c(p),a||u.isArray(p)&&(p=p[r(t).oneOf||0]),p}t.getSchemaPart=S;var w=s.memoize(function(e){return u.isArray(e.items)?!1===e.additionalItems?e.items.length:"object"===a(e.additionalItems)?e.items.length:0==e.items.length?0:e.items.length-1:0});t.arrayStart=w;var A={invalid:0,dirty:0,untouched:1,pending:0,valid:!0,touched:!1,pristine:!0},j=s.memoize(function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.default,n=e.ff_params,i=void 0===n?{}:n,o=e.ff_data,c=void 0===o?{}:o,l=Object.assign({params:i},c);u.isObject(l.messages)||(l.messages={}),u.isUndefined(a)&&(a=g.empty[r||"any"]),l.oneOf=t,l.status=A,u.isObject(l.fData)||(l.fData={});var f,p,d=l.fData;d.type=r,d.required=e.required,e.title&&(d.title=e.title),e.ff_placeholder&&(d.placeholder=e.ff_placeholder),e.enum&&(d.enum=e.enum),e.ff_enumExten&&(d.enumExten=e.ff_enumExten),e.ff_oneOfSelector&&(d.oneOfSelector=!0),f=e,"array"!==(p=r)&&"object"!==p||s.getIn(f,"ff_managed")?l.value=a:delete l.value;var h=1;return"array"==r?(l.length=s.getIn(a,"length")||0,!u.isUndefined(e.minItems)&&l.length<e.minItems&&(l.length=e.minItems),l.fData.canAdd=x(e,l.length),h=l.length):"object"==r&&(h=s.objKeys(e.properties||{}).length),1!=h&&(l.status=Object.assign({},l.status,{untouched:h})),l});function I(){return Date.now().toString(36)+Math.random().toString(36)}function E(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=arguments[3],n={},c=[],f=void 0,d=(t(r)||{}).oneOf,h=s.toArray(S(e,r,t,!0));if(u.isUndefined(d)){var v=h[d||0].ff_oneOfSelector;if(v){var g=he.call({path:oe(r)},v,a);u.isArray(g)&&(g=g[0]),d=g}}var y,m,_=k(h,a,d),b=_.schemaPart,$=_.oneOf,O=_.type;if(u.isUndefined(b)||!u.isUndefined(d)&&d!=$){console.info('Passed value: "'+a+'" is not supported by schema.type in path "'+r.join("/")+'" and oneOfIndex "'+d+'". Reset value to default.\n');var w=k(h,a=h[d||0].default,d);b=w.schemaPart,$=w.oneOf,O=w.type}if(s.push2array(c,(y=b.ff_dataMap||[],m=r,y.map(function(e){var t=e.from,r=e.to,a=o(e,["from","to"]);return a=!a.$||fe(a),t&&r||(a=!1),{emitter:m,from:t,to:r,action:a}}))),n[p]={},n[l]=j(b,$,O,a),t(r,{oneOf:$,type:O}),n[l].hasOwnProperty("value"))f=n[l].value;else{if("array"==O){(f=[]).length=n[l].length;for(var A=0;A<f.length;A++){var x=E(e,t,r.concat(A),s.getIn(u.isUndefined(a)?b.default:a,A)),F=x.state,D=x.dataMap,M=x.defaultValues;f[A]=M,s.push2array(c,D),F=s.merge(F,i({},l,{arrayItem:P(b,A,f.length)}),{replace:i({},l,{ArrayItem:!0})}),F=s.merge(F,i({},l,{params:{uniqKey:I()}})),n[A]=F}}else if("object"==O){f={};var C=n[l].fData.required;C=u.isArray(C)&&C.length&&C,s.objKeys(b.properties||{}).forEach(function(o){var p=E(e,t,r.concat(o),s.getIn(u.isUndefined(a)?b.default:a,o)),d=p.state,h=p.dataMap,v=p.defaultValues;f[o]=v,s.push2array(c,h),C&&~C.indexOf(o)&&(d=s.merge(d,i({},l,{fData:{required:!0}}))),n[o]=d})}a&&(f=s.merge(a,f,{replace:z(1)}))}return{state:n,defaultValues:f,dataMap:c}}function x(e,t){var r=w(e);return e.minItems,(!1!==e.additionalItems||t<r)&&t<(e.maxItems||1/0)}function P(e,t,r){var a={},n=w(e);return e.minItems,a.canUp=n<t,a.canDown=n<=t&&t<r-1,a.canDel=t>=Math.min(n,r-1),a}function F(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.hasIn.apply(s,[e].concat(r,[l,"value"]))}function k(e,t,r){u.isArray(e)||(e=[e]);var a=e.map(function(e,t){return t});r&&s.moveArrayElems(a,r,0);for(var n=0;n<a.length;n++){var i=a[n],o=e[i].type||g;u.isArray(o)||(o=[o]);for(var c=void 0,l=u.isUndefined(t)?(c=!0)&&e[i].default:t,f=0;f<o.length;f++)if(g[o[f]](l)||u.isUndefined(l))return{schemaPart:e[i],oneOf:i,type:o[f]};if(c&&!u.isUndefined(e[i].default))throw new Error("Type of schema.default is not supported by schema.type")}return{}}function D(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;function c(e){return"object"===(void 0===e?"undefined":a(e))?e:{group:i,text:e}}return(u.isArray(n)?n.map(c):[c(n)]).forEach(function(a){var n=a.path,c=o(a,["path"]);if(n)return n=ie(n,r),D(e,t,n,c,i);var f=c.group,p=void 0===f?i:f,d=c.text,h=c.priority,v=void 0===h?0:h,g=o(c,["group","text","priority"]),y=s.getCreateIn(t.update,{},r,l,"messages",v);Object.assign(y,g),u.isObject(y.texts)||(y.texts={}),u.isArray(y.texts[p])||(y.texts[p]=[]),d&&s.push2array(y.texts[p],d)}),e}function M(e){for(var t=s.objKeys(e||{}),r=void 0,a=0;a<t.length;a++){for(var n=s.getIn(e,t[a],"texts")||{},i=s.objKeys(n),o=0;o<i.length;o++)if(n[i[o]]&&n[i[o]].length){r=parseInt(t[a]);break}if(!u.isUndefined(r))break}return r}function C(e,t,r,a){return B(e=B(e,t,Q(r,["status","validation","invalid"],0===a?1:0,!0,{macros:"setStatus"})),t,Q(r,["status","priority"],a))}function N(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],n=M(s.getIn(e,a,l,"messages"));return F(e=C(e,t,a,n),a)||s.objKeys(r).forEach(function(n){return e=N(e,t,r[n],a.concat(n))}),e}function R(e,t,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],i=5<arguments.length&&void 0!==arguments[5]&&arguments[5],o=t.api.schema,c=void 0;try{c=S(o,n,b(e))}catch(o){}if(!c||F(e,n)){var f=s.getIn(e,l,"current",n),p=i||f!==r?1:-1,d=n,h=["status","dirty"];c||(d=d.slice(),h.push(d.pop(),h.pop())),e=B(e,t,Q(d,h,p,!1,{macros:"setStatus"}))}else{var v=s.objKeys(a||{});if("array"==c.type){~v.indexOf("length")||v.push("length");var g=m(s.getIn(e,n));v=v.filter(function(e){return isNaN(parseInt(e))||~g.indexOf(e)})}i=i||!u.isMergeable(r),v.forEach(function(o){return e=R(e,t,s.getIn(r,o),a[o],n.concat(o),i)})}return e}t.isSelfManaged=F,t.rehydrateState=function(e,t){var r=E(t.api.schema,b(e)).dataMap;return q(e,t,void 0===r?[]:r,null)},t.updateState=function(e){var t=this.updates,r=this.state,a=this.api,n=this.forceValidation,i=this.opts,o=this.promises,f=a.getState,p=(a.schema,a.UPDATABLE);r||(r=f());var d=r;t.forEach(function(e){return r=B(r,p,e)}),r=K(r,p);var h=s.getIn(d,l,"current");if(p.forceCheck&&(h=s.merge(h,p.forceCheck),p.forceCheck=void 0),d[l].inital!==r[l].inital){var v=s.mergeState(d[l].inital,r[l].inital,{diff:!0}).changes;r=R(r,p,r[l].inital,v)}var g=s.mergeState(h,s.getIn(r,l,"current"),{diff:!0}).changes;g&&(r=R(r,p,r[l].inital,g)),r=K(r=function e(t,r,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];return s.getIn(r.update,n,l,"status","pristine")?u.isMergeable(a)&&s.getIn(t,l,"current",n)!==a&&(s.setIn(r.update,a,l,"current",n),s.setIn(r.replace,!0,l,"current",n)):s.objKeys(s.getIn(r.update,n)).forEach(function(i){return e(t,r,s.getIn(a,i),n.concat(i))}),t}(r,p,r[l].inital),p);var y;return(y=i.noValidation?n:n?(ue(g).forEach(function(e){e.pop(),re(n,!0,e)}),n):u.isMergeable(g)?g:!u.isUndefined(g))&&(r=function(e,t,r){var a=r.api,n=r.force,i=r.promises,o=a.JSONValidator,u=a.schema,f=a.getState,p=a.UPDATABLE,d=e[l].current,h=[],v=!0===n?d:n;if(!v||0==s.objKeys(v).length)return i.resolve(),i.vAsync.resolve(),e;o&&(e=function e(t,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=s.getIn(t,a,l,"fData","type");return n&&("object"!=n&&"array"!=n||r&&s.objKeys(r).forEach(function(n){return e(t,r[n],a.concat(n))}),T(p,{},!0,a,l,"messages","0","texts")),t}(e,v),o(d).forEach(function(t){return D(e,p,t[0],t[1])})),e=function e(t,r,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],i=void 0;try{i=S(u,n,b(t))}catch(i){return t}var o=F(t,n);o||a&&s.objKeys(a).forEach(function(i){return t=e(t,r[i],a[i],n.concat(i))});var c=i.ff_validators;if(c){var l=W(p.api,oe(n));c.forEach(function(e){var a=[];l.updates=a;var i=he.call(l,e,r);t=i&&i.then&&"function"==typeof i.then?(i.validatedValue=r,i.path=n,i.selfManaged=o,h.push(i),B(t,p,Q(n,["status","validation","pending"],1,!0,{macros:"setStatus"}))):D(t,p,n,i,1),a.length&&a.forEach(function(e){return t=B(t,p,e)}),l.updates=null})}return t}(e,d,v);var g=p.update;return e=K(e=N(e=K(e,p),p,g),p),i.resolve(),h.length?Promise.all(h).then(function(e){for(var r=f(),n=a.UPDATABLE,o=r[l].current,u=0;u<h.length;u++){var p=h[u],d=p.validatedValue,v=p.path;p.selfManaged,d==s.getIn(o,v)&&(r=B(r=D(r,n,v,e[u]||"",2),n,Q(v,["status","validation","pending"],0,!1,{macros:"setStatus"})))}var g=n.update;r=K(r=N(r=K(r,n),n,g),n),t({type:c.anSetState,state:r,api:a}),i.vAsync.resolve()}).catch(function(e){for(var r=f(),n=a.UPDATABLE,o=r[l].current,u=0;u<h.length;u++){var p=h[u],d=p.validatedValue,v=p.path;p.selfManaged,d==s.getIn(o,v)&&(r=B(r,n,Q(v,["status","validation","pending"],0,!1,{macros:"setStatus"})))}var g=n.update;r=K(r=N(r=K(r,n),n,g),n),t({type:c.anSetState,state:r,api:a}),i.vAsync.reject(e)}):i.vAsync.resolve(),e}(r,e,{force:y,api:a,opts:i,promises:o})),e({type:c.anSetState,state:r,api:a}),o};var V=s.memoize(function(e){return E(e,$({},[]))});function U(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],o=arguments[5];if(r===d&&(r=s.getIn(e,l,"inital",i)),r===h&&(r=s.getIn(e,l,"default",i)),s.getIn(e,l,"current",i)===r&&!s.hasIn(t.update,l,"current",i))return e;var c=s.getIn(e,i);if(!c){if("length"==i[i.length-1]){var f=i.slice(0,-1);if("array"==s.getIn(e,f)[l].fData.type)return B(e,t,Q(f,["length"],r))}return B(e,t,Q([],["current"].concat(i),r,n))}c[l].fData.oneOfSelector&&W(t.api,oe(i));var p=c[l].fData.oneOfSelector,v=c[l].fData.type;if(u.isUndefined(r)&&(r=g.empty[v||"any"]),p||!g[v||"any"](r)){var y=S(t.api.schema,i,b(e),!0),_=c[l].oneOf;if(p){var $=y[_].ff_oneOfSelector;o=he.call({path:oe(i)},$,r),u.isArray(o)&&(o=o[0])}var O=k(y,r,u.isUndefined(o)?_:o),w=O.schemaPart,A=O.oneOf,j=O.type;if(_!==A){if(w)return B(e,t,Q(i,["oneOf"],A,!1,{type:j,setValue:r}));console.warn('Type "'+(void 0===r?"undefined":a(r))+'" not found in path ['+i.join("/")+"]")}}if(F(c))e=B(e,t,Q(i,["value"],r,n));else if(u.isMergeable(r)){if("array"!=v||u.isUndefined(r.length)||(e=B(e,t,Q(i,["length"],r.length)),c=s.getIn(e,i)),!0===n){var I=u.isArray(r)?[]:{};m(c).forEach(function(e){return I[e]=void 0}),r=Object.assign(I,r)}if(s.objKeys(r).forEach(function(a){return e=U(e,t,r[a],!0===n||s.getIn(n,a),i.concat(a))}),!0===n){e=K(e,t),c=s.getIn(e,i);var E=s.getIn(e,l,"current",i);m(c).forEach(function(e){return r[e]=E[e]}),e=B(e,t,Q([],["current"].concat(i),r,n))}}return e}function T(e,t,r){for(var a=arguments.length,n=Array(3<a?a-3:0),i=3;i<a;i++)n[i-3]=arguments[i];return ue(r).forEach(function(r){var a=r.pop();s.setIn.apply(s,[e,s.getIn(t,r),"update"].concat(n,[r])),a&&s.setIn.apply(s,[e,a,"replace"].concat(n,[r]))}),e}function K(e,t){return e=s.merge(e,t.update,{replace:t.replace}),t.update={},t.replace={},e}function B(e,t,r){if(!r)return e;var a,n,c,h=t.update,g=(t.replace,t.api.schema);if(c=r,u.isUndefined(s.getIn(c,l))||!u.isArray(c[l]))return n=t,X(r,a=e).forEach(function(e){if(0===e.path.length&&"current"==e[l][0]&&(e.macros="setCurrent",e.path=e[l].slice(1),e[l]=[]),"value"==e[l][0])e.macros="setCurrent",e.path=e.path.concat(e[l].slice(1)),e[l]=[];else{if("status"==e[l][0])return void console.warn("Status should not be changed through StateApi. Update ignored.");"oneOf"==e[l][0]&&(e.macros="setOneOf")}a=B(a,n,e)}),a;if(r.macros){var m=y[r.macros];if(!m)throw new Error('"'+m+'" not found in macros');return m(e,g,t,r)}var _=r.value,O=r.path,w=r.replace,A=r[l];if(u.isFunction(_)&&(_=_(G(e,t)(O,l,A))),0!=O.length||"inital"!=A[0]&&"default"!=A[0]){if(u.isObject(_)&&(0==A.length&&(s.hasIn(_,"value")||s.hasIn(_,"status")||s.hasIn(_,"length")||s.hasIn(_,"oneOf"))||1==A.length&&"status"==A[0]))return function(e,t,r){var a=r.value,n=r.path,i=r.replace,u=r[l]||[];if(0==u.length){a.value,a.status,a.length,a.oneOf;var c=o(a,["value","status","length","oneOf"]);["value","status","length","oneOf"].forEach(function(r){s.hasIn(a,r)&&(e=B(e,t,Q(n,[r],a[r],s.getIn(i,r))))}),s.objKeys(c).length&&(e=B(e,t,Q(n,u,c,i)))}else s.objKeys(a).forEach(function(r){e=B(e,t,Q(n,u.concat(r),a[r],s.getIn(i,r)))});return e}(e,t,r);var j=s.getIn(e,O);if(!u.isObject(j))return e;if("value"==A[0]&&!s.hasIn(j,l,"value"))return y.setCurrent(e,g,t,{value:_,replace:w,path:O.concat(A.slice(1))});if(_===J([t.update,e],O,l,A))return e;if(T(t,_,w,O,l,A),"value"==A[0])e=B(e,t,Q([],s.push2array(["current"],O,A.slice(1)),_,w));else if("messages"==A[0]){var k=M(G(e,t)(O,l,"messages"));e=C(e,t,O,k)}else if("length"==A[0]){e=B(e,t,Q([],s.push2array(["current"],O,A),_,w));var D=j[l].length;D=Math.max(D,0);for(var N=Math.max(_||0),R=$(e,O),V=[],U=[],z=D;z<N;z++){var W=O.concat(z);u.isUndefined(r.setOneOf)||R(W,{oneOf:r.setOneOf});var H=E(g,R,W),Y=H.state,Z=H.dataMap,ee=void 0===Z?[]:Z,te=H.defaultValues,ae=J([e,t.update],O,l,"status","untouched"),ne=i({},l,{params:{uniqKey:I()}});ae||s.setIn(ne[l],{untouched:0,touched:!0},"status"),Y=s.merge(Y,ne),e=B(e=s.merge(e,s.setIn({},Y,W),{replace:s.setIn({},!0,W)}),t,Q([],s.push2array(["current"],W),te,!0)),s.push2array(V,ee),ae&&(e=y.setStatus(e,g,t,Q(O,["status","untouched"],1)))}for(var ie=N;ie<D;ie++){var oe=O.concat(ie);s.push2array(U,s.getIn(e,oe,f,l)||[]),["invalid","dirty","untouched","pending"].forEach(function(r){J([h,e],O,l,"status",r)&&(e=y.setStatus(e,g,t,Q(O,["status",r],-1)))}),T(t,v,!0,oe)}var se=S(g,O,b(e));s.setIn(h,x(se,N),O,l,"fData","canAdd");for(var ue=Math.max(Math.min(D,N)-1,0);ue<N;ue++)T(t,P(se,ue,N),!0,O,ue,l,"arrayItem");e=q(e=q(e=K(e,t),t,U,!0),t,V)}else if("status"==A[0]){var ce=A[1],le=void 0,fe=void 0;"invalid"==ce||"pending"==ce?(fe=J([h,e],O,l,"status","pending")?null:!J([h,e],O,l,"status","invalid"),le="valid"):"untouched"!=ce&&"dirty"!=ce||(fe=!J([h,e],O,l,"status",ce),le="untouched"==ce?"touched":"pristine"),u.isUndefined(le)||(e=B(e,t,Q(O,["status",le],fe)))}else if("oneOf"==A[0]){var pe=s.getIn(e,O);if((s.getIn(pe,l,"oneOf")||0)!=s.getIn(t.update,O,l,"oneOf")||r.type&&r.type!=s.getIn(pe,l,"fData","type")){re(t,d,"forceCheck",r.path),e=q(e=K(e,t),t,s.getIn(e,O,f,l)||[],!0);var de=E(g,$(e,O),O,r.setValue),he=de.state,ve=de.dataMap,ge=void 0===ve?[]:ve,ye=(te=de.defaultValues,pe[l]),me=(ye.value,ye.length,ye.oneOf,ye.fData,o(ye,["value","length","oneOf","fData"]));if(F(pe)&&F(he)||delete me.status,he=s.merge(he,i({},l,me),{arrays:"replace"}),O.length){var _e=O.slice(),be=_e.pop();["invalid","dirty","pending"].forEach(function(r){var a=s.getIn(pe,l,"status",r),n=s.getIn(he,l,"status",r);!a!=!n&&(e=y.setStatus(e,g,t,Q(_e,["status",r],n?1:-1)))});var $e=s.getIn(e,_e,l,"fData","required");($e=u.isArray($e)&&$e.length&&$e)&&~$e.indexOf(be)&&(he=s.merge(he,i({},l,{fData:{required:!0}})))}0==s.getIn(pe,l,"status","untouched")&&(he=s.merge(he,i({},l,{status:{untouched:0}}))),e=q(e=B(e=s.merge(e,s.setIn({},he,O),{replace:s.setIn({},!0,O)}),t,Q([],s.push2array(["current"],O),te,!0)),t,ge),0==s.getIn(he,l,"status","untouched")&&(e=y.switch(e,g,t,Q(O,["status","untouched"],0)))}}}else e=s.merge(e,s.makeSlice(l,A,_),{replace:s.makeSlice(l,A,w)});for(var Oe=s.getIn(e,O,f),Se=0;Se<A.length&&Oe;Se++)e=L(e,t,Oe[p],Q(O,A.slice(0,Se),s.setIn({},_,A.slice(Se)),s.setIn({},w,A.slice(Se)))),Oe=Oe[A[Se]];return Oe&&(e=function r(a,n,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];return e=L(e,t,a[p],Q(O,o,n,i)),u.isMergeable(n)&&s.objKeys(a).forEach(function(t){return n.hasOwnProperty(t)&&(e=r(a[t],n[t],s.getIn(i,t),o.concat(t)))}),e}(Oe,_,w,A)),e}function q(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=[];return r.forEach(function(r){var u=r.emitter,c=!1;if(X({path:u.join("/")+"/"+r.from,value:null},e).forEach(function(d){var h=d[l][0];("current"==h||"inital"==h||"default"==h&&d.path.length)&&(d=Object.assign({},d,i({path:[]},l,[h].concat(n(d.path),n(d[l].slice(1)))))),X({path:u.join("/")+"/"+r.to,value:null},e).forEach(function(i){var h,v=oe(te(d.path,(h=i.path).concat.apply(h,[l].concat(n(i[l])))));s.getIn(e,d.path)&&s.setIn(t.update,a?void 0:r.action,d.path,f,d[l],p,v),a||(o.push({map:s.makeSlice(v,r.action),fromPath:d.path,keyPath:d[l]}),c||"."==te(u,d.path)[0]||(c=!0))})}),c){var d=s.getIn(e,u);if(d){var h=s.getIn(d,f,l)||[],v=void 0;for(v=0;v<h.length&&(r.from!==h[v].from||r.to!==h[v].to);v++);(h=h.slice())[v]=r,T(t,h,!0,u,f,l)}}e=K(e,t)}),null!==a&&o.forEach(function(r){e=K(e=L(e,t,r.map,Q(r.fromPath,r.keyPath,s.getIn(e,r.fromPath,l,r.keyPath))),t)}),e}function L(e,t,r,a){var n,i,o=a.value,c=a.path,f=a.replace,p=(a[l],(i=oe((n=a).path))+(n[l]&&!~i.indexOf("@")?"/@/"+oe(n[l]):""));return s.objKeys(r||{}).forEach(function(a){if(r[a]){var n=r[a],i=oe(ie(a,c)),s=o,l=[];if(u.isObject(n)){var d=W(t.api,i,p);d.get=G(e,t),d.updates=l,s=he.call(d,n,o),d.updates=null,d.get=null}l.length||l.push({path:i,value:s,replace:u.isUndefined(n.replace)?f:n.replace}),l.forEach(function(r){return e=B(e,t,r)})}}),e}t.initState=function(e){var t=V(e.api.schema),r=t.state,a=t.dataMap,n=void 0===a?[]:a,i=t.defaultValues;r=q(r=s.merge(r,s.setIn({},i,[l,"current"])),e,n);var o=s.getIn(r,l,"current");return K(r=B(r=B(r,e,Q([],["inital"],o)),e,Q([],["default"],o)),e)},t.setUPDATABLE=T,t.mergeUPD_PROC=K,t.updatePROC=B;var z=function(e){return function(t){return s.getIn(t,"length")===e}},W=s.memoize(function(e,t,r){var a=t.split("@")[0],n=r?r.split("@")[0]:a,i={from:r,to:t,path:a,stateApi:e,updates:[]};return i.api=e.wrapper(i),i.wrapOpts=function(e){return i.updates&&u.isUndefined(e.setExecution)&&(e.setExecution=function(e){return e&&s.push2array(i.updates,e)}),e},i.getData=function(){return i.api.get(n,l)},i});function G(e,t){return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return s.hasIn.apply(s,[t.update].concat(n(a.map(function(e){return ie(e)}))))?s.merge(H.apply(void 0,[e].concat(a)),H.apply(void 0,[t.update].concat(a)),{replace:H.apply(void 0,[t.replace].concat(a))}):H.apply(void 0,[e].concat(a))}}function J(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];for(var n=0;n<e.length;n++)if(s.hasIn.apply(s,[e[n]].concat(r)))return s.getIn.apply(s,[e[n]].concat(r))}function H(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.getIn.apply(s,[e].concat(n(r.map(function(e){return ie(e)}))))}t.getFromState=H;var Q=function(e,t,r,a){var n,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return Object.assign((i(n={path:e},l,t),i(n,"value",r),i(n,"replace",a),n),o)};function X(e,t){var r=e.path,a=e.value,n=e.replace,i=e.base,u=o(e,["path","value","replace","base"]),c=[];return oe(r).split(";").forEach(function(e){var r=ie(e,i),o=[],f=r.indexOf(l);~f&&(o=r.slice(f+1),r=r.slice(0,f)),r=Z(r,{"*":function(e){return m(s.getIn(t,e)).join(",")}}),o=Z(o),s.objKeys(r).forEach(function(e){return s.objKeys(o).forEach(function(t){return c.push(Q(r[e],o[t],a,n,u))})})}),c}t.makeNUpdate=Q,t.string2NUpdate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=[],n=(e=ie(e,t)).indexOf(l);~n&&(a=e.slice(n+1),e=e.slice(0,n));var i=r.value,s=r.replace,u=o(r,["value","replace"]);return Q(e,a,i,s,u)},t.normalizeUpdate=X;var Y=function e(t,r){if(u.isUndefined(r))return e._data[t];e._data[t]=r,e._data[r]=t};function Z(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={"":[]};return e.forEach(function(e){var a={};"string"==typeof(e=t[e]||e)&&~e.indexOf(",")?s.objKeys(r).forEach(function(t){return e.split(",").forEach(function(e){return a[t&&t+","+e||e]=r[t].concat(e.trim())})}):"function"==typeof e?s.objKeys(r).forEach(function(n){var i=e(r[n]);"string"==typeof i&&(i=se(i)),i=Z(i,t),s.objKeys(i).forEach(function(e){return a[n&&n+(e?","+e:"")||e]=r[n].concat(i[e])})}):s.objKeys(r).forEach(function(t){return s.push2array(r[t],e)}),s.objKeys(a).length&&(r=a)}),r}Y._data={"#":""},Y.sym2str=function(e){return"symbol"!=(void 0===e?"undefined":a(e))||u.isUndefined(Y(e))?e:Y(e)},Y.str2sym=function(e){return"string"!=typeof e||u.isUndefined(Y(e))?e:Y(e)},Y("@",l),t.multiplyPath=Z;var ee=function(e){return"number"==typeof e?e.toString():e};function te(e,t){"#"===e[0]&&(e=e.slice(1)),"#"===t[0]&&(t=t.slice(1));var r=[],a=void 0;for(a=0;a<e.length&&ee(e[a])===ee(t[a]);a++);for(var n=a;n<e.length;n++)r.push("..");return r.length||r.push("."),s.push2array(r,t.slice(a))}function re(e,t){if(e===t)return e;for(var r=arguments.length,a=Array(2<r?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];for(var i=ae(a),o=e,s=0;s<i.length-1;s++){if(o[i[s]]===t)return e;u.isObject(o[i[s]])||(o[i[s]]={}),o=o[i[s]]}return i.length?(o[i[i.length-1]]=t,e):t}function ae(e){if(u.isArray(e)){var t=[];return s.push2array.apply(s,[t].concat(n(e.map(ae)))),t}return"string"==typeof e?se(e):[e]}function ne(e){return u.isMergeable(e)&&"nPath"===s.getIn(e,l)}function ie(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=function(e,t){for(var r=!t||"."!==e[0]&&".."!=e[0]?[]:t.slice(),a=0;a<e.length;a++){var n=e[a];".."===n?r.pop():""!==n&&"."!==n&&r.push(n)}return r}(ae(e),t.length?ae(t):[]);return r[l]="nPath",r}function oe(e){return u.isArray(e)?e.map(oe).join("/"):Y.sym2str(e)}function se(e){e=(e=e.replace(Y(l),"/"+Y(l)+"/")).replace(/\/+/g,"/");var t=[];return e.split("/").forEach(function(e){return e&&(e=Y.str2sym(e.trim()))&&t.push(e)}),t}function ue(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=t.symbol?s.objKeysNSymb:s.objKeys,n=t.arrayAsValue?u.isObject:u.isMergeable;if(!n(e))return[[e]];var i=[];return a(e).forEach(function(a){var o=r.concat(a);n(e[a])?ue(e[a],t,o).forEach(function(e){return i.push(e)}):i.push(s.push2array(o,e[a]))}),i.length?i:[s.push2array(r.slice(),{})]}t.relativePath=te,t.setIfNotDeeper=re,t.isNPath=ne,t.normalizePath=ie,t.path2string=oe,t.string2path=se,t.object2PathValues=ue,t.objMap=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return s.objKeys(e).reduce(function(a,n){return a[n]=t(e[n],r.concat(n)),a},u.isArray(e)?[]:{})};var ce=function(e){return u.isObject(e)&&e.$||u.isFunction(e)&&e._map};function le(e,t){var r=!1;return e=s.toArray(u.isUndefined(e)?[]:e).map(function(e){if(u.isString(e)){var a=0;if("@"==e[0]&&(a=1),"!@"==e.substr(0,2)&&(a=2),"!!@"==e.substr(0,3)&&(a=3),a){r=!0;var n=ie(e.substr(a));return 2==a&&(n[p]="not"),3==a&&(n[p]="doubleNot"),n}}if(ce(e)){var i=le(e.args,t);return i.dataRequest&&(r=!0),i=Object.assign({},e,i),t?t(i):i}return t&&u.isMergeable(e)?t(e):e}),{dataRequest:r,args:e,norm:!0}}function fe(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(t.wrapFn,o(t,["wrapFn"])),a=u.isObject(e)?Object.assign({},e,r):Object.assign({$:e},r);return a.args?Object.assign(a,le(a.args,t.wrapFn)):a.args=["${0}"],a}function pe(e){if(u.isUndefined(e))return[];if(!u.isArray(e))throw new Error("array expected");return e}function de(e,t){var r=s.getIn(e,t);switch(t[p]){case"not":return!r;case"doubleNot":return!!r;default:return r}}function he(e){for(var t=this,r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];var i=e.dataRequest?this.getData():null,o=function(e){for(var r=[],n=0;n<e.length;n++){var o=e[n];ne(o)?r.push(de(i,o)):ce(o)?r.push(o._map?o.apply(void 0,a):he.call.apply(he,[t,o].concat(a))):"${...}"==o?r.push.apply(r,a):"${0}"==o?r.push(a[0]):r.push(o)}return r}(e.args),c=s.toArray(e.$).reduce(function(r,a){return u.isFunction(a)?(e.noStrictArrayResult?s.toArray:pe)(a.apply(t,r)):r},o);return e.noStrictArrayResult?s.deArray(c):pe(c)[0]}t.isMapFn=ce,t.normalizeArgs=le,t.normalizeFn=fe,t.processProp=de,t.processFn=he},function(e,t,r){"use strict";var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),u=r(1),c=function(){function e(){i(this,e),this.done=!1,this.vals=[{},{}];var t=this,r=new Promise(function(e,r){t.setFunction(0,e),t.setFunction(1,r)});return r.resolve=t.execFunction.bind(t,0),r.reject=t.execFunction.bind(t,1),r.isPending=function(){return!t.done},r.isResolved=function(){return t.vals[0].done},r.isRejected=function(){return t.vals[1].done},r.result=function(){return t.done&&t.vals[t.vals[0].done?0:1].rest},r}return a(e,[{key:"setFunction",value:function(e,t){var r=this.vals[e];r.func=t,r.done&&t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r.rest))}},{key:"execFunction",value:function(e){if(!this.done){this.done=!0;for(var t=this.vals[e],r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];t.rest=a,t.done=!0,this.vals[1-e].done=!1,t.func&&t.func.apply(t,a)}}}]),e}(),l=new WeakMap;t.fformCores=function(e){return l[e]};var f=function(){function e(t){if(i(this,e),this._listeners=[],(t.getState?1:0)+(t.setState?1:0)==1&&new Error('Expected both "getState" and "setState" or none but not only one of them.'),t.store&&!t.name)throw new Error('Expected "name" to be passed together with "store".');var r=this;r.props=t,r.schema=_(t.schema)?t.schema:m(t.elements,t.schema),r.name=t.name||"",r.dispatch=t.store?t.store.dispatch:r._dispatch.bind(r),r._reducer=y(),t.JSONValidator&&(r.JSONValidator=t.JSONValidator(r.schema)),r._getState=r._getState.bind(r),r._setState=r._setState.bind(r),t.setState&&t.store&&(r._unsubscribe=r.props.store.subscribe(r._handleChange.bind(r))),t.name&&(l[t.name]=r),r.UPDATABLE={update:{},replace:{},api:r}}return a(e,[{key:"_dispatch",value:function(e){var t=this;return"function"==typeof e?e(t._dispatch.bind(t)):(t._setState(t._reducer(t._getState()||{},e)),e)}},{key:"_setState",value:function(e){var t=this;e!==t._getState()&&(t.props.setState?t.props.setState(e):t._currentState=e,t.props.store&&t._setStoreState(e),t._listeners.forEach(function(t){return t(e)}))}},{key:"_getState",value:function(){var e=this;return e.props.store?e._getStoreState():e.props.getState?e.props.getState():e._currentState}},{key:"_setStoreState",value:function(e){return this.props.store.dispatch({type:d,state:e,api:this})}},{key:"_getStoreState",value:function(){return this.props.name&&this.props.store.getState()[g()][this.props.name]}},{key:"_handleChange",value:function(){var e=this,t=e._getStoreState();t!==(e.props.getState?e.props.getState():e._currentState)&&e._setState(t)}},{key:"addListener",value:function(e){var t=this;return t._listeners.push(e),t.props.store&&!t._unsubscribe&&(t._unsubscribe=t.props.store.subscribe(t._handleChange.bind(t))),t.delListener.bind(t,e)}},{key:"delListener",value:function(e){var t=this;if(s.isUndefined(e))t._listeners=[];else{var r=t._listeners.indexOf(e);~r&&t._listeners.splice(r,1)}t._listeners.length||!t._unsubscribe||t.props.setState||(t._unsubscribe(),delete t._unsubscribe)}}]),e}(),p=function(e){function t(e){i(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r._noExec=0,r._updates=[],r._validation=null,r.getState=r._getState,r.noExec=function(){r._noExec++},r.execute=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r._setExecution(null,s.merge(e,{execute:!0}))},r.setState=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=r;return a._updates=[],a._newState=e,a._setExecution(null,t)},r.getActive=function(){return r.get(u.SymData,"active")},r.validate=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=r;return"boolean"==typeof e?a._validation=e:u.normalizeUpdate({path:e,value:!0},a.getState()).forEach(function(e){return a._validation=u.setIfNotDeeper(a._validation||{},!0,e.path)}),a._setExecution(null,t)},r.get=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return u.getFromState.apply(u,[r.getState()].concat(t))},r.set=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return r._setExecution([null],a);var n=o(a,[]);return n.path=e,n.value=t,r._setExecution(n,a)},r.getValue=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r.get(u.SymData,e.inital?"inital":"current",e.path||[])},r.setValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=t.path,i=t.inital,c=t.replace,l=o(t,["path","inital","replace"]);if(null===a)return r._setExecution([null],t);if(~(a=u.normalizePath(a||[]).slice()).indexOf(u.SymData))l.path=a;else{for(var f=r.getState();!s.getIn(f,a)&&a.length;){var p=a.pop();e=n({},p,e),c=n({},p,c)}l.path=[i?"@inital":"@current"].concat(a)}return l.value=e,l.replace=c,r._setExecution(l,t)},r.getDefaultValue=function(){return r.get(u.SymData,"default")},r.switch=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r.set(e,t,Object.assign({},a,{macros:"switch"}))},r.setMessages=function(e,t){var a=t||{},n=a.priority,i=void 0===n?0:n,c=a.group,l=void 0===c?3:c,f=a.path,p=void 0===f?[]:f,d=a.props,h=void 0===d?void 0:d,v=o(a,["priority","group","path","props"]),g="@/messages/"+i+"/texts/"+l;null===e?(r.switch([p,g],[],v),s.isObject(h)&&r.switch([p,"@/messages/"+i],h,v)):u.object2PathValues(e,{arrayAsValue:!0}).forEach(function(e){r.set([p,e,g],e.pop(),v),s.isObject(h)&&r.set([p,e,"@/messages/"+i],h,v)})},r.reset=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.status?r.set(u.normalizePath(t.path||"/"),s.isUndefined(t.value)?u.SymReset:t.value,(n(e={},u.SymData,["status",t.status]),n(e,"macros","switch"),e)):r.setValue(u.SymReset,t)},r.clear=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return r.setValue(u.SymClear,e)},r.arrayAdd=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution(Object.assign({path:e,value:t,macros:"array"},a),a)},r.arrayItemOps=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution(Object.assign({path:e,op:t,macros:"arrayItem"},a),a)},r.setHidden=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r._setExecution([Object.assign({path:[e,"@","/params/hidden"],value:t},a)],a)},r.showOnly=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e=u.normalizePath(e),r._setExecution([Object.assign({path:[e.slice(0,-1),"/*/@/params/hidden"],value:!0},t),Object.assign({path:[e,"@","/params/hidden"],value:!1},t)],t)},r.getSchemaPart=function(e){return e=u.normalizePath(e),u.getSchemaPart(r.schema,e,u.oneOfFromState(r.getState()))};var a=r;e.state?a._setState(e.state):a._getState()||a._setState(u.initState(a.UPDATABLE));var c=a._getState();return c[u.SymDataMap]||a._setState(u.rehydrateState(c,a.UPDATABLE)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),a(t,[{key:"wrapper",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this,r=function(r){return e[r]||t[r]},a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"./";return t&&u.normalizePath(t,e.path)},n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=t.path,i=o(t,["path"]);return null===n?i.path=null:s.isUndefined(n)&&!r||(i.path=a(n||"./")),e.wrapOpts?e.wrapOpts(i):i},i={validate:function(){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"./";return r("validate").apply(void 0,["boolean"==typeof i?i:a(i)].concat(t))},get:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("get")(a(t))},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r("setValue")(e,n(t))},bind:function(t){return e=t,i},getValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i.get(u.SymData,e.inital?"inital":"current",a(e.path))},getApi:function(){return t}};return["noExec","setState","getActive","getDefaultValue"].forEach(function(e){return i[e]=function(){return r(e).apply(void 0,arguments)}}),["reset","clear","execute"].forEach(function(e){return i[e]=function(t){for(var a=arguments.length,i=Array(1<a?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r(e).apply(void 0,[n(t,!0)].concat(i))}}),["showOnly","getSchemaPart"].forEach(function(e){return i[e]=function(){for(var t=arguments.length,i=Array(2<t?t-2:0),o=2;o<t;o++)i[o-2]=arguments[o];var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(e).apply(void 0,[a(s),n(u)].concat(i))}}),["set","switch","arrayAdd","arrayItemOps","setHidden","showOnly"].forEach(function(e){return i[e]=function(){for(var t=arguments.length,i=Array(3<t?t-3:0),o=3;o<t;o++)i[o-3]=arguments[o];var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],u=arguments[1],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return r(e).apply(void 0,[a(s),u,n(c)].concat(i))}}),i}},{key:"_clearActions",value:function(){var e=this;e._newState=void 0,e._defferedTimerId=null,e._validation=null,e._updates=[],e._promise(!0)}},{key:"_execBatch",value:function(e,t,r,a){var n={type:h,state:this._newState,updates:e,api:this,forceValidation:a,opts:t,promises:r};return this._clearActions(),this.dispatch(u.updateState.bind(n)),r}},{key:"_setExecution",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.setExecution)return t.setExecution(e,t);var r=this;e&&s.push2array(r._updates,e),!0===t.force&&0<r._noExec&&r._noExec--;var a=r._promise();return!1===t.execute||r._noExec||(r._defferedTimerId&&clearTimeout(r._defferedTimerId),!0===t.execute?r._execBatch(r._updates,t,a,r._validation):r._defferedTimerId=setTimeout(r._execBatch.bind(r,r._updates,t,a,r._validation),t.execute||0)),a}},{key:"_promise",value:function(e){var t=this;return e&&(t._resultPromises=null),t._resultPromises||(t._resultPromises=new c,t._resultPromises.vAsync=new c),t._resultPromises}}]),t}();t.FFormStateAPI=p;var d="FFROM_SET_STATE";t.anSetState=d;var h="FFROM_UPDATE_STATE",v="fforms";function g(){return v}function y(e){e&&(v=e);var t={};return t[d]=function(e,t){return t.api.props.store?function(e,t,r){if(e[t]===r)return e;var a=Object.assign({},e);return a[t]=r,a}(e,t.api.name,t.state):t.state},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],a=t[r.type];return a?a(e,r):e}}t.getFRVal=g,t.formReducer=y;var m=s.memoize(function(e,t){return function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];if(_(r))return r;var a=r.ff_validators,n=r.ff_dataMap,i=r.ff_oneOfSelector,c=o(r,["ff_validators","ff_dataMap","ff_oneOfSelector"]),l=s.isArray(r)?[]:{ff_compiled:!0},f={noStrictArrayResult:!0};return a&&(l.ff_validators=s.toArray(O(t,a)).map(function(e){return u.normalizeFn(e,f)})),n&&(l.ff_dataMap=O(t,n)),i&&(l.ff_oneOfSelector=O(t,u.normalizeFn(i,f))),s.objKeys(c).forEach(function(r){if("ff_"==r.substr(0,3))return l[r]=c[r];switch(r){case"default":case"enum":l[r]=c[r];break;case"definitions":case"properties":case"patternProperties":case"dependencies":l[r]=u.objMap(c[r],e.bind(null,t));break;default:s.isMergeable(c[r])?l[r]=e(t,c[r]):l[r]=c[r]}}),l}(e,t)});function _(e){return s.getIn(e,"ff_objects")}function b(e,t,r){if(s.isUndefined(e))throw new Error('Reference "'+t+"\" leads to undefined object's property in path: "+u.path2string(r));return!0}function $(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(!s.isMergeable(t))return t;var a=t.$_ref,n=void 0===a?"":a,i=o(t,["$_ref"]);n=n.split(":");for(var c=[],l=0;l<n.length;l++)if(n[l]){var f=u.string2path(n[l]);if("^"!==f[0])throw new Error("Can reffer only to ^");var p=s.getIn({"^":e},f);b(p,n[l],r.concat("@"+l)),s.isMergeable(p)&&(p=$(e,p,r.concat("@"+l))),c.push(p)}for(var d=s.isArray(t)?[]:{},h=0;h<c.length;h++)d=s.merge(d,c[h]);return s.merge(d,u.objMap(i,$.bind(null,e),r))}function O(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=function(e){return"^/"==e.substr(0,2)},n={"^":e},i=$(e,t),o=s.isArray(i)?[]:{};return s.objKeys(i).forEach(function(t){var c=i[t];s.isString(c)&&a(c.trim())&&(c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return s.deArray(e.split("|").map(function(e,i){e=e.trim(),a(e)?t=e.substr(0,e.lastIndexOf("/")+1):e=t+e;var o=s.getIn(n,u.string2path(e));return b(o,e,r.concat("@"+i)),o}))}(c),"$"!==t&&"_"!==t[0]&&(s.isFunction(c)||s.isArray(c)&&c.every(s.isFunction))&&(c={$:c})),"_"!==t[0]&&s.isMergeable(c)?o[t]=O(e,c,r.concat(t)):o[t]=c}),o}t.objectDerefer=$,t.objectResolver=O},function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),f=r(0),p=r(1),d=r(2);t.FFormStateAPI=d.FFormStateAPI,t.fformCores=d.fformCores,t.formReducer=d.formReducer;var h=function(e){function t(e,r){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r)),n=a,i=e.core;n.api=i instanceof d.FFormStateAPI?i:n._getCoreFromParams(i,r),n.parent=e.parent;var u=Object.assign({},e);return null!==e.touched&&(u.touched=!!u.touched),t.params.forEach(function(t){f.isUndefined(u[t])||(u[t]=function(r){return f.isUndefined(r)?e[t]:r})}),n._updateValues(u),e.noValidation||n.api.validate(!0),n._unsubscribe=n.api.addListener(n._handleStateUpdate.bind(n)),n._setRef=n._setRef.bind(n),n._submit=n._submit.bind(n),n._getPath=n._getPath.bind(n),Object.defineProperty(n,"elements",{get:function(){return n.api.props.elements}}),Object.defineProperty(n,"valid",{get:function(){return n.api.get("/@/status/valid")}}),a}return u(t,l.Component),n(t,[{key:"_setRef",value:function(e){this._root=e}},{key:"_updateValues",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.state,n=e.value,i=e.inital,o=e.extData,s=e.noValidation,u=e.touched,c=this;a&&a!==r.state&&c.api.setState(a),i&&i!==r.inital&&c.api.setValue(i,{replace:!0,inital:!0,noValidation:s}),n&&n!==r.value&&c.api.setValue(n,{replace:!0,noValidation:s}),o&&o!==r.extData&&f.objKeys(o).forEach(function(e){return c.api.set(e,o[e],{replace:!0})}),f.isUndefined(u)||null===u||u===r.touched||c.api.reset({status:"untouched",value:u?0:void 0}),t.params.forEach(function(t){return!f.isUndefined(e[t])&&e[t]!==r[t]&&c.api.switch("/@/params/"+t,e[t])})}},{key:"_handleStateUpdate",value:function(e){var t=this;t._savedState!=e&&(t._savedState=e,t.props.onStateChange&&t.props.onStateChange(e,t),e[p.SymData].current!==t._savedValue&&(t._savedValue=e[p.SymData].current,t.props.onChange&&t.props.onChange(t._savedValue,t)),t._root&&t._root.setState({branch:e}))}},{key:"_submit",value:function(e){var t,r=this,a=function(e){return r.api.set([],e,i({},p.SymData,["status","pending"]))};if(r.api.set([],0,(i(t={},p.SymData,["status","untouched"]),i(t,"execute",!0),i(t,"macros","switch"),t)),r.props.onSubmit){r.api.setMessages(null,{execute:!0});var n=r.props.onSubmit(e,r._savedValue,r);n&&n.then&&"function"==typeof n.then?(a(1),n.then(function(e){a(0),r.api.setMessages(e)},function(e){a(0),r.api.setMessages(e)})):r.api.setMessages(n)}}},{key:"_getCoreFromParams",value:function(e,t){return f.isUndefined(e.store)&&t.store?new d.FFormStateAPI(f.merge(e,{store:t.store})):new d.FFormStateAPI(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this;t.parent=e.parent;var r=e.core,a=!1;return r instanceof d.FFormStateAPI&&t.api!==r&&(t._unsubscribe(),t.api=r,t._unsubscribe=t.api.addListener(t._handleStateUpdate.bind(t)),a=!0),t._updateValues(e,t.props),a||!f.isEqual(t.props,e,{skipKeys:["core","state","value","inital","extData","fieldCache","flatten","noValidate","parent","onSubmit","onChange","onStateChange"]})}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"getRef",value:function(e){return this._root&&this._root.getRef(e)}},{key:"_getPath",value:function(){return"#"}},{key:"getDataObject",value:function(e,t){return f.getIn(e,p.SymData)}},{key:"getValue",value:function(e,t){return p.isSelfManaged(e)?f.getIn(e,p.SymData,"value"):this.api.getValue({path:t.path})}},{key:"getBranch",value:function(e){return this.api.get(e)}},{key:"render",value:function(){var e=this,r=e.props,a=(r.core,r.state,r.value,r.inital,r.extData,r.fieldCache,r.touched,r.parent,r.onSubmit,r.onChange,r.onStateChange,r._$useTag),n=void 0===a?"form":a,i=c(r,["core","state","value","inital","extData","fieldCache","touched","parent","onSubmit","onChange","onStateChange","_$useTag"]);return t.params.forEach(function(e){return delete i[e]}),l.createElement(n,Object.assign({},i,{onSubmit:e._submit}),l.createElement(g,{ref:e._setRef,id:i.id?i.id+"/#":void 0,name:e.api.name,pFForm:e,getPath:e._getPath,FFormApi:e.api}))}}]),t}();h.params=["readonly","disabled","viewer","liveValidate","liveUpdate"],t.FForm=h;var v=function(e){function t(e,r){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));a.$refs={};var n=a;return n._setRef=n._setRef.bind(n),a}return u(t,l.Component),n(t,[{key:"getRef",value:function(e){var t=this;return e.length?1!=e.length||t.$refs[e[0]].getRef?t.$refs[e[0]]&&t.$refs[e[0]].getRef&&t.$refs[e[0]].getRef(e.slice(1)):t.$refs[e[0]]:t}},{key:"_setRef",value:function(e){var t=this;return function(r){return t.$refs[e]=r}}},{key:"_refProcess",value:function(e,t){return!0===t?this._setRef(e):f.isString(t)?this._setRef(t):f.isMergeable(t)?p.objMap(t,this._refProcess.bind(this,e)):t}}]),t}(),g=function(e){function t(e,r){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));a._mappedData={},a._builderData={},a._rebuild=!0,a._blocks=[],a._maps={},a._forceUpd=!1,a.get=null;var n=a;return Object.defineProperty(n,"path",{get:function(){return n.props.getPath()}}),Object.defineProperty(n,"pFForm",{get:function(){return n.props.pFForm}}),Object.defineProperty(n,"liveValidate",{get:function(){return f.getIn(n.getData(),"params","liveValidate")}}),Object.defineProperty(n,"liveUpdate",{get:function(){return f.getIn(n.getData(),"params","liveUpdate")}}),Object.defineProperty(n,"value",{get:function(){return n.props.pFForm.getValue(n.state.branch,n)}}),Object.defineProperty(n,"stateApi",{get:function(){return n.props.pFForm.api}}),n.state={branch:n.pFForm.getBranch(n.path)},n.$branch=n.state.branch,n._updateStateApi(e.pFForm.api),n.wrapFns=n.wrapFns.bind(n),a}return u(t,v),n(t,[{key:"getRef",value:function(e){var t=this;return(e=p.normalizePath(e)).length?1==e.length&&e[0]==p.SymData?t:"@"==e[0][0]?1==e.length?t.$refs[e[0]]:t.$refs[e[0]].getRef(e.slice(1)):t.$refs["@Main"]&&t.$refs["@Main"].getRef&&t.$refs["@Main"].getRef(e):t.$refs["@Main"]}},{key:"_resolver",value:function(e){try{return d.objectResolver(this.pFForm.elements,e)}catch(e){throw this._addErrPath(e)}}},{key:"_addErrPath",value:function(e){return e.message=e.message+", in form '"+(this.pFForm.props.name||"")+"', path: '"+this.path+"'",e}},{key:"_updateStateApi",value:function(e){var t=this;if(e){var r=e.wrapper({get path(){return t.path}});r._set=r.set,r._setValue=r.setValue,r.set=function(){return t._cacheValue(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],"set",arguments.length<=2?void 0:arguments[2])||r._set.apply(r,arguments)},r.setValue=function(){return t._cacheValue(((arguments.length<=1?void 0:arguments[1])||{}).path,arguments.length<=0?void 0:arguments[0],"setValue",arguments.length<=1?void 0:arguments[1])||r._setValue.apply(r,arguments)},t.api=r}}},{key:"_updateCachedValue",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.liveUpdate||this._forceUpd,t=this;t._cachedTimeout=void 0,e&&t._cached&&(t._forceUpd=!1,t.stateApi.setValue(t._cached.value,Object.assign({noValidation:!t.liveValidate,path:t.path},t._cached.opts)),t._cached=void 0)}},{key:"_cacheValue",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"set",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=this,i=n.pFForm.props.fieldCache;(f.isUndefined(i)||!0===i)&&(i=40);var o="setValue"===r&&(!e||"./"==e||"."==e);if(!o){var s=n.path;o=(e="#/"+p.path2string(p.normalizePath(e,n.path))+("setValue"===r?"/@/value":""))==s+"/@/value"||e=="#/@/current/"+s.slice(2)}if(o){var u=n.getData();if(n._cached={value:t,opts:a},i){n._cachedTimeout&&clearTimeout(n._cachedTimeout),n._cachedTimeout=setTimeout(n._updateCachedValue.bind(n),i);var c=n.getData(),l=n._mappedData;n.get=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=p.normalizePath(t,n.path);return f.isEqual(a,p.normalizePath("./@value",n.path))?c.value:n.stateApi.get(a)},n._setMappedData(u,c,!0),n.get=null,l!=n._mappedData&&n.forceUpdate()}else n._updateCachedValue();return!0}}},{key:"wrapFns",value:function(e){var t=this;if(f.isFunction(e)&&(e={$:e}),p.isMapFn(e)){var r=e.norm?e:p.normalizeFn(e,{wrapFn:t.wrapFns}),a=p.processFn.bind(t,r);return a._map=r,a}if(f.isMergeable(e)){var n=f.isArray(e)?[]:{};//!~ignore.indexOf(key) &&
return f.objKeys(e).forEach(function(r){return n[r]="_"!=r[0]?t.wrapFns(e[r]):e[r]}),n}return e}},{key:"_build",value:function(){var e=this;e.state={branch:e.pFForm.getBranch(e.path)},e.$branch=e.state.branch;var t=e.api.getSchemaPart(e.path);if(e.schemaPart=t,e._isNotSelfManaged=!p.isSelfManaged(e.state.branch)||void 0,(f.isArray(t.type)||f.isUndefined(t.type))&&!t.ff_presets)throw new Error("schema.ff_presets should be defined explicitly for multi type");e.ff_layout=e.wrapFns(w(e.pFForm.elements,t.ff_layout));var r=w(e.pFForm.elements,t.ff_custom,t.ff_presets||t.type),a=A(r=e.wrapFns(r)),n=a.$_maps,i=a.rest;e._maps=j(n),e._widgets={},e._ff_components=i,e._blocks=f.objKeys(i).filter(function(e){return i[e]}),e._blocks.forEach(function(t){var r=i[t],a=r._$widget,n=r.$_reactRef,o=c(r,["_$widget","$_reactRef"]);if(!a)throw new Error('_$widget for "'+t+'" is empty');if(e._widgets[t]=a,n){var s=e._refProcess("@"+t,n);o[f.isFunction(s)?"ref":"$_reactRef"]=s}e._mappedData[t]=o}),e._setMappedData(void 0,e.getData(),"build"),e._rebuild=!1}},{key:"_setMappedData",value:function(e,t,r){var a=this,n=a.getData;a.getData=function(){return t};var i=I(a._mappedData,e,t,"build"==r&&a._maps.build,r&&a._maps.data,a._maps.every);return a.getData=n,a._mappedData!=i&&(a._mappedData=i,!0)}},{key:"getData",value:function(e){var t=this,r=t.pFForm.getDataObject(e||f.getIn(t,"state","branch"),t);return t._cached?f.merge(r,{value:t._cached.value},{replace:{value:t._cached.opts.replace}}):r}},{key:"shouldComponentUpdate",value:function(e,t){var r=this;if(e.FFormApi!==r.props.FFormApi)return r._updateStateApi(e.FFormApi),r._rebuild=!0;if(!f.isEqual(e,r.props))return r._rebuild=!0;if(f.isUndefined(t.branch))return!0;r.$branch=t.branch;var a=!1,n=r.getData(),i=r.getData(f.getIn(t,"branch"));if(f.getIn(i,"oneOf")!==f.getIn(n,"oneOf"))return r._rebuild=!0;try{a=(a=r._setMappedData(n,i,i!==n)||a)||f.getIn(i,"params","norender")!==f.getIn(n,"params","norender")}catch(e){throw r._addErrPath(e)}return a}},{key:"render",value:function(){var e=this;try{return f.isUndefined(e.state.branch)?null:!f.getIn(e.getData(),"params","norender")&&(e._rebuild&&this._build(),e._widgets.Builder?l.createElement(e._widgets.Builder,e._mappedData.Builder,e._mappedData):null)}catch(t){throw e._addErrPath(t)}}}]),t}(),y=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,l.Component),n(t,[{key:"_cn",value:function(e){return e&&this.props._$cx&&e.className&&!f.isString(e.className)?S(this.props._$widget)?Object.assign({_$cx:this.props._$cx},e):Object.assign({},e,{className:this.props._$cx(e.className)}):e}},{key:"render",value:function(){var e=this._cn(this.props.getMappedData());return l.createElement(this.props._$widget,e,this.props.children||e.children)}}]),t}(),m=function(e){function t(e,r){o(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));a._arrayStart=0,a._rebuild=!0,a._focusField="",a._arrayKey2field={},a._widgets={},a._objectLayouts=[],a._arrayLayouts=[],a._maps={},a._mappedData={},a._isArray=!1;var n=a;return n._setWidRef=function(e){return function(t){return n._widgets[e]=t}},a}return u(t,v),n(t,[{key:"_getMappedData",value:function(e){var t=this;return function(){return t._mappedData[e]}}},{key:"_build",value:function(e){function t(e,t){var a=A(t,["$_fields"]),n=a.$_maps,i=a.rest,o=i.$_fields,s=i.$_reactRef,l=i._$widget,p=void 0===l?u:l,h=i.className,g=c(i,["$_fields","$_reactRef","_$widget","className"]);!o&&e||(h=f.merge(d,h)),g.className=h;var y=r._refProcess("@widget_"+e,s)||{};f.isFunction(y)&&(y={ref:y}),Object.assign(g,y);var m=j(n,e.toString());return v.forEach(function(e){var t;return(t=r._maps[e]).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(m[e]))}),r._mappedData[e]=g,{_$widget:p,$_fields:o}}var r=this,a=e.$branch,n=e.$layout,i=e._$cx,o=e.arrayStart,s=e.LayoutDefaultWidget,u=void 0===s?"div":s,p=e.LayoutDefaultClass,d=void 0===p?{}:p,h=(e.uniqKey,e.focusField),v=["build","data","every"];v.forEach(function(e){return r._maps[e]=[]}),r.$refs={},r._widgets={},r._mappedData={},r._objectLayouts=[];var g={keys:r._getObjectKeys(a),counter:1};r._focusField=h||g.keys[0]||"";var m=t(0,f.isArray(n)?{$_fields:n}:n),_=m._$widget,b=m.$_fields;if(r._$widget=_,b&&(r._objectLayouts=function e(a,n){var o=[];return n.forEach(function(n){if(a.keys,a.counter,f.isString(n)){var s=a.keys.indexOf(n);~s&&(o.push(r._makeFField(n)),a.keys.splice(s,1))}else if(f.isObject(n)){var u=a.counter++,c=t(u,n),p=c._$widget,d=c.$_fields;o.push(l.createElement(y,{_$widget:p,_$cx:i,key:"widget_"+u,ref:r._setWidRef(u),getMappedData:r._getMappedData(u)},d&&e(a,d)))}}),o}(g,b)),g.keys.forEach(function(e){return r._objectLayouts.push(r._makeFField(e))}),r._arrayLayouts=[],r._arrayKey2field={},r.props.isArray)for(var $=o;$<r.props.length;$++){var O=r._arrayIndex2key(a[$]);r._arrayLayouts.push(r._makeFField($.toString(),O)),O&&(r._arrayKey2field[O]=$)}r._mappedData=r._updateMappedData(void 0,r._getData(a),"build"),r._rebuild=!1}},{key:"_makeFField",value:function(e,t){var r=this;return l.createElement(g,{ref:r._setRef(t||e),key:t||e,pFForm:r.props.$FField.pFForm,FFormApi:r.props.FFormApi,id:r.props.id?r.props.id+(t||e):void 0,name:r.props.name?r.props.name+"["+(r.props.isArray?"${idx}_"+(t||e):e)+"]":void 0,getPath:t?r._getArrayPath.bind(r,t):r._getObjectPath.bind(r,e)})}},{key:"_arrayIndex2key",value:function(e){return this.props.uniqKey?f.getIn(this._getData(e),p.string2path(this.props.uniqKey)):void 0}},{key:"_getObjectKeys",value:function(e){var t=[];if(this.props.isArray)for(var r=0;r<this.props.arrayStart;r++)t.push(r.toString());else t=p.branchKeys(e);return t}},{key:"_getObjectPath",value:function(e){return this.props.$FField.path+"/"+e}},{key:"_getArrayPath",value:function(e){return this.props.$FField.path+"/"+this._arrayKey2field[e]}},{key:"_getArrayField",value:function(e){return this._arrayLayouts[e-this.props.arrayStart]}},{key:"_reorderArrayLayout",value:function(e,t,r){for(var a=this,n=[],i=!1,o=r.arrayStart;o<r.length;o++){var s=a._arrayIndex2key(t[o]);if(f.isUndefined(s))throw new Error("no unique key provided for array item");a.$refs[s]&&a.$refs[s].setState({branch:t[o]});var u=a._arrayKey2field[s];a._arrayKey2field[s]!==o&&(a._arrayKey2field[s]=o,i=!0),n.push(f.isUndefined(u)?a._makeFField(o.toString(),s):a._getArrayField(u))}return a._arrayLayouts.length!==n.length&&(i=!0),i&&(a._arrayLayouts=n),i}},{key:"_updateMappedData",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e!==t;return I(this._mappedData,e,t,"build"==r&&this._maps.build,r&&this._maps.data,this._maps.every)}},{key:"_getData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.$branch;return this.props.$FField.getData(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(e.FFormApi!==t.props.FFormApi||e.oneOf!==t.props.oneOf)return t._rebuild=!0;var r=!f.isEqual(e,t.props,{skipKeys:["$branch"]}),a=t.props.$branch,n=e.$branch;if(a!=n){var i=void 0;try{i=t._updateMappedData(t._getData(a),t._getData(n))}catch(e){throw t.props.$FField._addErrPath(e)}if(i!=t._mappedData){var o=t._mappedData;t._mappedData=i,f.objKeys(i).forEach(function(e){return t._widgets[e]&&i[e]!=o[e]&&t._widgets[e].forceUpdate()})}t._getObjectKeys(n).forEach(function(e){return n[e]!==a[e]&&t.$refs[e]&&t.$refs[e].setState({branch:n[e]})}),t.props.isArray&&(r=t._reorderArrayLayout(a,n,e)||r)}return r}},{key:"getRef",value:function(e){if(!this.props.isArray||isNaN(parseInt(e[0]))||e[0]<this.props.arrayStart)return function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,a)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getRef",this).call(this,e);var r=this._getArrayField(e[0]);return r&&this.$refs[r.key].getRef(e.slice(1))}},{key:"render",value:function(){var e=this,t=e.props;try{if(t.viewer){var r=t.viewerProps||{},a=r._$widget,n=void 0===a?b:a,i=c(r,["_$widget"]);return i.inputProps=t,i.value=t.$FField.value,l.createElement(n,i)}return p.isSelfManaged(t.$branch)?null:(e._rebuild&&e._build(t),l.createElement(y,{_$widget:e._$widget,_$cx:t._$cx,key:"widget_0",ref:e._setWidRef(0),getMappedData:e._getMappedData(0)},e._objectLayouts,e._arrayLayouts))}catch(t){throw e.props.$FField._addErrPath(t)}}}]),t}(),_=function(e){function t(e,r){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return u(t,v),n(t,[{key:"_newWidget",value:function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=r._$widget,i=void 0===n?t:n,o=r.className,s=r.$_reactRef,u=c(r,["_$widget","className","$_reactRef"]),p=this._refProcess(e,s)||{};return f.isFunction(p)&&(p={ref:p}),f.isFunction(a)?p.ref=a:Object.assign(p,a),l.createElement(i,Object.assign({key:e,className:!S(i)&&this.props._$cx?this.props._$cx(o):o,_$cx:S(i)?this.props._$cx:void 0},u,p))}},{key:"_mapChildren",value:function(e,t){var r=this;if(e!==r._children||r._reactRef!==t){var a=r._children&&f.toArray(r._children),n=e&&f.toArray(e);r._mapped=n&&n.map(function(e,i){return!f.isObject(e)||e.$$typeof?e:r._mapped&&f.getIn(r._mapped,i)&&a[i]===n[i]&&f.getIn(r._reactRef,i)===f.getIn(t,i)?r._mapped[i]:r._newWidget(i,e,f.getIn(t,i))}),r._children=e,r._reactRef=t}}},{key:"setRef2rest",value:function(e,t){if(!t)return e;t.ref&&(e.ref=t.ref),t.tagRef&&(e.tagRef=t.tagRef)}},{key:"render",value:function(){var e=this;if(e.props.norender)return null;var t=e.props,r=t._$useTag,a=void 0===r?"div":r,n=t._$cx,i=t.className,o=t.$_reactRef,s=t.children,u=c(t,["_$useTag","_$cx","className","$_reactRef","children"]);return e._mapChildren(s,o),e.setRef2rest(u,o),l.createElement(a,Object.assign({children:e._mapped,className:n?n(i):i},u))}}]),t}();function b(e){var t=e._$useTag,r=void 0===t?"div":t,a=e.value,n=(e.inputProps,e._$cx),i=e.enumExten,o=void 0===i?{}:i,s=e.emptyMock,u=void 0===s?"(none)":s,p=c(e,["_$useTag","value","inputProps","_$cx","enumExten","emptyMock"]);return p.className&&n&&(p.className=n(p.className)),l.createElement(r,p,function e(t){var r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return r=n,(f.isMergeable(r)?0===f.objKeys(r).length:null==r||""===r)?t:f.isArray(n)?n.map(e.bind(null,t,a)).join(", "):(n=E(a,n).label||n,f.isString(n)?n:JSON.stringify(n))}(u,o,a))}var $=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,_),n(t,[{key:"render",value:function(){var e=this.props;if(e.viewer){var t=e.viewerProps||{},r=t._$widget,a=void 0===r?b:r,n=c(t,["_$widget"]);return n.inputProps=e,n.value=e.value,l.createElement(a,n)}var i=e.value,o=e._$useTag,s=e.type,u=e.$_reactRef,f=e._$cx,p=(e.viewer,e.viewerProps,e.children),d=c(e,["value","_$useTag","type","$_reactRef","_$cx","viewer","viewerProps","children"]);return this._mapChildren(p,u),this.setRef2rest(d,u),"textarea"==s||"select"==s?o=o||s:(o=o||"input","notInput"!==s&&(d.type=s)),"notInput"!==s&&(d["checkbox"===s?"checked":"value"]=i),d.className&&f&&(d.className=f(d.className)),l.createElement(o,d,this._mapped)}}]),t}(),O=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,l.Component),n(t,[{key:"componentDidMount",value:function(){var e=this,t=window&&window.getComputedStyle(this.props.$FField.$refs["@Main"]);t&&this._elem&&["fontSize","fontFamily","fontWeight","fontStyle","letterSpacing"].forEach(function(r){return e._elem.style[r]=t[r]})}},{key:"render",value:function(){var e=this,r=e.props,a=(f.isUndefined(r.value)||null===r.value?"":r.value.toString())||r.placeholder||"";return l.createElement("div",{style:t.sizerStyle,ref:function(t){(e._elem=t)&&r.$FField.$refs["@Main"]&&(r.$FField.$refs["@Main"].style.width=Math.max(t.scrollWidth+(r.addWidth||45),r.minWidth||0)+"px")}},a)}}]),t}();function S(e){return e instanceof _}O.sizerStyle={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"};var w=f.memoize(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];if(r){var a=r.split(":").map(function(e){return(e=e.trim())&&("^"!=e[0]?"^/sets/"+e:e)}).join(":")+":"+(t.$_ref||"");t=f.merge(t,{$_ref:a})}return d.objectResolver(e,t)});function A(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=e.$_maps,a=c(e,["$_maps"]);r=Object.assign({},r);var n=f.isArray(e)?[]:{};return f.objKeys(a).forEach(function(e){if(f.isMergeable(a[e])&&!~t.indexOf(e)){var i=A(a[e],t);n[e]=i.rest,f.objKeys(i.$_maps).forEach(function(t){return r[e+"/"+t]=i.$_maps[t]})}else n[e]=a[e]}),{$_maps:r,rest:n}}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r={data:[],every:[],build:[]};return f.objKeys(e).forEach(function(a){var n=e[a];if(n){var i=p.multiplyPath(p.normalizePath((t?t+"/":"")+a));if(f.isFunction(n)||f.isArray(n))f.toArray(n).forEach(function(e){var t=e._map,a=t.update,n=void 0===a?"data":a,o=t.replace,s=void 0===o||o,u=c(t,["update","replace"]);r[n].push(Object.assign({update:n,replace:s},u,{to:i,$:e}))});else{f.isString(n)&&(n={args:n});var o=n=Object.assign({},n,p.normalizeArgs(n.args)),s=o.args,u=o.update,l=void 0===u?"data":u,d=o.replace,h=void 0===d||d,v=c(n,["args","update","replace"]);r.data.push(Object.assign({args:s[0],update:l,replace:h,to:i,dataRequest:!0},v))}}}),r}
//!map.$ && map.args[0] == 'selectorValue' && args[0]
function I(e,t,r){for(var a={update:{},replace:{},api:{}},n=arguments.length,i=Array(3<n?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];return i.forEach(function(n){return n&&n.forEach(function(n){if("data"!=n.update||function e(a){return f.isUndefined(t)||!a.$||a.dataRequest&&a.args.some(function(a){return p.isNPath(a)?f.getIn(t,a)!==f.getIn(r,a):!!p.isMapFn(a)&&e(a._map||a)})}(n)){var i=n.$?n.$():p.processProp(r,n.args);f.objKeys(n.to).forEach(function(e){return p.setUPDATABLE(a,i,n.replace,n.to[e])}),n.replace||(e=p.mergeUPD_PROC(e,a))}})}),p.mergeUPD_PROC(e,a)}t.extractMaps=A,t.normalizeMaps=j,t.updateProps=I;var E=function(e,t){return(f.isFunction(e)?e(t):f.getIn(e,t))||{}};function x(){for(var e=this,t=[],r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=function(r){var i=n[r];if(!i)return"continue";var o=void 0===i?"undefined":a(i);"string"===o||"number"===o?t.push(e&&e[i]||i):f.isArray(i)?t.push(x.apply(e,i)):"object"===o&&f.objKeys(i).forEach(function(r){i[r]&&("number"==typeof i[r]||!0===i[r]?t.push(e&&e[r]||r):t.push(x.call(e,i[r])))})},s=0;s<n.length;s++)o(s);return t.join(" ")}var P={extend:function(e,t){return f.merge.all(this,e,t)},widgets:{Section:m,Generic:_,Input:$,Autowidth:O,Builder:function(e){var t=e.children,r=e.widgets,a=r.Title,n=r.Body,i=r.Main,o=r.Message,s=r.Wrapper,u=r.Autowidth;return t=f.deArray(t),s?l.createElement(s,t.Wrapper,a?l.createElement(a,t.Title):"",n?l.createElement(n,t.Body,i?l.createElement(i,t.Main):"",o?l.createElement(o,t.Message):"",u?l.createElement(u,t.Autowidth):""):""):""},Wrapper:function(e){var t=e._$useTag,r=void 0===t?"div":t,a=e._$cx,n=void 0===a?x:a,i=e.className,o=e.ArrayItemMenu,s=e.ArrayItemBody,u=e.arrayItem,f=c(e,["_$useTag","_$cx","className","ArrayItemMenu","ArrayItemBody","arrayItem"]),p=s||{},d=p._$widget,h=void 0===d?"div":d,v=p.className,g=void 0===v?{}:v,y=c(p,["_$widget","className"]),m=o||{},_=m._$widget,b=void 0===_?"div":_,$=m.className,O=void 0===$?{}:$,S=c(m,["_$widget","className"]),w=l.createElement(r,Object.assign({className:n?n(i):i},f));return u?l.createElement(h,Object.assign({className:n?n(g):g},y),w,l.createElement(b,Object.assign({className:n&&n(O)},S))):w},ItemMenu:function(e){var t=e._$useTag,r=void 0===t?"div":t,a=e._$cx,n=e.disabled,i=e.className,o=e.buttonsProps,s=void 0===o?{}:o,u=e.arrayItem,f=e.buttons,p=void 0===f?[]:f,d=e.onClick,h=c(e,["_$useTag","_$cx","disabled","className","buttonsProps","arrayItem","buttons","onClick"]);return u?(p.forEach(function(e){return delete h[e]}),l.createElement(r,Object.assign({className:a(i)},h),p.map(function(e){var t=s[e]||{},r=t._$widget,i=void 0===r?"button":r,o=t.type,f=void 0===o?"button":o,p=t.disabledCheck,h=void 0===p?"":p,v=t.className,g=void 0===v?{}:v,y=t.onClick,m=void 0===y?d:y,_=t.title,b=void 0===_?e:_,$=t.children,O=void 0===$?e:$,S=c(t,["_$widget","type","disabledCheck","className","onClick","title","children"]);return l.createElement(i,Object.assign({key:e,type:f,title:b,className:a?a(g):g,children:O,disabled:n||h&&!u[h]},S,{onClick:function(){return m(e)}}))}))):null},CheckboxNull:function(e){var t=e.checked,r=e.onChange,a=e.nullValue,n=void 0===a?null:a,i=e.dual,o=e.tagRef,s=(e.type,c(e,["checked","onChange","nullValue","dual","tagRef","type"]));return l.createElement("input",Object.assign({type:"checkbox",checked:!0===t},s,{onChange:function(e){r(i?!t:t===n||!0!==t&&n,e)},ref:function(e){o&&o(e),e&&(e.indeterminate=t===n)}}))}},sets:{base:{Wrapper:{_$widget:"^/widgets/Wrapper",ArrayItemMenu:{$_ref:"^/parts/ArrayItemMenu"},_$cx:"^/_$cx",$_maps:{"className/hidden":"@/params/hidden",arrayItem:"@/arrayItem"}},Builder:{_$widget:"^/widgets/Builder",_$cx:"^/_$cx",$_maps:{widgets:{$:"^/fn/getProp",args:["_widgets"],update:"build"}}},Body:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",className:"body"},Message:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",children:[],$_maps:{children:{$:"^/fn/messages",args:["@/messages",{}]},"className/hidden":{$:"^/fn/not",args:"@/status/touched"}}}},nBase:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Input",_$cx:"^/_$cx",$_reactRef:{ref:!0},viewerProps:{_$cx:"^/_$cx",emptyMock:"(no value)",className:{viewer:!0}},onChange:{$:"^/fn/eventValue|setValue"},onBlur:{$:"^/fn/blur"},onFocus:{$:"^/fn/focus"},$_maps:{value:"@/value",viewer:"@/params/viewer",autoFocus:"@/params/autofocus",readOnly:"@/params/readonly",disabled:"@/params/disabled",placeholder:"@/fData/placeholder",required:"@/fData/required",label:"@/fData/title","viewerProps/enumExten":"@/fData/enumExten",id:{$:"^/fn/getProp",args:"props/id",update:"build"},name:{$:"^/fn/getProp",args:"props/name",update:"build"}}},Title:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"label",children:[],$_maps:{"className/required":"@/fData/required","children/0":"@/fData/title","className/hidden":{$:"^/fn/not",args:"@/fData/title"},htmlFor:{$:"^/fn/getProp",args:["id"],update:"build"},"className/title-viewer":"@/params/viewer"}}},string:{$_ref:"^/sets/nBase",Main:{type:"text"}},textarea:{$_ref:"^/sets/nBase",Main:{type:"textarea",viewerProps:{className:{viewer:!1,"viewer-inverted":!0}}},Title:{$_maps:{"className/title-viewer-inverted":"@/params/viewer"}}},integer:{$_ref:"^/sets/nBase",Main:{type:"number",onChange:{$:"^/fn/eventValue|parseNumber|setValue",args:["${0}",!0,0]},$_maps:{value:{$:"^/fn/iif",args:[{$:"^/fn/equal",args:["@value",null]},"","@value"]}}}},integerNull:{$_ref:"^/sets/integer",Main:{onChange:{args:{2:null}}}},number:{$_ref:"^/sets/integer",Main:{onChange:{args:{1:!1}},step:"any"}},numberNull:{$_ref:"^/sets/integerNull",Main:{onChange:{args:{1:!1,2:null}},step:"any"}},null:{$_ref:"^/sets/nBase",Main:!1},boolean:{$_ref:"^/sets/nBase",Main:{type:"checkbox",onChange:{$:"^/fn/eventChecked|setValue|updCached"}}},booleanLeft:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Generic",_$useTag:"label",_$cx:"^/_$cx",$_reactRef:{0:{ref:!0}},children:[{$_ref:"^/sets/nBase/Main:^/sets/boolean/Main",$_reactRef:!1,viewerProps:{_$useTag:"span"}},{$_ref:"^/sets/nBase/Title",_$useTag:"span",$_maps:{"className/hidden":"@/params/viewer"}}]},Title:{$_ref:"^/sets/nBase/Title",$_maps:{"className/hidden":{$:"^/fn/not",args:"@/params/viewer"}}}},booleanNull:{$_ref:"^/sets/boolean",Main:{_$useTag:"^/widgets/CheckboxNull",$_reactRef:{tagRef:!0},onChange:{$:"^/fn/setValue|updCached"}}},booleanNullLeft:{$_ref:"^/sets/booleanLeft",Main:{$_reactRef:{0:{ref:null,tagRef:!0}},children:[{$_ref:"^/sets/booleanNull/Main"},{}]}},object:{$_ref:"^/sets/base",Main:{_$widget:"^/widgets/Section",_$cx:"^/_$cx",$_reactRef:!0,uniqKey:"params/uniqKey",LayoutDefaultClass:"layout",LayoutDefaultWidget:"div",viewerProps:{$_ref:"^/sets/nBase/Main/viewerProps"},$_maps:{length:"@/length",oneOf:"@/oneOf",isArray:{$:"^/fn/equal",args:["@/fData/type","array"]},$branch:{$:"^/fn/getProp",args:"$branch",update:"every"},arrayStart:{$:"^/fn/getArrayStart",args:[],update:"build"},$FField:{$:"^/fn/getProp",args:[],update:"build"},FFormApi:{$:"^/fn/getProp",args:"props/pFForm/api",update:"build"},id:{$:"^/fn/getProp",args:"props/id",update:"build"},name:{$:"^/fn/getProp",args:"props/name",update:"build"},$layout:{$:"^/fn/getProp",args:"ff_layout",update:"build"}}},Title:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"legend",children:[{$_ref:"^/sets/nBase/Title",_$useTag:"span"},{$_ref:"^/parts/ArrayAddButton"},{$_ref:"^/parts/ArrayDelButton"},{$_ref:"^/parts/ArrayEmpty"}]},Wrapper:{_$useTag:"fieldset"}},array:{$_ref:"^/sets/object"},select:{$_ref:"^/sets/nBase",Main:{type:"select",children:[],$_maps:{children:{$:"^/fn/arrayOfEnum",args:["@/fData/enum","@/fData/enumExten",{_$widget:"option"}],replace:!1},label:!1}}},multiselect:{$_ref:"^/sets/select",Main:{multiple:!0,onChange:{$:"^/fn/eventMultiple|setValue"}}},radio:{$_ref:"^/sets/base",Title:{$_ref:"^/sets/nBase/Title"},Main:{$_ref:"^/parts/RadioSelector",$_reactRef:!0,viewerProps:{$_ref:"^/sets/nBase/Main/viewerProps"},$_maps:{value:"@/value",viewer:"@/params/viewer",children:[{args:["@/fData/enum","@/fData/enumExten",{$_reactRef:{$_reactRef:{0:{ref:!0}}}},{onChange:{args:["${0}"]}},{},!0]},{args:["@/fData/enum","@/value"]},{args:{0:"@/fData/enum"}}]}}},checkboxes:{$_ref:"^/sets/radio",Main:{$_maps:{children:{0:{args:{3:{type:"checkbox",onChange:{$:"^/fn/eventCheckboxes|setValue|updCached"}},5:"[]"}}}}}},radioNull:{Main:{$_maps:{children:{0:{args:{3:{onClick:"^/fn/eventValue|radioClear|updCached"}}}}}}},radioEmpty:{Main:{$_maps:{children:{0:{args:{3:{onClick:{$:"^/fn/eventValue|radioClear|updCached",args:["${0}",""]}}}}}}}},hidden:{Builder:{className:{hidden:!0},$_maps:{"className/hidden":!1}}},autowidth:{Autowidth:{$_ref:"^/parts/Autowidth"},Wrapper:{className:{shrink:!0}}},noArrayControls:{Wrapper:{$_maps:{arrayItem:!1}}},noArrayButtons:{Title:{$_ref:"^/sets/nBase/Title"}},inlineItems:{Main:{className:{inline:!0}}},inlineTitle:{Wrapper:{className:{inline:!0}}},inlineLayout:{Main:{LayoutDefaultClass:{inline:!0}}},inlineArrayControls:{Wrapper:{ArrayItemBody:{className:{inline:!0}}}},arrayControls3but:{Wrapper:{ArrayItemMenu:{buttons:["up","down","del"]}}},noTitle:{Title:!1},shrink:{Wrapper:{className:{shrink:!0}}},expand:{Wrapper:{className:{expand:!0}}},bnnDual:{Main:{children:{0:{dual:!0}}}}},fn:{api:function(e){for(var t,r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];(t=this.api)[e].apply(t,a)},format:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce(function(e,t,r){return e.replace("${"+r+"}",t)},e)},iif:function(e,t,r){for(var a=arguments.length,n=Array(3<a?a-3:0),i=3;i<a;i++)n[i-3]=arguments[i];return[e?t:r].concat(n)},not:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[!e].concat(r)},equal:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[r.some(function(t){return e===t})]},getArrayStart:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return[p.arrayStart(this.schemaPart)].concat(t)},getProp:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[f.getIn(this,p.normalizePath(e))].concat(r)},eventValue:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[e.target.value].concat(r)},eventChecked:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[e.target.checked].concat(r)},eventMultiple:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return[Array.from(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value})].concat(r)},parseNumber:function(e){for(var t=arguments.length,r=Array(3<t?t-3:0),a=3;a<t;a++)r[a-3]=arguments[a];var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return[""===e?i:(n?parseInt:parseFloat)(e)].concat(r)},setValue:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.api.setValue(e,t);for(var r=arguments.length,a=Array(2<r?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return a},focus:function(e){this.api.set("/@/active",this.path,{noValidation:!0});for(var t=arguments.length,r=Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r},blur:function(){var e;this.api.set("./",-1,(i(e={},p.SymData,["status","untouched"]),i(e,"noValidation",!0),i(e,"macros","setStatus"),e)),this.api.set("/@/active",void 0,{noValidation:!0}),this._updateCachedValue(!0),!this.liveValidate&&this.api.validate("./");for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return r},updCached:function(){this._forceUpd=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},eventCheckboxes:function(e){var t=(this.getData().value||[]).slice(),r=e.target.value,a=t.indexOf(r),n=t.slice();-1==a?n.push(r):n.splice(a,1);var i=this.getData().fData.enum;n.sort(function(e,t){return i.indexOf(e)>i.indexOf(t)});for(var o=arguments.length,s=Array(1<o?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return[n].concat(s)},radioClear:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.api.getValue()===e&&this.api.setValue(t);for(var r=arguments.length,a=Array(2<r?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];return a},messages:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.className,a=void 0===r?{}:r,n=c(t,["className"]);return[f.objKeys(e).map(function(t){var r=e[t],o=r.norender,s=r.texts,u=r.className,l=void 0===u?{}:u,p=c(r,["norender","texts","className"]),d=[];return f.objKeys(s).forEach(function(e){return f.toArray(s[e]).forEach(function(e,t,r){return f.isString(e)&&f.isString(d[d.length-1])?d.push(e,{_$widget:"br"}):d.push(e)})}),o||!d.length?null:Object.assign({children:d},n,{className:Object.assign(i({},"priority_"+t,!0),a,l)},p)})]},arrayOfEnum:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];return[e.map(function(e){var i=E(t,e);return Object.assign({value:e,key:e,children:[i.label||e],name:n&&r.name+(!0===n?"":n)},i,a)})]},enumInputs:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=this,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=arguments[5];return[e.map(function(e){var s=E(t,e);return Object.assign({key:e},r,{children:[Object.assign({value:e,name:o&&n.props.name+(!0===o?"":o)},f.merge(a,s)),Object.assign({},i,{children:[s.label||e]})]})})]},enumInputProps:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t={},r=arguments.length,a=Array(1<r?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];for(var i=0;i<a.length;i+=2)t[a[i]]=a[i+1];return[e.map(function(e){return{children:{0:t}}})]},enumInputValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"checked";return t=f.toArray(t),[e.map(function(e){return{children:{0:i({},r,!!~t.indexOf(e))}}})]}},parts:{RadioSelector:{_$widget:"^/widgets/Input",_$cx:"^/_$cx",_$useTag:"div",type:"notInput",children:[],$_maps:{value:"@/selector/value",children:[{$:"^/fn/enumInputs",args:["@/selector/enum","@/selector/enumExten",{_$useTag:"label",_$cx:"^/_$cx"},{_$widget:"input",type:"radio",onChange:{$:"^/fn/eventValue|setValue|updCached",args:["${0}",{path:"./@/selector/value"}]},onBlur:"^/sets/nBase/Main/onBlur",onFocus:"^/sets/nBase/Main/onFocus"},{_$useTag:"span",_$cx:"^/_$cx"},!0],replace:!1},{$:"^/fn/enumInputValue",args:["@/selector/enum","@/selector/value"],replace:!1},{$:"^/fn/enumInputProps",args:["@/selector/enum","readOnly","@/params/readonly","disabled","@/params/disabled"],replace:!1}]}},Autowidth:{_$widget:"^/widgets/Autowidth",addWidth:35,minWidth:60,$_maps:{value:"value",placeholder:"@/params/placeholder","className/hidden":"@/params/hidden",$FField:{$:"^/fn/getProp",args:[],update:"build"}}},Button:{_$widget:"^/widgets/Generic",_$cx:"^/_$cx",_$useTag:"button",type:"button",$_maps:{"className/button-viewer":"@/params/viewer",disabled:"@/params/disabled"}},Submit:{$_ref:"^/parts/Button",type:"submit",children:["Submit"]},Reset:{$_ref:"^/parts/Button",children:["Reset"],onClick:{$:"^/fn/api",args:["reset"]},$_maps:{disabled:"@/status/pristine"}},ArrayAddButton:{$_ref:"^/parts/Button",children:["+"],onClick:{$:"^/fn/api",args:["arrayAdd","./",1]},$_maps:{"className/hidden":{$:"^/fn/equal | ^/fn/not",args:["@/fData/type","array"]},disabled:{$:"^/fn/equal",args:[!0,{$:"^/fn/not",args:"@/fData/canAdd"},"@params/disabled"]}}},ArrayDelButton:{$_ref:"^/parts/Button",children:["-"],onClick:{$:"^/fn/api",args:["arrayAdd","./",-1]},$_maps:{"className/hidden":{$:"^/fn/equal | ^/fn/not",args:["@/fData/type","array"]},disabled:{$:"^/fn/equal",args:[!0,{$:"^/fn/not",args:"@/length"},"@params/disabled"]}}},ArrayEmpty:{children:"(array is empty)",_$useTag:"span",$_maps:{"className/hidden":{$:"^/fn/equal | ^/fn/not",args:["@/length",0]}}},ArrayItemMenu:{_$widget:"^/widgets/ItemMenu",_$cx:"^/_$cx",buttons:["first","last","up","down","del"],onClick:{$:"^/fn/api",args:["arrayItemOps","./","${0}"]},buttonsProps:{first:{disabledCheck:"canUp"},last:{disabledCheck:"canDown"},up:{disabledCheck:"canUp"},down:{disabledCheck:"canDown"},del:{disabledCheck:"canDel"}},$_maps:{arrayItem:"@/arrayItem","className/button-viewer":"@/params/viewer",disabled:"@params/disabled"}},Expander:{_$widget:"div",className:{expand:!0}}},_$cx:x};t.elements=P},function(t,r){t.exports=e}])},"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.fform=t(require("React")):e.fform=t(e.React);