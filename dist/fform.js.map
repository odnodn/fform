{"version":3,"sources":["webpack://fform/webpack/universalModuleDefinition","webpack://fform/webpack/bootstrap","webpack://fform/./src/api.tsx","webpack://fform/./src/commonLib.tsx","webpack://fform/./src/fform.tsx","webpack://fform/./src/stateLib.tsx","webpack://fform/external \"React\""],"names":[],"mappings":"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","file":"fform.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fform\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"fform\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/fform.tsx\");\n","/////////////////////////////////////////////\r\n//  Actions function\r\n/////////////////////////////////////////////\r\nimport {\r\n  getIn,\r\n  isMergeable,\r\n  memoize,\r\n  merge,\r\n  push2array,\r\n  objKeys,\r\n  isArray,\r\n  isUndefined,\r\n  isString,\r\n  deArray, toArray, isFunction, isObject\r\n} from \"./commonLib\";\r\n\r\nimport {\r\n  objMap,\r\n  getFromState,\r\n  getSchemaPart,\r\n  oneOfFromState,\r\n  path2string,\r\n  string2path,\r\n  normalizeFn,\r\n  normalizePath,\r\n  normalizeUpdate,\r\n  setIfNotDeeper,\r\n  initState,\r\n  updateState,\r\n  object2PathValues,\r\n  SymData, SymReset, SymClear, SymDataMap, rehydrateState\r\n} from \"./stateLib\";\r\n\r\n\r\nclass exoPromise {\r\n  done: boolean = false;\r\n  vals: any[] = [{}, {}];\r\n\r\n  constructor() {\r\n    let self = this;\r\n    let promise: any = new Promise((resolve, reject) => {\r\n      self.setFunction(0, resolve);\r\n      self.setFunction(1, reject);\r\n    });\r\n    promise.resolve = self.execFunction.bind(self, 0);\r\n    promise.reject = self.execFunction.bind(self, 1);\r\n    promise.isPending = () => !self.done;\r\n    promise.isResolved = () => self.vals[0]['done']; // return undefined if not done, true if resolved, false if rejected\r\n    promise.isRejected = () => self.vals[1]['done'];\r\n    promise.result = () => self.done && self.vals[self.vals[0]['done'] ? 0 : 1]['rest'];\r\n    return promise;\r\n  }\r\n\r\n  setFunction(num: 0 | 1, func: any) {\r\n    let vals = this.vals[num];\r\n    vals['func'] = func;\r\n    if (vals['done']) func(...vals['rest'])\r\n  }\r\n\r\n  execFunction(num: 0 | 1, ...rest: any[]) {\r\n    if (!this.done) {\r\n      this.done = true;\r\n      let vals = this.vals[num];\r\n      vals['rest'] = rest;\r\n      vals['done'] = true;\r\n      this.vals[1 - num]['done'] = false;\r\n      if (vals['func']) vals['func'](...rest);\r\n    }\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////\r\n//  FFormCore class\r\n/////////////////////////////////////////////\r\n\r\nconst _CORES = new WeakMap();\r\n\r\nfunction fformCores(name: string) {return _CORES[name]}\r\n\r\n/** Creates a api that contains data and api for changing it */\r\nclass FFormStateManager {\r\n  private _isDispatching: boolean;\r\n  private _currentState: any;\r\n  private _reducer: any;\r\n  private _validator: any;\r\n  private _unsubscribe: any;\r\n  private _listeners: Array<(state: StateType) => void> = [];\r\n\r\n  JSONValidator: any;\r\n  UPDATABLE: PROCEDURE_UPDATABLE_Type;\r\n  props: FFormApiProps;\r\n  schema: jsJsonSchema;\r\n  dispatch: any;\r\n  // JSONValidator: (values: any) => any;\r\n  name?: string;\r\n\r\n  constructor(props: FFormApiProps) {\r\n    // if ((props.getState || props.setState) && props.store) throw new Error('Expected either \"store\" or \"getState & setState\" but not all of them.');\r\n    if (((props.getState ? 1 : 0) + (props.setState ? 1 : 0)) == 1) new Error('Expected both \"getState\" and \"setState\" or none but not only one of them.');\r\n    if (props.store && !props.name) throw new Error('Expected \"name\" to be passed together with \"store\".');\r\n\r\n    const self = this;\r\n    self.props = props;\r\n    self.schema = isCompiled(props.schema) ? props.schema : compileSchema(props.elements, props.schema);\r\n    self.name = props.name || '';\r\n    self.dispatch = props.store ? props.store.dispatch : self._dispatch.bind(self);\r\n    self._reducer = formReducer();\r\n    if (props.JSONValidator) self.JSONValidator = props.JSONValidator(self.schema);\r\n    //self._validator = props.JSONValidator && props.JSONValidator(self.schema, {greedy: true});\r\n    //self.JSONValidator = self._validator && self.JSONValidator.bind(self);\r\n    self._getState = self._getState.bind(self);\r\n    self._setState = self._setState.bind(self);\r\n    if (props.setState && props.store) self._unsubscribe = self.props.store.subscribe(self._handleChange.bind(self));\r\n    if (props.name) _CORES[props.name] = self;\r\n    self.UPDATABLE = {update: {}, replace: {}, api: self};\r\n  }\r\n\r\n  private _dispatch(action: any) {\r\n    const self = this;\r\n    if (typeof action === 'function') return action(self._dispatch.bind(self));\r\n    else self._setState(self._reducer(self._getState() || {}, action));\r\n    return action;\r\n  };\r\n\r\n  _setState(state: any) {\r\n    const self = this;\r\n    if (state === self._getState()) return;\r\n    if (self.props.setState) self.props.setState(state);\r\n    else self._currentState = state;\r\n    if (self.props.store) self._setStoreState(state);\r\n    self._listeners.forEach(fn => fn(state));\r\n  }\r\n\r\n  _getState() {\r\n    const self = this;\r\n    if (self.props.store) return self._getStoreState();\r\n    else if (self.props.getState) return self.props.getState();\r\n    else return self._currentState;\r\n  }\r\n\r\n  private _setStoreState(state: any) {\r\n    return this.props.store.dispatch({type: anSetState, state, api: this});\r\n  }\r\n\r\n  private _getStoreState() {\r\n    return this.props.name && this.props.store.getState()[getFRVal()][this.props.name];\r\n  }\r\n\r\n  // private JSONValidator(data: any) {\r\n  //   this._validator(data);\r\n  //   let result = this._validator.errors;\r\n  //   if (!result) return [];\r\n  //   if (!isArray(result)) result = [result];\r\n  //   return result.map((item: any) => [item.field.replace('[\"', '.').replace('\"]', '').split('.').slice(1), item.message])\r\n  // }\r\n\r\n  private _handleChange() {\r\n    const self = this;\r\n    let nextState = self._getStoreState();\r\n    let curState = self.props.getState ? self.props.getState() : self._currentState;\r\n    if (nextState !== curState) self._setState(nextState);\r\n  }\r\n\r\n\r\n  addListener(fn: (state: StateType) => void) {\r\n    const self = this;\r\n    self._listeners.push(fn);\r\n    if (self.props.store && !self._unsubscribe) self._unsubscribe = self.props.store.subscribe(self._handleChange.bind(self));\r\n    return self.delListener.bind(self, fn);\r\n  }\r\n\r\n  delListener(fn?: (state: StateType) => void) {\r\n    const self = this;\r\n    if (isUndefined(fn)) self._listeners = [];\r\n    else {\r\n      let idx = self._listeners.indexOf(fn);\r\n      if (~idx) self._listeners.splice(idx, 1)\r\n    }\r\n    if (!self._listeners.length && self._unsubscribe && !self.props.setState) {\r\n      self._unsubscribe();\r\n      delete self._unsubscribe;\r\n    }\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////\r\n//  API\r\n/////////////////////////////////////////////\r\n\r\nclass FFormStateAPI extends FFormStateManager {\r\n  private _noExec = 0;\r\n  private _resultPromises: any;\r\n  private _newState: StateType | undefined;\r\n  private _updates: StateApiUpdateType[] = [];\r\n  private _validation: StateType | boolean | null = null;\r\n  private _defferedTimerId: any;\r\n  getState = this._getState;\r\n\r\n  //wrapped: any;\r\n\r\n  constructor(props: FFormApiProps) {\r\n    super(props);\r\n    const self = this;\r\n    if (props.state) self._setState(props.state);\r\n    else if (!self._getState()) self._setState(initState(self.UPDATABLE));\r\n    const state = self._getState();\r\n    if (!state[SymDataMap])  // no data maps, it means that state from server-side render\r\n      self._setState(rehydrateState(state, self.UPDATABLE));\r\n  }\r\n\r\n  wrapper(self: any = {}) {\r\n    const api = this;\r\n    const wrapApi = (fn: string) => self[fn] || api[fn];\r\n    const wrapPath = (path: null | string | Path = './') => path && normalizePath(path, self.path);\r\n    const wrapOpts = (opts: any = {}, forcePath?: boolean) => {\r\n      const {path, ...rest} = opts;\r\n      if (path === null) rest.path = null;\r\n      else if (!isUndefined(path) || forcePath) rest.path = wrapPath(path || './');\r\n      return self.wrapOpts ? self.wrapOpts(rest) : rest;\r\n      //rest.noValidation = isUndefined(noValidation) ? !self.liveValidate : noValidation;\r\n    };\r\n\r\n    const wrapped = {\r\n      validate: (path: boolean | string | Path = './', ...args: any[]) => wrapApi('validate')(typeof path == 'boolean' ? path : wrapPath(path), ...args),\r\n      get: (...path: any[]) => wrapApi('get')(wrapPath(path)),\r\n      // set: (path: string | Path = [], value: any, opts?: any, ...args: any[]) => wrapThis('set')(wrapPath(path), value, wrapOpts(opts)),\r\n      setValue: (value: any, opts: any = {}, ...args: any[]) => wrapApi('setValue')(value, wrapOpts(opts)),\r\n      bind: (object: any) => {\r\n        self = object;\r\n        return wrapped\r\n      },\r\n      getValue: (opts: any = {}) => wrapped.get(SymData, opts.inital ? 'inital' : 'current', wrapPath(opts.path)),\r\n      getApi: () => api,\r\n    };\r\n    ['noExec', 'setState', 'getActive', 'getDefaultValue']\r\n      .forEach(fn => wrapped[fn] = (...args: any[]) => wrapApi(fn)(...args));\r\n    ['reset', 'clear', 'execute']\r\n      .forEach(fn => wrapped[fn] = (opts: any, ...args: any[]) => wrapApi(fn)(wrapOpts(opts, true), ...args));\r\n    ['showOnly', 'getSchemaPart']\r\n      .forEach(fn => wrapped[fn] = (path: string | Path = [], opts: any = {}, ...args: any[]) => wrapApi(fn)(wrapPath(path), wrapOpts(opts), ...args));\r\n    ['set', 'switch', 'arrayAdd', 'arrayItemOps', 'setHidden', 'showOnly']\r\n      .forEach(fn => wrapped[fn] = (path: string | Path = [], value: any, opts: any = {}, ...args: any[]) => wrapApi(fn)(wrapPath(path), value, wrapOpts(opts), ...args));\r\n    return wrapped;\r\n  }\r\n\r\n  private _clearActions() {\r\n    const self = this;\r\n    self._newState = undefined;\r\n    self._defferedTimerId = null;\r\n    self._validation = null;\r\n    self._updates = [];\r\n    self._promise(true);\r\n  }\r\n\r\n  private _execBatch(updates: StateApiUpdateType[], opts: APIOptsType, promises: any, forceValidation: StateType | boolean | null) {\r\n    const self = this;\r\n    let action = {type: anUpdateState, state: self._newState, updates, api: self, forceValidation, opts, promises};\r\n    self._clearActions();\r\n    //console.log(' _execBatch.forceValidation', JSON.stringify(forceValidation));\r\n    self.dispatch(updateState.bind(action));\r\n    return promises;\r\n  }\r\n\r\n  private _setExecution(addUpdates: any, opts: APIOptsType = {}) {\r\n    if (opts.setExecution) return opts.setExecution(addUpdates, opts);\r\n    const self = this;\r\n    if (addUpdates) push2array(self._updates, addUpdates);\r\n    // console.log('---------------- added updates', updates);\r\n    if (opts.force === true && self._noExec > 0) self._noExec--;\r\n    let promises = self._promise();\r\n    if (opts.execute === false || self._noExec) return promises;\r\n    if (self._defferedTimerId) clearTimeout(self._defferedTimerId);\r\n    //console.log(' _setExecution._validation', JSON.stringify(self._validation));\r\n    if (opts.execute === true) self._execBatch(self._updates, opts, promises, self._validation);\r\n    else self._defferedTimerId = setTimeout(self._execBatch.bind(self, self._updates, opts, promises, self._validation), opts.execute || 0);\r\n\r\n    return promises;\r\n  }\r\n\r\n  private _promise(reset?: true): apiPromises {\r\n    const self = this;\r\n    if (reset) self._resultPromises = null;\r\n    if (!self._resultPromises) {\r\n      self._resultPromises = new exoPromise();\r\n      self._resultPromises.vAsync = new exoPromise();\r\n    }\r\n    return self._resultPromises;\r\n  }\r\n\r\n  //getState = () => this._getState();\r\n  //setState = (state: StateType) => this._setState(state);\r\n\r\n  noExec = () => {this._noExec++;};\r\n\r\n  execute = (opts: APIOptsType = {}) => {\r\n    return this._setExecution(null, merge(opts, {execute: true}));\r\n  };\r\n\r\n  setState = (state: StateType, opts: APIOptsType = {}) => {\r\n    const self = this;\r\n    self._updates = []; // reset all previous updates\r\n    self._newState = state;\r\n    return self._setExecution(null, opts);\r\n  };\r\n\r\n  getActive = () => this.get(SymData, 'active');\r\n\r\n  validate = (path: boolean | string | Path = true, opts: APIOptsType = {}) => {\r\n    const self = this;\r\n    if (typeof path == 'boolean') self._validation = path;\r\n    else normalizeUpdate({path: path, value: true}, self.getState()).forEach(i => self._validation = setIfNotDeeper(self._validation || {}, true, i.path));\r\n    return self._setExecution(null, opts);\r\n  };\r\n\r\n  get = (...pathes: Array<string | Path>): any => getFromState(this.getState(), ...pathes);\r\n\r\n  set = (path: string | Path | null, value: any, opts: APIOptsType & { replace?: any, setOneOf?: number, macros?: string } = {}) => {\r\n    if (path === null) return this._setExecution([null], opts);\r\n    let {...update} = opts;\r\n    (update as StateApiUpdateType).path = path;\r\n    (update as StateApiUpdateType).value = value;\r\n    return this._setExecution((update as StateApiUpdateType), opts);\r\n  };\r\n\r\n  getValue = (opts: { path?: string | Path, inital?: boolean } = {}): any => this.get(SymData, opts.inital ? 'inital' : 'current', opts.path || []);\r\n\r\n  setValue = (value: any, opts: APIOptsType & { path?: string | Path, replace?: any, setOneOf?: number, inital?: boolean } = {}) => {\r\n    let {path, inital, replace, ...update} = opts;\r\n    if (path === null) return this._setExecution([null], opts);\r\n    path = normalizePath(path || []).slice();\r\n    if (~path.indexOf(SymData)) (update as StateApiUpdateType).path = path;\r\n    else {\r\n      let state = this.getState();\r\n      while (!getIn(state, path) && path.length) {\r\n        let nm = path.pop();\r\n        value = {[nm]: value};\r\n        replace = {[nm]: replace};\r\n      }\r\n      (update as StateApiUpdateType).path = [inital ? '@inital' : '@current'].concat(path);\r\n    }\r\n    (update as StateApiUpdateType).value = value;\r\n    (update as StateApiUpdateType).replace = replace;\r\n    return this._setExecution(update, opts);\r\n  };\r\n\r\n  getDefaultValue = () => this.get(SymData, 'default');\r\n\r\n  switch = (path: string | Path | null, value: any, opts: APIOptsType & { replace?: any, setOneOf?: number, macros?: string } = {}) =>\r\n    this.set(path, value, {...opts, macros: 'switch'});\r\n\r\n  setMessages = (value: anyObject | null, opts: APIOptsType & { priority?: number, group?: number, path?: string | Path, props?: any }) => {\r\n    let {priority = 0, group = 3, path = [], props = undefined, ...rest} = opts || {};\r\n    const msgPath = '@/messages/' + priority + '/texts/' + group;\r\n    if (value === null) {\r\n      this.switch([path, msgPath], [], rest);\r\n      if (isObject(props)) this.switch([path, '@/messages/' + priority], props, rest);\r\n    } else {\r\n      object2PathValues(value, {arrayAsValue: true}).forEach(p => {\r\n        this.set([path, p, msgPath], p.pop(), rest);\r\n        if (isObject(props)) this.set([path, p, '@/messages/' + priority], props, rest);\r\n      })\r\n    }\r\n  };\r\n\r\n  reset = (opts: APIOptsType & { path?: string | Path, status?: string, value?: any } = {}) =>\r\n    opts.status ? this.set(normalizePath(opts.path || '/'), isUndefined(opts.value) ? SymReset : opts.value,\r\n      {[SymData]: ['status', opts.status], macros: 'switch'}) : this.setValue(SymReset, opts);\r\n\r\n  clear = (opts: APIOptsType & { path?: string | Path } = {}) => this.setValue(SymClear, opts);\r\n\r\n  arrayAdd = (path: string | Path, value: number | any[] = 1, opts: APIOptsType = {}) =>\r\n    this._setExecution({path, value: value, macros: 'array', ...opts}, opts);\r\n\r\n  arrayItemOps = (path: string | Path, value: 'up' | 'down' | 'first' | 'last' | 'del' | 'move' | 'shift', opts: APIOptsType & { value?: number } = {}) =>\r\n    this._setExecution({path, op: value, macros: 'arrayItem', ...opts}, opts);\r\n\r\n  setHidden = (path: string | Path, value = true, opts: APIOptsType = {}) =>\r\n    this._setExecution([{path: [path, '@', '/params/hidden'], value, ...opts}], opts);\r\n\r\n  showOnly = (path: string | Path, opts: APIOptsType = {}) => {\r\n    path = normalizePath(path);\r\n    return this._setExecution([\r\n      {path: [path.slice(0, -1), '/*/@/params/hidden'], value: true, ...opts},\r\n      {path: [path, '@', '/params/hidden'], value: false, ...opts},\r\n    ], opts);\r\n  };\r\n\r\n  getSchemaPart = (path: string | Path) => {\r\n    path = normalizePath(path);\r\n    return getSchemaPart(this.schema, path, oneOfFromState(this.getState()))\r\n  }\r\n\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Actions names\r\n/////////////////////////////////////////////\r\n\r\nconst anSetState = 'FFROM_SET_STATE';\r\nconst anUpdateState = 'FFROM_UPDATE_STATE';\r\n\r\n/////////////////////////////////////////////\r\n//  Reducer\r\n/////////////////////////////////////////////\r\n\r\n\r\nlet formReducerValue = 'fforms';\r\n\r\nfunction getFRVal() {\r\n  return formReducerValue\r\n}\r\n\r\nfunction formReducer(name?: string): any {\r\n  if (name) formReducerValue = name;\r\n  const reducersFunction = {};\r\n\r\n  function replaceFormState(storageState: any, name: string, formState: any) {\r\n    if (storageState[name] !== formState) {\r\n      let resultState = {...storageState};\r\n      resultState[name] = formState;\r\n      return resultState;\r\n    }\r\n    return storageState\r\n  }\r\n\r\n  reducersFunction[anSetState] = (state: any, action: any): any => {\r\n    if (action.api.props.store) return replaceFormState(state, action.api.name, action.state);\r\n    return action.state\r\n  };\r\n\r\n  return (state: any = {}, action: ActionType) => {\r\n    let reduce = reducersFunction[action.type];\r\n    return reduce ? reduce(state, action) : state;\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////\r\n//  Schema compile functions\r\n/////////////////////////////////////////////\r\n\r\nconst compileSchema = memoize((elements: elementsType, schema: JsonSchema): jsJsonSchema => schemaCompiler(elements, schema));\r\n\r\nfunction schemaCompiler(elements: elementsType = {}, schema: JsonSchema): jsJsonSchema {\r\n  if (isCompiled(schema)) return schema;\r\n\r\n  let {ff_validators, ff_dataMap, ff_oneOfSelector, ...rest} = schema;\r\n  const result: any = isArray(schema) ? [] : {ff_compiled: true};\r\n\r\n  ff_validators && (result.ff_validators = toArray(objectResolver(elements, ff_validators)).map(f => normalizeFn(f)));\r\n  ff_dataMap && (result.ff_dataMap = objectResolver(elements, ff_dataMap));\r\n  ff_oneOfSelector && (result.ff_oneOfSelector = objectResolver(elements, normalizeFn(ff_oneOfSelector)));\r\n  //if (isFunction(result.ff_oneOfSelector)) result.ff_oneOfSelector = {$: result.ff_oneOfSelector};\r\n\r\n  objKeys(rest).forEach(key => {\r\n    if (key.substr(0, 3) == 'ff_') return result[key] = rest[key];\r\n    switch (key) {\r\n      case 'default':\r\n      case 'enum':\r\n        result[key] = rest[key];\r\n        break;\r\n      case 'definitions':\r\n      case 'properties':\r\n      case 'patternProperties':\r\n      case 'dependencies':\r\n        result[key] = objMap(rest[key], schemaCompiler.bind(null, elements));\r\n        break;\r\n      default:\r\n        if (isMergeable(rest[key])) result[key] = schemaCompiler(elements, rest[key]);\r\n        else result[key] = rest[key];\r\n        break;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction isCompiled(schema: any): schema is jsJsonSchema {\r\n  return getIn(schema, 'ff_objects');\r\n}\r\n\r\nfunction testRef(refRes: any, $_ref: string, track: string[]) {\r\n  if (isUndefined(refRes)) throw new Error('Reference \"' + $_ref + '\" leads to undefined object\\'s property in path: ' + path2string(track));\r\n  return true;\r\n}\r\n\r\nfunction objectDerefer(_objects: any, obj2deref: any, track: string[] = []) { // todo: test\r\n  if (!isMergeable(obj2deref)) return obj2deref;\r\n  let {$_ref = '', ...restObj} = obj2deref;\r\n  $_ref = $_ref.split(':');\r\n  const objs2merge: any[] = [];\r\n  for (let i = 0; i < $_ref.length; i++) {\r\n    if (!$_ref[i]) continue;\r\n    let path = string2path($_ref[i]);\r\n    if (path[0] !== '^') throw new Error('Can reffer only to ^');\r\n    let refRes = getIn({'^': _objects}, path);\r\n    testRef(refRes, $_ref[i], track.concat('@' + i));\r\n    if (isMergeable(refRes)) refRes = objectDerefer(_objects, refRes, track.concat('@' + i));\r\n    objs2merge.push(refRes);\r\n  }\r\n  let result = isArray(obj2deref) ? [] : {};\r\n\r\n  for (let i = 0; i < objs2merge.length; i++) result = merge(result, objs2merge[i]);\r\n  return merge(result, objMap(restObj, objectDerefer.bind(null, _objects), track));\r\n  //objKeys(restObj).forEach(key => result[key] = isMergeable(restObj[key]) ? objectDerefer(_objects, restObj[key]) : restObj[key]);\r\n}\r\n\r\nfunction objectResolver(_objects: any, obj2resolve: any, track: string[] = []): any { // todo: test\r\n  const convRef = (refs: string, prefix = '') => deArray(refs.split('|').map((ref, i) => {\r\n    ref = ref.trim();\r\n    if (isRef(ref)) prefix = ref.substr(0, ref.lastIndexOf('/') + 1);\r\n    else ref = prefix + ref;\r\n    let refRes = getIn(_objs, string2path(ref));\r\n    testRef(refRes, ref, track.concat('@' + i));\r\n    return refRes;\r\n  }));\r\n  const isRef = (val: string) => val.substr(0, 2) == '^/';\r\n  const _objs = {'^': _objects};\r\n  const result = objectDerefer(_objects, obj2resolve);\r\n  const retResult = isArray(result) ? [] : {};\r\n  objKeys(result).forEach((key) => {\r\n    //const resolvedValue = isString(result[key]) && result[key].substr(0, 2) == '^/' ? convRef(result[key]) : result[key];\r\n    let resolvedValue = result[key];\r\n    if (isString(resolvedValue) && isRef(resolvedValue.trim())) {\r\n      resolvedValue = convRef(resolvedValue);\r\n      if (key !== '$' && key[0] !== '_' && (isFunction(resolvedValue) || isArray(resolvedValue) && resolvedValue.every(isFunction)))\r\n        resolvedValue = {$: resolvedValue}\r\n    }\r\n    if (key[0] == '_') retResult[key] = resolvedValue;  //do only resolve for keys that begins with _ \r\n    else if (isMergeable(resolvedValue)) retResult[key] = objectResolver(_objects, resolvedValue, track.concat(key));\r\n    else retResult[key] = resolvedValue;\r\n  });\r\n\r\n  return retResult\r\n}\r\n\r\n\r\nexport {anSetState, getFRVal, FFormStateAPI, formReducer, fformCores, objectDerefer, objectResolver}","const isUndefined = (value: any): value is undefined => typeof value === 'undefined';\r\nconst isNumber = (value: any): value is number => typeof value === \"number\";\r\nconst isInteger = (value: any) => typeof value === \"number\" && (Math.floor(value) === value || value > 9007199254740992 || value < -9007199254740992);\r\nconst isString = (value: any): value is string => typeof value === 'string';\r\nconst isArray = Array.isArray;\r\nconst isObject = (value: any): value is anyObject => isMergeable(value) && !isArray(value);\r\nconst isFunction = (value: any): value is Function => typeof value === 'function';\r\n\r\nconst toArray = (value: any) => isArray(value) ? value : [value];\r\nconst deArray = (value: any, keepArray?: boolean) => !keepArray && isArray(value) && value.length == 1 ? value[0] : value;\r\n\r\nfunction isMergeable(val: any) {\r\n  const nonNullObject = val && typeof val === 'object';\r\n  return nonNullObject\r\n    && Object.prototype.toString.call(val) !== '[object RegExp]'\r\n    && Object.prototype.toString.call(val) !== '[object Date]'\r\n}\r\n\r\nconst objKeys = Object.keys;\r\nconst objKeysNSymb = (obj: any): any[] => (objKeys(obj) as any[]).concat(Object.getOwnPropertySymbols(obj));\r\n\r\n\r\nconst _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\r\n  ? (obj: any) => typeof obj\r\n  : (obj: any) => obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\nfunction is(x: any, y: any) {\r\n  // SameValue algorithm\r\n  if (x === y) { // Steps 1-5, 7-10\r\n    // Steps 6.b-6.e: +0 != -0\r\n    return x !== 0 || 1 / x === 1 / y;\r\n  } else {\r\n    // Step 6.a: NaN == NaN\r\n    return x !== x && y !== y;\r\n  }\r\n}\r\n\r\nfunction isEqual(objA: any, objB: any, options: IsEqualOptions = {}) {\r\n  if (is(objA, objB)) return true;\r\n\r\n  if ((isUndefined(objA) ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (isUndefined(objB) ? 'undefined' : _typeof(objB)) !== 'object' || objB === null)\r\n    return false;\r\n  const fn = options.symbol ? objKeysNSymb : objKeys;\r\n  const keysA = fn(objA);\r\n  const keysB = fn(objB);\r\n\r\n  if (keysA.length !== keysB.length) return false;\r\n\r\n  const {skipKeys = [], deepKeys = []} = options;\r\n  for (let i = 0; i < keysA.length; i++) {\r\n    if (~skipKeys.indexOf(keysA[i])) continue;     // if key is an skip key, skip comparison\r\n\r\n    if (options.deep || ~deepKeys.indexOf(keysA[i])) {\r\n      const result = isEqual(objA[keysA[i]], objB[keysA[i]], options);\r\n      if (!result) return false;\r\n    } else if (!objB.hasOwnProperty(keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nfunction asNumber(value: any) {\r\n  if (value === \"\") return null;\r\n  if (/\\.$/.test(value)) return value; // \"3.\" can't really be considered a number even if it parses in js. The user is most likely entering a float.\r\n  if (/\\.0$/.test(value)) return value; // we need to return this as a string here, to allow for input like 3.07\r\n  const n = Number(value);\r\n  const valid = typeof n === \"number\" && !Number.isNaN(n);\r\n  if (/\\.\\d*0$/.test(value)) return value; // It's a number, that's cool - but we need it as a string so it doesn't screw with the user when entering dollar amounts or other values (such as those with specific precision or number of significant digits)\r\n  return valid ? n : value;\r\n}\r\n\r\n\r\nfunction memoize(fn: any) {\r\n  fn.cache = new Map();\r\n  return function (...args: any[]) {\r\n    let newArgs = [args.length].concat(args);\r\n    let cache = fn.cache;\r\n    let last = newArgs.pop();\r\n    for (let i = 0; i < newArgs.length; i++) {\r\n      cache.has(newArgs[i]) || cache.set(newArgs[i], new Map());\r\n      cache = cache.get(newArgs[i]);\r\n    }\r\n    if (!cache.has(last)) cache.set(last, fn.apply(this, args));\r\n    return cache.get(last);\r\n  };\r\n}\r\n\r\n\r\nfunction push2array(array: any[], ...vals: any[]): any {\r\n  for (let i = 0; i < vals.length; i++) {\r\n    if (isArray(vals[i])) array.push(...vals[i]);\r\n    else array.push(vals[i])\r\n  }\r\n  return array\r\n}\r\n\r\n\r\nfunction moveArrayElems(arr: any, from: number, to: number): Array<any> {\r\n  let length = arr.length;\r\n  if (length) {\r\n    from = (from % length + length) % length;\r\n    to = (to % length + length) % length;\r\n  }\r\n  let elem = arr[from];\r\n  for (let i = from; i < to; i++) arr[i] = arr [i + 1];\r\n  for (let i = from; i > to; i--) arr[i] = arr [i - 1];\r\n  arr[to] = elem;\r\n  return arr\r\n}\r\n\r\n//////////////////////////////\r\n//  object get/set functions\r\n/////////////////////////////\r\n\r\nfunction makeSlice(...pathValues: any[]): StateType {\r\n  let path: any[] = [];\r\n  for (let i = 0; i < pathValues.length - 1; i++) push2array(path, pathValues[i]);\r\n  const value = pathValues[pathValues.length - 1];\r\n  if (!path.length) return value;\r\n  return setIn({}, value, path);\r\n}\r\n\r\nfunction hasIn(state: any, ...pathes: any[]) {\r\n  if (pathes.length > 0) {\r\n    for (let i = 0; i < pathes.length; i++) {\r\n      let path = isArray(pathes[i]) ? pathes[i] : [pathes[i]];\r\n      for (let j = 0; j < path.length; j++) {\r\n        if (isUndefined(path[j])) continue;\r\n        try {\r\n          if (!state.hasOwnProperty(path[j])) return false;\r\n        } catch (e) {return false;}\r\n        state = state[path[j]]\r\n      }\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nfunction setIn(state: any, value: any, ...pathes: any[]) {\r\n  let result = state;\r\n  let key;\r\n  if (pathes.length > 0) {\r\n    for (let i = 0; i < pathes.length; i++) {\r\n      let path = isArray(pathes[i]) ? pathes[i] : [pathes[i]];\r\n      for (let j = 0; j < path.length; j++) {\r\n        if (isUndefined(path[j])) continue;\r\n        if (!isUndefined(key)) {\r\n          if (!isMergeable(result[key])) result[key] = {};\r\n          result = result[key];\r\n        }\r\n        key = path[j];\r\n\r\n        // prev = result;\r\n        // result = result[key];\r\n      }\r\n    }\r\n  }\r\n  if (!isUndefined(key)) result[key] = value;\r\n  else return value;\r\n  return state;\r\n}\r\n\r\nfunction delIn(state: any, path: Path) {\r\n  // if (path[0] == '#') path = path.slice(1);\r\n  if (!path.length) return state;\r\n  const keys = typeof path[0] == 'string' ? path[0].split(',') : [path[0]];\r\n  const newPath = path.slice(1);\r\n  if (newPath.length) {\r\n    keys.forEach((key: any) => {\r\n      let newObj;\r\n      if (isMergeable(state[key])) newObj = delIn(state[key], newPath);\r\n      if (newObj && (newObj !== state[key])) state = merge(merge(state, makeSlice(key, undefined)), makeSlice(key, newObj))\r\n    })\r\n  } else {\r\n    for (let i = 0; i < keys.length; i++) {\r\n      if (state.hasOwnProperty(keys[i])) {\r\n        state = Object.assign({}, state);\r\n        break\r\n      }\r\n    }\r\n    for (let i = 0; i < keys.length; i++) delete state[keys[i]]\r\n  }\r\n  return state\r\n}\r\n\r\n\r\nfunction getIn(state: any, ...paths: any[]): any {\r\n  let res = state;\r\n  for (let i = 0; i < paths.length; i++) {\r\n    let track = paths[i];\r\n    if (typeof track === 'function') track = track(res);\r\n    if (!isArray(track)) track = [track];\r\n    for (let j = 0; j < track.length; j++) {\r\n      //if (isUndefined(res) ) return res;\r\n      if (!isMergeable(res)) return undefined;\r\n      if (isUndefined(track[j])) continue;\r\n      res = res[track[j]];\r\n    }\r\n  }\r\n  return res;\r\n};\r\n\r\n\r\nfunction getCreateIn(state: any, value: any, ...pathes: any[]) {\r\n  if (!hasIn(state, ...pathes)) setIn(state, value, ...pathes);\r\n  return getIn(state, ...pathes)\r\n}\r\n\r\n\r\n//////////////////////////////\r\n//  object merge functions\r\n/////////////////////////////\r\n\r\nfunction mergeState(state: any, source: any, options: MergeStateOptionsArgument = {}): MergeStateResult {\r\n  const fn = options.noSymbol ? objKeys : objKeysNSymb;\r\n  // let arrayMergeFn: any = false;\r\n  let {SymbolDelete, del, diff, replace, arrays} = options;\r\n  let forceReplace: any = replace;\r\n  if (typeof forceReplace !== 'function') {\r\n    if (!isMergeable(replace)) forceReplace = () => false;\r\n    else forceReplace = (path: any) => getIn(replace, path)\r\n  }\r\n  if (replace === true || forceReplace([], state, source) === true) return {state: source, changes: state !== source ? source : undefined};\r\n  //const mergeArrays = arrays != 'replace';\r\n  //const setLength = arrays == 'merge';\r\n  // if (typeof mergeArrays === 'function') arrayMergeFn = mergeArrays;\r\n  //const canMerge = mergeArrays === true ? isMergeable : isObject;\r\n  if (!isFunction(arrays)) arrays = undefined;\r\n\r\n  function recusion(state: any, source: any, track: Path = []): MergeStateResult {\r\n    const changes: any = {};\r\n    const isSourceArray = isArray(source);\r\n    if (!isMergeable(state)) {\r\n      state = isSourceArray ? [] : {};  // return only elements\r\n      if (isArray(state)) changes.length = 0;\r\n    }\r\n    const isStateArray = isArray(state);\r\n    if (!isMergeable(source)) return {state};  // merge only mergeable elements, may be throw here\r\n\r\n    if (isStateArray && isSourceArray) {\r\n      if (arrays) source = arrays(state, source, track);\r\n      if (state.length != source.length) changes.length = source.length;\r\n    }\r\n\r\n    let stateKeys = fn(state);\r\n    if (stateKeys.length == 0 && !del) {\r\n      if (!isStateArray && !isSourceArray)\r\n        return fn(source).length ? {state: source, changes: source} : {state};\r\n      if (isStateArray && isSourceArray) {\r\n        if (state.length == source.length && source.length == 0) return {state};\r\n        return (fn(source).length || source.length !== state.length) ? {state: source, changes: source} : {state};\r\n      }\r\n    }\r\n\r\n    let srcKeys = fn(source);\r\n\r\n    const changedObjects: any = {};\r\n    const result = (isStateArray ? [] : {});\r\n\r\n\r\n    if (diff) {\r\n      stateKeys.forEach(key => {\r\n        if (!~srcKeys.indexOf(key))\r\n          changes[key] = SymbolDelete;\r\n      });\r\n    }\r\n\r\n\r\n    srcKeys.forEach(key => {\r\n      if (del && source[key] === SymbolDelete) {\r\n        if (state.hasOwnProperty(key)) changes[key] = SymbolDelete;\r\n      } else {\r\n        let keyTrack = track.concat(key);\r\n        if (!isMergeable(source[key]) || !isMergeable(state[key]) || forceReplace(keyTrack, state[key], source[key]) === true) {\r\n          if (!state.hasOwnProperty(key) || !is(state[key], source[key])) changes[key] = source[key];\r\n        } else {\r\n          if (state[key] !== source[key]) {\r\n            let obj = recusion(state[key], source[key], keyTrack);\r\n            if (obj.changes)\r\n              changedObjects[key] = obj;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    let changedObjKeys = fn(changedObjects);\r\n    let changesKeys = fn(changes);\r\n    if (changesKeys.length == 0 && changedObjKeys.length == 0) return {state};\r\n    else {\r\n      Object.assign(result, state);\r\n      changesKeys.forEach(key => {\r\n        if (del && changes[key] === SymbolDelete || diff && !source.hasOwnProperty(key)) delete result[key];\r\n        else result[key] = changes[key];\r\n      });\r\n      changedObjKeys.forEach(key => {\r\n        result[key] = changedObjects[key].state;\r\n        changes[key] = changedObjects[key].changes\r\n      });\r\n      return {state: result, changes}\r\n    }\r\n  }\r\n\r\n  return recusion(state, source)\r\n}\r\n\r\nconst merge: any = (a: any, b: any, opts: MergeStateOptionsArgument = {}) => mergeState(a, b, opts).state;\r\n\r\n\r\nmerge.all = function (state: any, obj2merge: any[], options: MergeStateOptionsArgument = {}) {\r\n  if (obj2merge.length == 0) return state;  // no changes should be done\r\n  else return obj2merge.reduce((prev, next) => merge(prev, next, options), state);  // merge\r\n};\r\n\r\n\r\nexport {mergeState, merge, push2array, asNumber, isEqual, objKeys, objKeysNSymb, moveArrayElems, delIn, setIn, hasIn, getIn, getCreateIn, makeSlice, memoize, toArray, deArray};\r\nexport {isMergeable, isUndefined, isNumber, isInteger, isString, isObject, isArray, isFunction}\r\n\r\n","/** @jsx h */\r\n\r\nimport {createElement as h, Component} from 'react';\r\n//const React = require('preact');\r\n\r\nimport {\r\n  toArray,\r\n  deArray,\r\n  getIn,\r\n  isArray,\r\n  isEqual,\r\n  isObject,\r\n  isMergeable,\r\n  isString,\r\n  isUndefined,\r\n  isFunction,\r\n  merge,\r\n  objKeys,\r\n  memoize,\r\n} from \"./commonLib\";\r\nimport {\r\n  arrayStart,\r\n  isSelfManaged,\r\n  path2string,\r\n  string2path,\r\n  SymData,\r\n  normalizePath,\r\n  objMap,\r\n  setUPDATABLE,\r\n  mergeUPD_PROC,\r\n  branchKeys,\r\n  isNPath,\r\n  multiplyPath,\r\n  processFn,\r\n  isMapFn,\r\n  normalizeFn,\r\n  normalizeArgs,\r\n  processProp\r\n} from './stateLib'\r\nimport {FFormStateAPI, fformCores, objectResolver, formReducer} from './api'\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Main class\r\n/////////////////////////////////////////////\r\nclass FForm extends Component<any, any> {\r\n  static params = ['readonly', 'disabled', 'viewer', 'liveValidate', 'liveUpdate'];\r\n  private _unsubscribe: any;\r\n  private _savedState: any;\r\n  private _savedValue: any;\r\n  _root: any;\r\n\r\n  api: any;\r\n  formName: any;\r\n  schema: any;\r\n  utils: any;\r\n  elements: any;\r\n  parent: any;\r\n\r\n  constructor(props: FFormProps, context: any) {\r\n    super(props, context);\r\n    const self = this;\r\n    let {core: coreParams} = props;\r\n\r\n    self.api = coreParams instanceof FFormStateAPI ? coreParams : self._getCoreFromParams(coreParams, context);\r\n    self.parent = props.parent;\r\n    // self.focus = self.focus.bind(self);\r\n    const nextProps = {...props};\r\n    if (props.touched !== null) nextProps.touched = !!nextProps.touched;\r\n    FForm.params.forEach(k => {\r\n      if (!isUndefined(nextProps[k])) nextProps[k] = (v: any) => isUndefined(v) ? props[k] : v\r\n    });\r\n    self._updateValues(nextProps);\r\n    // self.api.reset({status: 'untouched'});\r\n    if (!props.noValidation) self.api.validate(true);\r\n    self._unsubscribe = self.api.addListener(self._handleStateUpdate.bind(self));\r\n    self._setRef = self._setRef.bind(self);\r\n    self._submit = self._submit.bind(self);\r\n    self._getPath = self._getPath.bind(self);\r\n    Object.defineProperty(self, \"elements\", {get: () => self.api.props.elements});\r\n    Object.defineProperty(self, \"valid\", {get: () => self.api.get('/@/status/valid')});\r\n\r\n  }\r\n\r\n  private _setRef(FField: any) {\r\n    this._root = FField;\r\n  }\r\n\r\n  _updateValues(nextProps: FFormProps, prevProps: any = {}) {\r\n    const {state, value, inital, extData, noValidation, touched} = nextProps;\r\n    const self = this;\r\n    if (state && state !== prevProps.state) self.api.setState(state);\r\n    if (inital && inital !== prevProps.inital) self.api.setValue(inital, {replace: true, inital: true, noValidation});\r\n    if (value && value !== prevProps.value) self.api.setValue(value, {replace: true, noValidation});\r\n    if (extData && extData !== prevProps.extData) objKeys(extData).forEach(key => (self.api.set(key, (extData as any)[key], {replace: true})));\r\n    if (!isUndefined(touched) && touched !== null && touched !== prevProps.touched) self.api.reset({status: 'untouched', value: touched ? 0 : undefined});\r\n    FForm.params.forEach(k => (!isUndefined(nextProps[k]) && nextProps[k] !== prevProps[k] &&\r\n      self.api.switch('/@/params/' + k, nextProps[k])));\r\n  }\r\n\r\n  _handleStateUpdate(state: StateType) {\r\n    const self = this;\r\n    if (self._savedState == state) return;\r\n    self._savedState = state;\r\n    if (self.props.onStateChange) self.props.onStateChange(state, self);\r\n    if (state[SymData].current !== self._savedValue) {\r\n      self._savedValue = state[SymData].current;\r\n      if (self.props.onChange) self.props.onChange(self._savedValue, self)\r\n    }\r\n    if (self._root) self._root.setState({branch: state});\r\n  }\r\n\r\n\r\n  _submit(event: any) {\r\n    const self = this;\r\n    const setPending = (val: any) => self.api.set([], val, {[SymData]: ['status', 'pending']});\r\n\r\n    self.api.set([], 0, {[SymData]: ['status', 'untouched'], execute: true, macros: 'switch'});\r\n\r\n    if (self.props.onSubmit) {\r\n      self.api.setMessages(null, {execute: true});\r\n      let result = self.props.onSubmit(event, self._savedValue, self);\r\n      if (result && result.then && typeof result.then === 'function') { //Promise\r\n        setPending(1);\r\n        result.then((val: any) => {\r\n          setPending(0);\r\n          self.api.setMessages(val)\r\n        }, (reason: any) => {\r\n          setPending(0);\r\n          self.api.setMessages(reason)\r\n        })\r\n      } else self.api.setMessages(result)\r\n    }\r\n  }\r\n\r\n  _getCoreFromParams(coreParams: any, context: any) {\r\n    if (isUndefined(coreParams.store) && context.store) return new FFormStateAPI(merge(coreParams, {store: context.store}));\r\n    else return new FFormStateAPI(coreParams);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: FFormProps) {\r\n    const self = this;\r\n    self.parent = nextProps.parent;\r\n    let core = nextProps.core;\r\n    let FFrormApiUpdate = false;\r\n\r\n    if (core instanceof FFormStateAPI && self.api !== core) {\r\n      self._unsubscribe();\r\n      self.api = core;\r\n      self._unsubscribe = self.api.addListener(self._handleStateUpdate.bind(self));\r\n      FFrormApiUpdate = true;\r\n    }\r\n\r\n    self._updateValues(nextProps, self.props);\r\n    return FFrormApiUpdate || !isEqual(self.props, nextProps, {skipKeys: ['core', 'state', 'value', 'inital', 'extData', 'fieldCache', 'flatten', 'noValidate', 'parent', 'onSubmit', 'onChange', 'onStateChange']});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this._unsubscribe) this._unsubscribe();\r\n  }\r\n\r\n  // focus(path: Path | string): void {\r\n  //   if (this._root) this._root.focus(normalizePath(path));\r\n  // };\r\n\r\n  getRef(path: Path | string) {\r\n    return this._root && this._root.getRef(path)\r\n  }\r\n\r\n  _getPath() {\r\n    return '#';\r\n  }\r\n\r\n  getDataObject(branch: any, ffield: FField) {\r\n    return getIn(branch, SymData)\r\n  }\r\n\r\n  getValue(branch: any, ffield: FField) {\r\n    if (isSelfManaged(branch)) return getIn(branch, SymData, 'value');\r\n    else return this.api.getValue({path: ffield.path})\r\n  }\r\n\r\n  getBranch(path: string) {\r\n    return this.api.get(path)\r\n  }\r\n\r\n  render() {\r\n    const self = this;\r\n    let {core, state, value, inital, extData, fieldCache, touched, parent, onSubmit, onChange, onStateChange, _$useTag: UseTag = 'form', ...rest} = self.props;\r\n    FForm.params.forEach(k => delete (rest as any)[k]);\r\n    return (\r\n      <UseTag {...rest} onSubmit={self._submit}>\r\n        <FField ref={self._setRef} id={rest.id ? rest.id + '/#' : undefined} name={self.api.name} pFForm={self} getPath={self._getPath} FFormApi={self.api}/>\r\n      </UseTag>\r\n    )\r\n  }\r\n}\r\n\r\nclass FRefsGeneric extends Component<any, any> {\r\n  $refs: any = {};\r\n\r\n  constructor(props: any, context: any) {\r\n    super(props, context);\r\n    const self = this;\r\n    self._setRef = self._setRef.bind(self);\r\n    // self._refProcess = self._refProcess.bind(self);\r\n  }\r\n\r\n  getRef(path: Path) {\r\n    const self = this;\r\n    if (!path.length) return self;\r\n    if (path.length == 1 && !self.$refs[path[0]].getRef) return self.$refs[path[0]];\r\n    return self.$refs[path[0]] && self.$refs[path[0]].getRef && self.$refs[path[0]].getRef(path.slice(1));\r\n  }\r\n\r\n  protected _setRef(name: string) {\r\n    const self = this;\r\n    return (v: any) => self.$refs[name] = v\r\n  }\r\n\r\n  protected _refProcess(defaultName: string, $reactRef: any) {\r\n    const self = this;\r\n    if ($reactRef === true) return self._setRef(defaultName);\r\n    else if (isString($reactRef)) return self._setRef($reactRef);\r\n    else if (isMergeable($reactRef))\r\n      return objMap($reactRef, self._refProcess.bind(self, defaultName));\r\n    return $reactRef;\r\n  }\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  FField class\r\n/////////////////////////////////////////////\r\nclass FField extends FRefsGeneric {\r\n  private _mappedData: any = {};\r\n  private _builderData: any = {};\r\n  private _rebuild = true;\r\n  private _cached?: { value: any, opts: any };\r\n  private _cachedTimeout?: any;\r\n  // private _enumOptions: any;\r\n  private _isNotSelfManaged: boolean | undefined;\r\n  private _blocks: string[] = [];\r\n  private _widgets: object;\r\n  private _ff_components: object;\r\n  private _maps: NPM4WidgetsType = {};\r\n  private _$_parse: any;\r\n  _forceUpd: boolean = false;\r\n\r\n  get: Function | null = null;\r\n  ff_layout: FFLayoutGeneric<jsFFCustomizeType>;\r\n  $branch: any;\r\n  schemaPart: jsJsonSchema;\r\n\r\n  liveValidate: boolean;\r\n  liveUpdate: boolean;\r\n  path: any;\r\n  api: any;\r\n  pFForm: any;\r\n  stateApi: any;\r\n\r\n  constructor(props: any, context: any) {\r\n    super(props, context);\r\n    const self = this;\r\n    Object.defineProperty(self, \"path\", {get: () => self.props.getPath()});\r\n    Object.defineProperty(self, \"pFForm\", {get: () => self.props.pFForm});\r\n    Object.defineProperty(self, \"liveValidate\", {get: () => getIn(self.getData(), 'params', 'liveValidate')});\r\n    Object.defineProperty(self, \"liveUpdate\", {get: () => getIn(self.getData(), 'params', 'liveUpdate')});\r\n    Object.defineProperty(self, \"value\", {get: () => self.props.pFForm.getValue(self.state.branch, self)});\r\n    Object.defineProperty(self, \"stateApi\", {get: () => self.props.pFForm.api});\r\n    self.state = {branch: self.pFForm.getBranch(self.path)};\r\n    self.$branch = self.state.branch;\r\n    self._updateStateApi(props.pFForm.api);\r\n    self.wrapFns = self.wrapFns.bind(self);\r\n  }\r\n\r\n  getRef(path: Path | string) {\r\n    path = normalizePath(path);\r\n    const self = this;\r\n    if (!path.length) return self.$refs['@Main'];\r\n    if (path.length == 1 && path[0] == SymData) return self;\r\n    if (path[0][0] == '@') return path.length == 1 ? self.$refs[path[0]] : self.$refs[path[0]].getRef(path.slice(1));\r\n    return self.$refs['@Main'] && self.$refs['@Main'].getRef && self.$refs['@Main'].getRef(path)\r\n  }\r\n\r\n  _resolver(obj: any) {\r\n    const self = this;\r\n    try {\r\n      return objectResolver(self.pFForm.elements, obj);\r\n    } catch (e) {\r\n      throw self._addErrPath(e)\r\n    }\r\n    //return result[SymData] ? merge(result, self._bind2self(result[SymData])) : result;\r\n  }\r\n\r\n  _addErrPath(e: any) {\r\n    e.message = e.message + ', in form \\'' + (this.pFForm.props.name || '') + '\\', path: \\'' + this.path + '\\'';\r\n    return e\r\n  }\r\n\r\n  _updateStateApi(stateApi: any) {\r\n    const self = this;\r\n\r\n    if (stateApi) {\r\n      const api = stateApi.wrapper({\r\n        get path() {return self.path},\r\n        // wrapOpts: (rest: any) => {\r\n        //   if (isUndefined(rest.noValidation)) rest.noValidation = !self.liveValidate;\r\n        //   return rest\r\n        // }\r\n      });\r\n      api._set = api.set;\r\n      api._setValue = api.setValue;\r\n      api.set = (...args: any[]) => self._cacheValue(args[0], args[1], 'set', args[2]) || api._set(...args);\r\n      api.setValue = (...args: any[]) => self._cacheValue((args[1] || {}).path, args[0], 'setValue', args[1]) || api._setValue(...args);\r\n      self.api = api;\r\n    }\r\n  }\r\n\r\n  _updateCachedValue(update = this.liveUpdate || this._forceUpd) {\r\n    const self = this;\r\n    self._cachedTimeout = undefined;\r\n    if (update && self._cached) {\r\n      self._forceUpd = false;\r\n      self.stateApi.setValue(self._cached.value, {noValidation: !self.liveValidate, path: self.path, ...self._cached.opts});\r\n      self._cached = undefined;\r\n    }\r\n  }\r\n\r\n  _cacheValue(path: any, value: any, fn: string = 'set', opts: any = {}): boolean | undefined {\r\n    //if (path === null) return;\r\n    const self = this;\r\n    let fieldCache = self.pFForm.props.fieldCache;\r\n    if (isUndefined(fieldCache) || fieldCache === true) fieldCache = 40;\r\n\r\n    let valueSet = fn === 'setValue' && (!path || path == './' || path == '.');\r\n    if (!valueSet) {\r\n      let fPath = self.path;\r\n      path = '#/' + path2string(normalizePath(path, self.path)) + (fn === 'setValue' ? '/@/value' : '');\r\n      valueSet = (path == fPath + '/@/value') || (path == '#/@/current/' + fPath.slice(2));\r\n    }\r\n    // console.log(valueSet, 'setValue=', setValue,'path=',path)\r\n    if (valueSet) {\r\n      let prevData = self.getData();\r\n      self._cached = {value, opts};\r\n      if (fieldCache) {\r\n        if (self._cachedTimeout) clearTimeout(self._cachedTimeout);\r\n        self._cachedTimeout = setTimeout(self._updateCachedValue.bind(self), fieldCache);\r\n        const data = self.getData();\r\n        const mappedData = self._mappedData;\r\n\r\n        self.get = (...pathes: any[]) => {\r\n          let path = normalizePath(pathes, self.path);\r\n          if (isEqual(path, normalizePath('./@value', self.path))) return data.value;\r\n          return self.stateApi.get(path)\r\n        };\r\n        self._setMappedData(prevData, data, true);\r\n        self.get = null;\r\n        if (mappedData != self._mappedData) self.forceUpdate();\r\n      } else self._updateCachedValue();\r\n      return true;\r\n    }\r\n    return;\r\n  }\r\n\r\n  wrapFns(val: any) {\r\n    const self = this;\r\n    if (isFunction(val)) val = {$: val};\r\n    if (isMapFn(val)) {\r\n      const map = val.norm ? val : normalizeFn(val, self.wrapFns);\r\n      const fn = processFn.bind(self, map);\r\n      fn._map = map;\r\n      return fn\r\n    } else if (isMergeable(val)) {\r\n      const result = isArray(val) ? [] : {};\r\n      objKeys(val).forEach(key => result[key] = key[0] != '_' ? self.wrapFns(val[key]) : val[key]); //!~ignore.indexOf(key) &&\r\n      return result\r\n    }\r\n    return val\r\n  }\r\n\r\n  _build() {\r\n    const self = this;\r\n    self.state = {branch: self.pFForm.getBranch(self.path)};\r\n    self.$branch = self.state.branch;\r\n\r\n    const schemaPart: jsJsonSchema = self.api.getSchemaPart(self.path);\r\n    self.schemaPart = schemaPart;\r\n\r\n    self._isNotSelfManaged = !isSelfManaged(self.state.branch) || undefined;\r\n    if ((isArray(schemaPart.type) || isUndefined(schemaPart.type)) && !schemaPart.ff_presets)\r\n      throw new Error('schema.ff_presets should be defined explicitly for multi type');\r\n\r\n    self.ff_layout = self.wrapFns(resolveComponents(self.pFForm.elements, schemaPart.ff_layout));\r\n\r\n    let ff_components = resolveComponents(self.pFForm.elements, schemaPart.ff_custom, schemaPart.ff_presets || schemaPart.type);\r\n    ff_components = self.wrapFns(ff_components);\r\n    let {$_maps, rest: components} = extractMaps(ff_components);\r\n    self._maps = normalizeMaps($_maps);\r\n    self._widgets = {};\r\n    self._ff_components = components;\r\n    self._blocks = objKeys(components).filter(key => components[key]);\r\n    self._blocks.forEach((block: string) => {\r\n      const {_$widget, $_reactRef, ...staticProps} = components[block];\r\n      if (!_$widget) throw new Error('_$widget for \"' + block + '\" is empty');\r\n      self._widgets[block] = _$widget;\r\n      if ($_reactRef) { // $_reactRef - prop for react ref-function\r\n        const $ref = self._refProcess('@' + block, $_reactRef);\r\n        staticProps[isFunction($ref) ? 'ref' : '$_reactRef'] = $ref;\r\n      }\r\n\r\n      self._mappedData[block] = staticProps;  // properties, without reserved names      \r\n    });\r\n    self._setMappedData(undefined, self.getData(), 'build');\r\n    self._rebuild = false;\r\n  }\r\n\r\n  _setMappedData(prevData: any, nextData: any, updateStage: boolean | 'build') {\r\n    const self = this;\r\n    let _gData = self.getData;\r\n    self.getData = () => nextData;\r\n    const _mappedData = updateProps(self._mappedData, prevData, nextData, updateStage == 'build' && self._maps.build, updateStage && self._maps.data, self._maps.every);\r\n    self.getData = _gData;\r\n    if (self._mappedData != _mappedData) {\r\n      self._mappedData = _mappedData;\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  getData(branch?: any) {\r\n    const self = this;\r\n    const data = self.pFForm.getDataObject(branch || getIn(self, 'state', 'branch'), self);\r\n    return self._cached ? merge(data, {value: self._cached.value}, {replace: {value: self._cached.opts.replace}}) : data;\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: any, nextState: any) {\r\n    const self = this;\r\n    if (nextProps.FFormApi !== self.props.FFormApi) {\r\n      self._updateStateApi(nextProps.FFormApi);\r\n      return (self._rebuild = true);\r\n    }\r\n    if (!isEqual(nextProps, self.props)) return (self._rebuild = true);\r\n\r\n    if (isUndefined(nextState.branch)) return true;\r\n    self.$branch = nextState.branch;\r\n    let updateComponent = false;\r\n\r\n    const prevData = self.getData();\r\n    const nextData = self.getData(getIn(nextState, 'branch'));\r\n    if (getIn(nextData, 'oneOf') !== getIn(prevData, 'oneOf')) return (self._rebuild = true);\r\n\r\n    try {\r\n      updateComponent = self._setMappedData(prevData, nextData, nextData !== prevData) || updateComponent;\r\n      updateComponent = updateComponent || getIn(nextData, 'params', 'norender') !== getIn(prevData, 'params', 'norender');\r\n    } catch (e) {\r\n      throw self._addErrPath(e)\r\n    }\r\n\r\n    return updateComponent\r\n  }\r\n\r\n\r\n  render() {\r\n    const self = this;\r\n    try {\r\n      if (isUndefined(self.state.branch)) return null;\r\n      if (getIn(self.getData(), 'params', 'norender')) return false;\r\n      if (self._rebuild) this._build();\r\n      return self._widgets['Builder'] ? h(self._widgets['Builder'], self._mappedData['Builder'], self._mappedData) : null;\r\n    } catch (e) {\r\n      throw self._addErrPath(e)\r\n    }\r\n  }\r\n}\r\n\r\n//enumOptions={self._enumOptions}\r\n\r\n/////////////////////////////////////////////\r\n//  Section class\r\n/////////////////////////////////////////////\r\nclass FSectionWidget extends Component<any, any> { // need to be class, as we use it's forceUpdate() method\r\n  refs: any;\r\n\r\n  _cn(props: any) {\r\n    if (!props) return props;\r\n    if (this.props._$cx && props.className && !isString(props.className)) {\r\n      if (passCx(this.props._$widget)) return {_$cx: this.props._$cx, ...props};\r\n      else return {...props, className: this.props._$cx(props.className)};\r\n    }\r\n    return props;\r\n  }\r\n\r\n  render() {\r\n    const props = this._cn(this.props.getMappedData());\r\n    return h(this.props._$widget, props, this.props.children || props.children);\r\n  }\r\n}\r\n\r\nclass FSection extends FRefsGeneric {\r\n  private _arrayStart: number = 0;\r\n  private _rebuild = true;\r\n  private _focusField: string = '';\r\n  private _arrayKey2field: { [key: string]: number } = {};\r\n  private _widgets: { [key: string]: any } = {};\r\n  private _objectLayouts: any[] = [];\r\n  private _arrayLayouts: any[] = [];\r\n  private _setWidRef: any;\r\n  private _maps: NPM4WidgetsType = {};\r\n  private _mappedData: { [key: string]: any } = {};\r\n  private _$widget: any;\r\n  private _isArray: boolean = false;\r\n  //private _setRef: any;\r\n  //$refs: { [key: string]: any } = {};\r\n\r\n  constructor(props: any, context: any) {\r\n    super(props, context);\r\n    const self = this;\r\n    //self._setRef = (name: number | string) => (item: any) => self.$refs[name] = item;\r\n    self._setWidRef = (key: number | string) => (item: any) => self._widgets[key] = item;\r\n    // self._build(self.props);\r\n  }\r\n\r\n  // focus(path: Path) {\r\n  //   const self = this;\r\n  //   let field;\r\n  //   if (!path.length) {\r\n  //     field = self.props.focusField;\r\n  //     if (isUndefined(field)) field = self.props.isArray ? '0' : (branchKeys(self.props.$branch)[0] || '');\r\n  //   } else {\r\n  //     field = path[0].toString();\r\n  //     path = path.slice(1);\r\n  //   }\r\n  //   if (self.props.isArray && field >= self.props.arrayStart) field = self._arrayIndex2key(self.props.$branch[field]) || field;\r\n  //   if (self.$refs[field] && self.$refs[field].focus) self.$refs[field].focus(path)\r\n  // }\r\n\r\n  _getMappedData(key: number) {\r\n    const self = this;\r\n    return () => self._mappedData[key]\r\n  }\r\n\r\n\r\n  _build(props: any) {\r\n\r\n    function makeLayouts_INNER_PROCEDURE(UPDATABLE: { counter: number, keys: string[] }, fields: Array<string | FFLayoutGeneric<jsFFCustomizeType>>) {\r\n      const layout: any[] = [];\r\n      fields.forEach(fieldOrLayout => {\r\n        const {keys, counter} = UPDATABLE;\r\n        if (isString(fieldOrLayout)) { // if field is string then _makeFField\r\n          let idx = UPDATABLE.keys.indexOf(fieldOrLayout);\r\n          if (~idx) {\r\n            layout.push(self._makeFField(fieldOrLayout));\r\n            UPDATABLE.keys.splice(idx, 1);\r\n          }\r\n        } else if (isObject(fieldOrLayout)) { // layout\r\n          const counter = UPDATABLE.counter++;\r\n          let {_$widget, $_fields} = normalizeLayout(counter, fieldOrLayout as FFLayoutGeneric<jsFFCustomizeType>);\r\n          layout.push(<FSectionWidget _$widget={_$widget} _$cx={_$cx} key={'widget_' + counter} ref={self._setWidRef((counter))}\r\n                                      getMappedData={self._getMappedData(counter)}>{$_fields && makeLayouts_INNER_PROCEDURE(UPDATABLE, $_fields)}</FSectionWidget>)\r\n        }\r\n      });\r\n      return layout\r\n    }\r\n\r\n    function normalizeLayout(counter: number, layout: FFLayoutGeneric<jsFFCustomizeType>) {\r\n      let {$_maps, rest} = extractMaps(layout, ['$_fields']);\r\n      // rest = self.props.$FField.wrapFns(rest, ['$_maps']);\r\n      let {$_fields, $_reactRef, _$widget = LayoutDefaultWidget, className, ...staticProps} = rest;\r\n      if ($_fields || !counter) className = merge(LayoutDefaultClass, className);\r\n      staticProps.className = className;\r\n      let refObject = self._refProcess('@widget_' + counter, $_reactRef) || {};\r\n      if (isFunction(refObject)) refObject = {'ref': refObject};\r\n      Object.assign(staticProps, refObject);\r\n      let maps = normalizeMaps($_maps, counter.toString());\r\n      mapsKeys.forEach(k => self._maps[k].push(...maps[k]));\r\n      self._mappedData[counter] = staticProps;\r\n      return {_$widget, $_fields}\r\n    }\r\n\r\n    const self = this;\r\n\r\n    const {$branch, $layout, _$cx, arrayStart, LayoutDefaultWidget = 'div', LayoutDefaultClass = {}, uniqKey, focusField} = props;\r\n\r\n    const mapsKeys = ['build', 'data', 'every'];\r\n    mapsKeys.forEach(k => self._maps[k] = []);\r\n    self.$refs = {};\r\n    self._widgets = {};\r\n    self._mappedData = {};\r\n    self._objectLayouts = [];\r\n\r\n    const UPDATABLE = {keys: self._getObjectKeys($branch), counter: 1};\r\n    self._focusField = focusField || UPDATABLE.keys[0] || '';\r\n\r\n    let {_$widget, $_fields} = normalizeLayout(0, isArray($layout) ? {$_fields: $layout} : $layout);\r\n    self._$widget = _$widget;\r\n\r\n    if ($_fields) self._objectLayouts = makeLayouts_INNER_PROCEDURE(UPDATABLE, $_fields);  // we get inital _objectLayouts and every key, that was used in makeLayouts call removed from keys \r\n    UPDATABLE.keys.forEach(fieldName => self._objectLayouts.push(self._makeFField(fieldName)));  // so here we have only keys was not used and we add them to _objectLayouts\r\n\r\n    self._arrayLayouts = [];\r\n    self._arrayKey2field = {};\r\n    if (self.props.isArray) {  // _makeArrayLayouts\r\n      for (let i = arrayStart; i < self.props.length; i++) {\r\n        let arrayKey = self._arrayIndex2key($branch[i]);\r\n        self._arrayLayouts.push(self._makeFField(i.toString(), arrayKey));\r\n        arrayKey && (self._arrayKey2field[arrayKey] = i);\r\n      }\r\n    }\r\n    self._mappedData = self._updateMappedData(undefined, self._getData($branch), 'build');\r\n    self._rebuild = false;\r\n  }\r\n\r\n  _makeFField(fieldName: string, arrayKey?: string) {\r\n    const self = this;\r\n    return <FField ref={self._setRef(arrayKey || fieldName)} key={arrayKey || fieldName} pFForm={self.props.$FField.pFForm} FFormApi={self.props.FFormApi}\r\n                   id={self.props.id ? self.props.id + (arrayKey || fieldName) : undefined}\r\n                   name={self.props.name ? self.props.name + '[' + (self.props.isArray ? '${idx}_' + (arrayKey || fieldName) : fieldName) + ']' : undefined}\r\n                   getPath={arrayKey ? self._getArrayPath.bind(self, arrayKey) : self._getObjectPath.bind(self, fieldName)}/>;\r\n  }\r\n\r\n  _arrayIndex2key($branch: any) {\r\n    return this.props.uniqKey ? getIn(this._getData($branch), string2path(this.props.uniqKey)) : undefined;\r\n  }\r\n\r\n  _getObjectKeys($branch: StateType) {\r\n    const self = this;\r\n    let keys: string[] = [];\r\n    if (self.props.isArray) for (let i = 0; i < self.props.arrayStart; i++) keys.push(i.toString());\r\n    else keys = branchKeys($branch);\r\n    return keys;\r\n  }\r\n\r\n  _getObjectPath(field: string) {\r\n    return this.props.$FField.path + '/' + field;\r\n  }\r\n\r\n  _getArrayPath(key: string) {\r\n    return this.props.$FField.path + '/' + this._arrayKey2field[key];\r\n  }\r\n\r\n  _getArrayField(key: any) {\r\n    const self = this;\r\n    return self._arrayLayouts[key - self.props.arrayStart]\r\n  }\r\n\r\n  _reorderArrayLayout(prevBranch: StateType, nextBranch: StateType, props: any) {\r\n    const self = this;\r\n    const updatedArray = [];\r\n    let doUpdate = false;\r\n    for (let i = props.arrayStart; i < props.length; i++) {\r\n      let arrayKey = self._arrayIndex2key(nextBranch[i]);\r\n      if (isUndefined(arrayKey)) throw new Error('no unique key provided for array item');\r\n      if (self.$refs[arrayKey]) self.$refs[arrayKey].setState({branch: nextBranch[i]});\r\n      let prevIndex = self._arrayKey2field[arrayKey];\r\n      if (self._arrayKey2field[arrayKey] !== i) {\r\n        self._arrayKey2field[arrayKey] = i;\r\n        doUpdate = true\r\n      }\r\n      updatedArray.push(!isUndefined(prevIndex) ? self._getArrayField(prevIndex) : self._makeFField(i.toString(), arrayKey));\r\n    }\r\n    if (self._arrayLayouts.length !== updatedArray.length) doUpdate = true;\r\n    if (doUpdate) self._arrayLayouts = updatedArray;\r\n    return doUpdate;\r\n  }\r\n\r\n  _updateMappedData(prevData: any, nextData: any, fullUpdate: boolean | 'build' = prevData !== nextData) {\r\n    const self = this;\r\n    return updateProps(self._mappedData, prevData, nextData, fullUpdate == 'build' && self._maps.build, fullUpdate && self._maps.data, self._maps.every);\r\n  }\r\n\r\n  _getData(branch = this.props.$branch) {\r\n    return this.props.$FField.getData(branch)\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: any) {\r\n    const self = this;\r\n    if (nextProps.FFormApi !== self.props.FFormApi || nextProps.oneOf !== self.props.oneOf) return self._rebuild = true;\r\n\r\n    let doUpdate = !isEqual(nextProps, self.props, {skipKeys: ['$branch']});\r\n\r\n    let prevBranch = self.props.$branch;\r\n    let nextBranch = nextProps.$branch;\r\n\r\n    if (prevBranch != nextBranch) {\r\n      let newMapped: any;\r\n      try {\r\n        newMapped = self._updateMappedData(self._getData(prevBranch), self._getData(nextBranch));\r\n      } catch (e) {\r\n        throw self.props.$FField._addErrPath(e)\r\n      }\r\n\r\n      if (newMapped != self._mappedData) { // update self._widgets\r\n        const oldMapped = self._mappedData;\r\n        self._mappedData = newMapped;\r\n        objKeys(newMapped).forEach(key => self._widgets[key] && newMapped[key] != oldMapped[key] && self._widgets[key]['forceUpdate']());\r\n      }\r\n      // update object elements or if it _isArray elements that lower than self.props.arrayStart\r\n      self._getObjectKeys(nextBranch).forEach(field => (nextBranch[field] !== prevBranch[field]) && self.$refs[field] && self.$refs[field].setState({branch: nextBranch[field]}));\r\n\r\n      if (self.props.isArray) doUpdate = self._reorderArrayLayout(prevBranch, nextBranch, nextProps) || doUpdate; // updates and reorders elements greater/equal than self.props.arrayStart\r\n\r\n    }\r\n\r\n    return doUpdate; //|| !isEqual(self.props, nextProps, {skipKeys: ['$branch']});\r\n  }\r\n\r\n  getRef(path: Path) {\r\n    const self = this;\r\n    if (!self.props.isArray || isNaN(parseInt(path[0])) || path[0] < self.props.arrayStart) return super.getRef(path);\r\n    let field = self._getArrayField(path[0]);\r\n    return field && self.$refs[field.key].getRef(path.slice(1))\r\n  }\r\n\r\n  render() {\r\n    const self = this;\r\n    let props = self.props;\r\n    try {\r\n      if (props.viewer) {\r\n        let {_$widget = UniversalViewer, ...rest} = props.viewerProps || {};\r\n        rest.inputProps = props;\r\n        rest.value = props.$FField.value;\r\n        return h(_$widget, rest)\r\n      }\r\n      if (isSelfManaged(props.$branch)) return null;\r\n      if (self._rebuild) self._build(props); // make rebuild here to avoid addComponentAsRefTo Invariant Violation error https://gist.github.com/jimfb/4faa6cbfb1ef476bd105\r\n      return <FSectionWidget _$widget={self._$widget} _$cx={props._$cx} key={'widget_0'} ref={self._setWidRef((0))}\r\n                             getMappedData={self._getMappedData(0)}>{self._objectLayouts}{self._arrayLayouts}</FSectionWidget>\r\n    } catch (e) {\r\n      throw self.props.$FField._addErrPath(e)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Basic components\r\n/////////////////////////////////////////////\r\n\r\nclass GenericWidget extends FRefsGeneric {\r\n  private _children: any;\r\n  private _reactRef: any;\r\n  protected _mapped: any[];\r\n\r\n  constructor(props: any, context: any) {\r\n    super(props, context);\r\n  }\r\n\r\n  private _newWidget(key: any, obj: any, passedReactRef: anyObject = {}) {\r\n    const {_$widget: Widget = GenericWidget, className, $_reactRef, ...rest} = obj;\r\n    const self = this;\r\n    let refObject = self._refProcess(key, $_reactRef) || {};\r\n    if (isFunction(refObject)) refObject = {ref: refObject};\r\n    if (isFunction(passedReactRef)) refObject.ref = passedReactRef;\r\n    else Object.assign(refObject, passedReactRef);\r\n    return <Widget key={key}\r\n                   className={(!passCx(Widget) && this.props._$cx) ? this.props._$cx(className) : className}\r\n                   _$cx={passCx(Widget) ? this.props._$cx : undefined} {...rest} {...refObject}/>\r\n  }\r\n\r\n  protected _mapChildren(children: any, $_reactRef: anyObject) {\r\n    const self = this;\r\n    if (children !== self._children || self._reactRef !== $_reactRef) {\r\n      const prev = self._children && toArray(self._children);\r\n      const next = children && toArray(children);\r\n      self._mapped = next && next.map((ch: any, i: number) => (!isObject(ch) || ch.$$typeof) ? ch :\r\n        ((!self._mapped ||\r\n          !getIn(self._mapped, i) ||\r\n          prev[i] !== next[i] ||\r\n          getIn(self._reactRef, i) !== getIn($_reactRef, i)) ? self._newWidget(i, ch, getIn($_reactRef, i)) :\r\n          self._mapped[i]));\r\n      self._children = children;\r\n      self._reactRef = $_reactRef\r\n    }\r\n  }\r\n\r\n  protected setRef2rest(rest: anyObject, $_reactRef: anyObject) {\r\n    if (!$_reactRef) return rest;\r\n    if ($_reactRef['ref']) rest.ref = $_reactRef['ref'];\r\n    if ($_reactRef['tagRef'])\r\n      rest.tagRef = $_reactRef['tagRef'];\r\n  }\r\n\r\n  render(): any {\r\n    const self = this;\r\n    if (self.props.norender) return null;\r\n    const {_$useTag: UseTag = 'div', _$cx, className, $_reactRef, children, ...rest} = self.props;\r\n    self._mapChildren(children, $_reactRef);\r\n    self.setRef2rest(rest, $_reactRef);\r\n    return (<UseTag children={self._mapped} className={_$cx ? _$cx(className) : className} {...rest} />)\r\n  }\r\n}\r\n\r\nfunction isEmpty(value: any) {\r\n  return isMergeable(value) ? objKeys(value).length === 0 : value === undefined || value === null || value === \"\";\r\n}\r\n\r\nfunction toString(emptyMock: any, enumExten: any = {}, value: any): string {\r\n  if (isEmpty(value)) return emptyMock;\r\n  if (isArray(value)) return value.map(toString.bind(null, emptyMock, enumExten)).join(', ');\r\n  value = getExten(enumExten, value).label || value;\r\n  if (!isString(value)) return JSON.stringify(value);\r\n  return value\r\n}\r\n\r\nfunction UniversalViewer(props: any) {\r\n  let {_$useTag: UseTag = 'div', value, inputProps, _$cx, enumExten = {}, emptyMock = '(none)', ...rest} = props;\r\n  if (rest.className && _$cx) rest.className = _$cx(rest.className);\r\n\r\n  return h(UseTag, rest, toString(emptyMock, enumExten, value))\r\n}\r\n\r\n\r\nclass UniversalInput extends GenericWidget {\r\n  render() {\r\n    const self = this;\r\n    const props: any = self.props;\r\n    if (props.viewer) {\r\n      let {_$widget = UniversalViewer, ...rest} = props.viewerProps || {};\r\n      rest.inputProps = props;\r\n      rest.value = props.value;\r\n      return h(_$widget, rest)\r\n    }\r\n\r\n    let {value, _$useTag: UseTag, type, $_reactRef, _$cx, viewer, viewerProps, children, ...rest} = props;\r\n\r\n    self._mapChildren(children, $_reactRef);\r\n    self.setRef2rest(rest, $_reactRef);\r\n\r\n    if (type == 'textarea' || type == 'select') UseTag = UseTag || type;\r\n    else {\r\n      UseTag = UseTag || 'input';\r\n      if (type !== 'notInput') rest.type = type;\r\n    }\r\n    if (type !== 'notInput') rest[type === 'checkbox' ? 'checked' : 'value'] = value;\r\n    // if (rest.value === null) rest.value = '';\r\n\r\n    if (rest.className && _$cx) rest.className = _$cx(rest.className);\r\n    //console.log(rest.value);\r\n    return h(UseTag, rest, self._mapped)\r\n  }\r\n}\r\n\r\n\r\nclass Autowidth extends Component<any, any> {\r\n  static readonly sizerStyle: any = {position: 'absolute', top: 0, left: 0, visibility: 'hidden', height: 0, overflow: 'scroll', whiteSpace: 'pre'};\r\n  private _elem: any;\r\n\r\n  componentDidMount() {\r\n    const style = window && window.getComputedStyle(this.props.$FField.$refs['@Main']);\r\n    if (!style || !this._elem) return;\r\n    ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'letterSpacing'].forEach(key => this._elem.style[key] = style[key]);\r\n  }\r\n\r\n  render() {\r\n    const self = this;\r\n    const props = self.props;\r\n    const value = (isUndefined(props.value) || props.value === null ? '' : props.value.toString()) || props.placeholder || '';\r\n    return (<div style={Autowidth.sizerStyle as any} ref={(elem) => {\r\n      (self._elem = elem) &&\r\n      props.$FField.$refs['@Main'] &&\r\n      (props.$FField.$refs['@Main'].style.width = Math.max((elem as any).scrollWidth + (props.addWidth || 45), props.minWidth || 0) + 'px')\r\n    }}>{value}</div>)\r\n  }\r\n}\r\n\r\n\r\nfunction FBuilder(props: any) {\r\n  let {children: mapped, widgets} = props;\r\n  const {Title, Body, Main, Message, Wrapper, Autowidth} = widgets;\r\n\r\n  mapped = deArray(mapped);\r\n  return Wrapper ? h(Wrapper, mapped['Wrapper'],\r\n    Title ? h(Title, mapped['Title']) : '',\r\n    Body ? h(Body, mapped['Body'],\r\n      Main ? h(Main, mapped['Main']) : '',\r\n      Message ? h(Message, mapped['Message']) : '',\r\n      Autowidth ? h(Autowidth, mapped['Autowidth']) : ''\r\n    ) : ''\r\n  ) : ''\r\n}\r\n\r\n\r\nfunction Wrapper(props: any) {\r\n  let {_$useTag: WrapperW = 'div', _$cx = classNames, className, ArrayItemMenu, ArrayItemBody, arrayItem, ...rest} = props;\r\n  const {_$widget: IBodyW = 'div', className: IBodyCN = {}, ...IBodyRest} = ArrayItemBody || {};\r\n  const {_$widget: IMenuW = 'div', className: IMenuCN = {}, ...IMenuRest} = ArrayItemMenu || {};\r\n  const result = <WrapperW className={_$cx ? _$cx(className) : className} {...rest} />;\r\n  if (arrayItem) {\r\n    return (\r\n      <IBodyW className={_$cx ? _$cx(IBodyCN) : IBodyCN} {...IBodyRest}>\r\n        {result}\r\n        <IMenuW className={_$cx && _$cx(IMenuCN)} {...IMenuRest}/>\r\n      </IBodyW>\r\n    )\r\n  } else return result\r\n}\r\n\r\n\r\nfunction ItemMenu(props: any) {\r\n  const {_$useTag: UseTag = 'div', _$cx, disabled, className, buttonsProps = {}, arrayItem, buttons = [], onClick: defaultOnClick, ...rest}: { [key: string]: any } = props;\r\n  if (!arrayItem) return null;\r\n  // console.log(arrayItem)\r\n  buttons.forEach((key: string) => delete rest[key]);\r\n  return (\r\n    <UseTag className={_$cx(className)} {...rest}>\r\n      {buttons.map((key: string) => {\r\n        const {_$widget: ButW = 'button', type = 'button', disabledCheck = '', className: ButCN = {}, onClick = defaultOnClick, title = key, children = key, ...restBut} = buttonsProps[key] || {};\r\n        return (\r\n          <ButW key={key} type={type} title={title} className={_$cx ? _$cx(ButCN) : ButCN} children={children}\r\n                disabled={disabled || disabledCheck && !arrayItem[disabledCheck]} {...restBut} onClick={() => onClick(key)}/>)\r\n      })}\r\n    </UseTag>);\r\n}\r\n\r\n\r\nfunction CheckboxNull(props: any) {\r\n  const self = this;\r\n  let {checked, onChange, nullValue = null, dual, tagRef, type, ...rest} = props;\r\n  return <input type=\"checkbox\" checked={checked === true} {...rest}\r\n                onChange={(event: any) => {\r\n                  onChange(dual ? !checked : (checked === nullValue ? true : (checked === true ? false : nullValue)), event)\r\n                }}\r\n                ref={elem => {\r\n                  tagRef && tagRef(elem);\r\n                  elem && (elem.indeterminate = (checked === nullValue))\r\n                }}/>\r\n}\r\n\r\n\r\n///////////////////////////////\r\n//     Functions\r\n///////////////////////////////\r\n\r\nfunction passCx(Widget: any) {\r\n  return Widget instanceof GenericWidget\r\n}\r\n\r\nconst resolveComponents = memoize((elements: elementsType, customizeFields: FFCustomizeType = {}, sets?: string): jsFFCustomizeType => {\r\n  if (sets) {\r\n    let $_ref = sets.split(':')\r\n      .map(v => (v = v.trim()) && (v[0] != '^' ? '^/sets/' + v : v))\r\n      .join(':') + ':' + (customizeFields.$_ref || '');\r\n    customizeFields = merge(customizeFields, {$_ref});\r\n  }\r\n  return objectResolver(elements, customizeFields);\r\n});\r\n\r\nfunction extractMaps(obj: any, skip: string[] = []) {\r\n  let {$_maps, ...rest2extract} = obj;\r\n  $_maps = {...$_maps};\r\n  const rest: any = isArray(obj) ? [] : {};\r\n  objKeys(rest2extract).forEach(key => {\r\n    if (isMergeable(rest2extract[key]) && !~skip.indexOf(key)) {\r\n      let res = extractMaps(rest2extract[key], skip);\r\n      rest[key] = res.rest;\r\n      objKeys(res.$_maps).forEach((nk) => $_maps[key + '/' + nk] = res.$_maps[nk]);\r\n    } else rest[key] = rest2extract[key]\r\n  });\r\n\r\n  return {$_maps, rest};\r\n}\r\n\r\n\r\nfunction normalizeMaps($_maps: any, prePath = '') {\r\n  const result: { data: NormalizedPropsMapType[], every: NormalizedPropsMapType[], build: NormalizedPropsMapType[] } = {data: [], every: [], build: []};\r\n  objKeys($_maps).forEach(key => {\r\n    let value = $_maps[key];\r\n    if (!value) return;\r\n    const to = multiplyPath(normalizePath((prePath ? prePath + '/' : '') + key));\r\n    if (isFunction(value) || isArray(value)) {\r\n      toArray(value).forEach((fn: any) => {\r\n        const {update = 'data', replace = true, ...rest} = fn._map;\r\n        //fn._map = {update, replace, to, ...rest};\r\n        result[update].push({update, replace, ...rest, to, $: fn});\r\n      })\r\n    } else {\r\n      if (isString(value)) value = {args: value};\r\n      value = {...value, ...normalizeArgs(value.args)};\r\n      let {args, update = 'data', replace = true, ...rest} = value;\r\n      //if (!isString(path)) throw new Error('$_maps value is not recognized');\r\n      //if (path[0] === '@') path = path.substr(1);\r\n      // lse console.warn('Expected \"@\" at the begining of string');\r\n      result.data.push({args: args[0], update, replace, to, dataRequest: true, ...rest})\r\n    }\r\n  });\r\n  return result\r\n}\r\n\r\n//!map.$ && map.args[0] == 'selectorValue' && args[0]\r\nfunction updateProps(mappedData: any, prevData: any, nextData: any, ...iterMaps: Array<NormalizedPropsMapType[] | false>) {\r\n  // const getFromData = (arg: any) => isNPath(arg) ? getIn(nextData, arg) : arg;\r\n  const needUpdate = (map: NormalizedPropsMapType): boolean => isUndefined(prevData) || !map.$ ||\r\n    (map.dataRequest && map.args.some(arg => {\r\n      if (isNPath(arg)) return getIn(prevData, arg) !== getIn(nextData, arg);\r\n      if (isMapFn(arg)) return needUpdate(arg._map || arg);\r\n      return false\r\n    }));//isFunction(map.args[0])\r\n  const dataUpdates = {update: {}, replace: {}, api: {}};\r\n  iterMaps.forEach(maps => maps && maps.forEach(map => {\r\n      if (map.update == 'data' && !needUpdate(map)) return;\r\n      const value = map.$ ? map.$() : processProp(nextData, map.args);\r\n      objKeys(map.to).forEach(k => setUPDATABLE(dataUpdates, value, map.replace, map.to[k]));\r\n      if (!map.replace) mappedData = mergeUPD_PROC(mappedData, dataUpdates);\r\n    })\r\n  );\r\n  return mergeUPD_PROC(mappedData, dataUpdates);\r\n}\r\n\r\nconst getExten = (enumExten: any, value: any) => (isFunction(enumExten) ? enumExten(value) : getIn(enumExten, value)) || {};\r\n\r\n\r\nfunction classNames(...styles: any[]) {\r\n  const classes: any[] = [];\r\n\r\n  for (let i = 0; i < styles.length; i++) {\r\n    let arg = styles[i];\r\n    if (!arg) continue;\r\n\r\n    const argType = typeof arg;\r\n\r\n    if (argType === 'string' || argType === 'number') {\r\n      classes.push(this && this[arg] || arg);\r\n    } else if (isArray(arg)) {\r\n      classes.push(classNames.apply(this, arg));\r\n    } else if (argType === 'object') {\r\n      objKeys(arg).forEach(key => {\r\n          if (!arg[key]) return;\r\n          if (typeof arg[key] == 'number' || arg[key] === true) classes.push(this && this[key] || key);\r\n          else classes.push(classNames.call(this, arg[key]));\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  return classes.join(' ');\r\n}\r\n\r\n//\r\n// function selectorMap(opts: { skipFields?: string[], replaceFields?: { [key: string]: string } } = {}) { //skipFields: string[] = [], replaceFields: { [key: string]: string } = {}) {\r\n//   const skipFields = opts.skipFields || [];\r\n//   const replaceFields = opts.replaceFields || {};\r\n//   return function (value: any, props: any) {\r\n//     const {path, getFromState, schema} = props;\r\n//     let vals = (isArray(value) ? value : [value]).map(key => (replaceFields[key]) ? replaceFields[key] : key);\r\n//     let tmpPath: any = normalizePath(path.split('@')[0]);\r\n//     const selectorField = tmpPath.pop();\r\n//     let stringPath = path2string(tmpPath);\r\n//     vals = vals.filter(key => getFromState(stringPath + '/' + key));\r\n//     vals.push(selectorField);\r\n//     stringPath = stringPath + '/' + vals.join(',') + '/@/params/hidden';\r\n//     return new stateUpdates([\r\n//       {skipFields, path: stringPath, value: false, macros: 'setMultiply'}, {skipFields, path: stringPath, value: true, macros: 'setAllBut'}]);\r\n//   }\r\n// }\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  elements\r\n/////////////////////////////////////////////\r\n\r\n\r\nlet elementsBase: elementsType & { extend: (elements: any[], opts?: MergeStateOptionsArgument) => any } = {\r\n  extend(elements: any[], opts?: MergeStateOptionsArgument) {\r\n    return merge.all(this, elements, opts)\r\n  },\r\n  types: ['string', 'integer', 'number', 'object', 'array', 'boolean', 'null'],\r\n  widgets: {\r\n    Section: FSection,\r\n    Generic: GenericWidget,\r\n    Input: UniversalInput,\r\n    Autowidth: Autowidth,\r\n    Builder: FBuilder,\r\n    Wrapper: Wrapper,\r\n    ItemMenu: ItemMenu,\r\n    CheckboxNull: CheckboxNull,\r\n  },\r\n  sets: {\r\n    'base': {\r\n      Wrapper: {\r\n        _$widget: '^/widgets/Wrapper',\r\n        ArrayItemMenu: {\r\n          $_ref: '^/parts/ArrayItemMenu'\r\n        },\r\n        _$cx: '^/_$cx',\r\n        $_maps: {\r\n          'className/hidden': '@/params/hidden',\r\n          'arrayItem': '@/arrayItem'\r\n        }\r\n      },\r\n      Builder: {\r\n        _$widget: '^/widgets/Builder',\r\n        _$cx: '^/_$cx',\r\n        $_maps: {\r\n          widgets: {$: '^/fn/getProp', args: ['_widgets'], update: 'build'},\r\n        },\r\n      },\r\n      //Title: {},\r\n      Body: {\r\n        _$widget: '^/widgets/Generic',\r\n        _$cx: '^/_$cx',\r\n        className: 'body',\r\n      },\r\n      //Main: {},\r\n      Message: {\r\n        _$widget: '^/widgets/Generic',\r\n        _$cx: '^/_$cx',\r\n        children: [],\r\n        $_maps: {\r\n          children: {$: '^/fn/messages', args: ['@/messages', {}]},\r\n          'className/hidden': {$: '^/fn/not', args: '@/status/touched'},\r\n        }\r\n      }\r\n    },\r\n    nBase: {\r\n      $_ref: '^/sets/base',\r\n      Main: {\r\n        _$widget: '^/widgets/Input',\r\n        _$cx: '^/_$cx',\r\n        $_reactRef: {ref: true},\r\n        viewerProps: {_$cx: '^/_$cx', emptyMock: '(no value)', className: {viewer: true}},\r\n        onChange: {$: '^/fn/eventValue|setValue'},\r\n        onBlur: {$: '^/fn/blur'},\r\n        onFocus: {$: '^/fn/focus'},\r\n        $_maps: {\r\n          // priority: '@/status/priority',\r\n          value: '@/value',\r\n          viewer: '@/params/viewer',\r\n          autoFocus: '@/params/autofocus',\r\n          readOnly: '@/params/readonly',\r\n          disabled: '@/params/disabled',\r\n          placeholder: '@/fData/placeholder',\r\n          required: '@/fData/required',\r\n          label: '@/fData/title',\r\n          'viewerProps/enumExten': '@/fData/enumExten',\r\n          id: {$: '^/fn/getProp', args: 'props/id', update: 'build'},\r\n          name: {$: '^/fn/getProp', args: 'props/name', update: 'build'},\r\n        }\r\n      },\r\n      Title: {\r\n        _$widget: '^/widgets/Generic',\r\n        _$cx: '^/_$cx',\r\n        _$useTag: 'label',\r\n        children: [],\r\n        $_maps: {\r\n          'className/required': '@/fData/required',\r\n          'children/0': '@/fData/title',\r\n          'className/hidden': {$: '^/fn/not', args: '@/fData/title'},\r\n          htmlFor: {$: '^/fn/getProp', args: ['id'], update: 'build'},\r\n          'className/title-viewer': '@/params/viewer'\r\n        }\r\n      },\r\n    },\r\n    string: {\r\n      $_ref: '^/sets/nBase',\r\n      Main: {type: 'text'}\r\n    },\r\n    textarea: {\r\n      $_ref: '^/sets/nBase',\r\n      Main: {type: 'textarea', viewerProps: {className: {viewer: false, 'viewer-inverted': true}}},\r\n      Title: {\r\n        $_maps: {\r\n          'className/title-viewer-inverted': '@/params/viewer'\r\n        }\r\n      }\r\n    },\r\n    integer: {\r\n      $_ref: '^/sets/nBase',\r\n      Main: {\r\n        type: 'number',\r\n        onChange: {$: '^/fn/eventValue|parseNumber|setValue', args: ['${value}', true, 0]},\r\n        $_maps: {\r\n          value: {$: '^/fn/iif', args: [{$: '^/fn/equal', args: ['@value', null]}, '', '@value']},\r\n        }\r\n      }\r\n    },\r\n    integerNull: {\r\n      $_ref: '^/sets/integer',\r\n      Main: {\r\n        onChange: {args: {2: null}},\r\n      }\r\n    },\r\n    number: {\r\n      $_ref: '^/sets/integer',\r\n      Main: {onChange: {args: {1: false}}, step: 'any'}\r\n    },\r\n    numberNull: {\r\n      $_ref: '^/sets/integerNull',\r\n      Main: {onChange: {args: {1: false, 2: null}}, step: 'any'}\r\n    },\r\n    'null': {$_ref: '^/sets/nBase', Main: false},\r\n    boolean: {\r\n      $_ref: '^/sets/nBase',\r\n      Main: {\r\n        type: 'checkbox',\r\n        onChange: {$: '^/fn/eventChecked|setValue|updCached'}\r\n      },\r\n    },\r\n    booleanLeft: {\r\n      $_ref: '^/sets/base',\r\n      Main: {\r\n        _$widget: '^/widgets/Generic',\r\n        _$useTag: 'label',\r\n        _$cx: '^/_$cx',\r\n        $_reactRef: {'0': {ref: true}},\r\n        children: [\r\n          {$_ref: '^/sets/nBase/Main:^/sets/boolean/Main', $_reactRef: false, viewerProps: {_$useTag: 'span'}},\r\n          {$_ref: '^/sets/nBase/Title', _$useTag: 'span', $_maps: {'className/hidden': '@/params/viewer'}}\r\n        ]\r\n      },\r\n      Title: {$_ref: '^/sets/nBase/Title', $_maps: {'className/hidden': {$: '^/fn/not', args: '@/params/viewer'}}},\r\n    },\r\n    booleanNull: {\r\n      $_ref: '^/sets/boolean',\r\n      Main: {\r\n        _$useTag: '^/widgets/CheckboxNull',\r\n        $_reactRef: {tagRef: true},\r\n        onChange: {$: '^/fn/setValue|updCached'},\r\n      },\r\n    },\r\n    booleanNullLeft: {\r\n      $_ref: '^/sets/booleanLeft',\r\n      Main: {\r\n        $_reactRef: {'0': {ref: null, tagRef: true}},\r\n        children: [{$_ref: '^/sets/booleanNull/Main'}, {}]\r\n      }\r\n    },\r\n    object: {\r\n      $_ref: '^/sets/base',\r\n      Main: {\r\n        _$widget: '^/widgets/Section',\r\n        _$cx: '^/_$cx',\r\n        $_reactRef: true,\r\n        uniqKey: 'params/uniqKey',\r\n        LayoutDefaultClass: 'layout',\r\n        LayoutDefaultWidget: 'div',\r\n        viewerProps: {$_ref: '^/sets/nBase/Main/viewerProps'},\r\n        $_maps: {\r\n          length: '@/length',\r\n          oneOf: '@/oneOf',\r\n          isArray: {$: '^/fn/equal', args: ['@/fData/type', 'array']},\r\n          $branch: {$: '^/fn/getProp', args: '$branch', update: 'every'},\r\n          arrayStart: {$: '^/fn/getArrayStart', args: [], update: 'build'},\r\n          $FField: {$: '^/fn/getProp', args: [], update: 'build'},\r\n          FFormApi: {$: '^/fn/getProp', args: 'props/pFForm/api', update: 'build'},\r\n          id: {$: '^/fn/getProp', args: 'props/id', update: 'build'},\r\n          name: {$: '^/fn/getProp', args: 'props/name', update: 'build'},\r\n          $layout: {$: '^/fn/getProp', args: 'ff_layout', update: 'build'}\r\n        }\r\n      },\r\n      Title: {\r\n        _$widget: '^/widgets/Generic',\r\n        _$cx: '^/_$cx',\r\n        _$useTag: 'legend',\r\n        children: [\r\n          {$_ref: '^/sets/nBase/Title', _$useTag: 'span'},\r\n          {$_ref: '^/parts/ArrayAddButton'},\r\n          {$_ref: '^/parts/ArrayDelButton'},\r\n          {$_ref: '^/parts/ArrayEmpty'}],\r\n      },\r\n      Wrapper: {_$useTag: 'fieldset'},\r\n    },\r\n    array: {$_ref: '^/sets/object'},\r\n    select: {\r\n      $_ref: '^/sets/nBase',\r\n      Main: {\r\n        type: 'select',\r\n        children: [],\r\n        $_maps: {\r\n          'children': {$: '^/fn/arrayOfEnum', args: ['@/fData/enum', '@/fData/enumExten', {_$widget: 'option'}], replace: false},\r\n          'label': false\r\n        }\r\n      }\r\n    },\r\n    multiselect: {\r\n      $_ref: '^/sets/select',\r\n      Main: {\r\n        multiple: true,\r\n        onChange: {$: '^/fn/eventMultiple|setValue'}\r\n      }\r\n    },\r\n    radio: {\r\n      $_ref: '^/sets/base',\r\n      Title: {$_ref: '^/sets/nBase/Title'},\r\n      Main: {\r\n        $_ref: '^/parts/RadioSelector',\r\n        $_reactRef: true,\r\n        viewerProps: {$_ref: '^/sets/nBase/Main/viewerProps'},\r\n        $_maps: {\r\n          value: '@/value',\r\n          viewer: '@/params/viewer',\r\n          children: [\r\n            {\r\n              args: [\r\n                '@/fData/enum',\r\n                '@/fData/enumExten',\r\n                {$_reactRef: {'$_reactRef': {'0': {'ref': true}}}},\r\n                {onChange: {args: []}},\r\n                {},\r\n                true\r\n              ],\r\n            },\r\n            {args: ['@/fData/enum', '@/value']},\r\n            {args: {0: '@/fData/enum'}},\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    checkboxes: {$_ref: '^/sets/radio', Main: {$_maps: {children: {'0': {args: {'3': {type: 'checkbox', onChange: {$: '^/fn/eventCheckboxes|setValue|updCached'}}, '5': '[]'}}}}}},\r\n    radioNull: {Main: {$_maps: {children: {'0': {args: {'3': {onClick: '^/fn/eventValue|radioClear|updCached'}}}}}}},\r\n    radioEmpty: {Main: {$_maps: {children: {'0': {args: {'3': {onClick: {$: '^/fn/eventValue|radioClear|updCached', args: ['${value}', '']}}}}}}}},\r\n    hidden: {\r\n      Builder: {\r\n        className: {hidden: true},\r\n        $_maps: {'className/hidden': false}\r\n      }\r\n    },\r\n    autowidth: {\r\n      Autowidth: {$_ref: '^/parts/Autowidth'},\r\n      Wrapper: {className: {shrink: true}},\r\n    },\r\n    noArrayControls: {Wrapper: {$_maps: {'arrayItem': false}}},\r\n    noArrayButtons: {Title: {$_ref: '^/sets/nBase/Title'}},\r\n    inlineItems: {Main: {className: {'inline': true}}},\r\n    inlineTitle: {Wrapper: {className: {'inline': true}}},\r\n    inlineLayout: {Main: {LayoutDefaultClass: {'inline': true}}},\r\n    inlineArrayControls: {Wrapper: {ArrayItemBody: {className: {'inline': true}}}},\r\n    arrayControls3but: {Wrapper: {ArrayItemMenu: {buttons: ['up', 'down', 'del'],}}},\r\n    noTitle: {Title: false},\r\n    shrink: {Wrapper: {className: {'shrink': true}}},\r\n    expand: {Wrapper: {className: {'expand': true}}},\r\n    bnnDual: {Main: {children: {0: {dual: true}}}}\r\n  },\r\n  fn: {\r\n    api(fn: string, ...args: any[]) {this.api[fn](...args)},\r\n    format(str: string, ...args: any[]) {\r\n      return args.reduce((str, val, i) => str.replace('${' + i + '}', val), str)\r\n    },\r\n    iif(iif: any, trueVal: any, falseVaL: any, ...args: any[]) { return [iif ? trueVal : falseVaL, ...args]},\r\n    not(v: any, ...args: any[]) {return [!v, ...args]},\r\n    equal(a: any, ...args: any[]) {return [args.some(b => a === b)]},\r\n    getArrayStart(...args: any[]) {return [arrayStart(this.schemaPart), ...args]},\r\n    getProp(key: string, ...args: any[]) {return [getIn(this, normalizePath(key)), ...args]},\r\n\r\n    eventValue: (event: any, ...args: any[]) => [event.target.value, ...args],\r\n    eventChecked: (event: any, ...args: any[]) => [event.target.checked, ...args],\r\n    eventMultiple: (event: any, ...args: any[]) =>\r\n      [Array.from(event.target.options).filter((o: any) => o.selected).map((v: any) => v.value), ...args],\r\n    parseNumber: (value: any, int: boolean = false, empty: number | null = null, ...args: any[]) =>\r\n      [value === '' ? empty : (int ? parseInt : parseFloat)(value), ...args],\r\n\r\n    setValue(value: any, opts: any = {}, ...args: any[]) {\r\n      this.api.setValue(value, opts);\r\n      return args;\r\n    },\r\n    // arrayAdd(path: any, value: number = 1, opts: any = {}, ...args: any[]) {\r\n    //   this.api.arrayAdd(path, value, opts);\r\n    //   return args;\r\n    // },\r\n    // arrayItemOps(path: any, key: any, opts: any = {}, ...args: any[]) {\r\n    //   this.api.arrayItemOps(path, key, opts);\r\n    //   return args;\r\n    // },\r\n    focus(value: any, ...args: any[]) {\r\n      this.api.set('/@/active', this.path, {noValidation: true});\r\n      return args;\r\n    },\r\n    blur(...args: any[]) {\r\n      this.api.set('./', -1, {[SymData]: ['status', 'untouched'], noValidation: true, macros: 'setStatus'});\r\n      this.api.set('/@/active', undefined, {noValidation: true});\r\n      this._updateCachedValue(true);\r\n      !this.liveValidate && this.api.validate('./',);\r\n      return args;\r\n    },\r\n    updCached(...args: any[]) {\r\n      this._forceUpd = true;\r\n      return args;\r\n    },\r\n    eventCheckboxes(event: any, ...args: any[]) {\r\n      const selected = (this.getData().value || []).slice();\r\n      const value = event.target.value;\r\n      const at = selected.indexOf(value);\r\n      const updated = selected.slice();\r\n      if (at == -1) updated.push(value); else updated.splice(at, 1);\r\n      const all = this.getData().fData.enum;\r\n      updated.sort((a: any, b: any) => all.indexOf(a) > all.indexOf(b));\r\n      return [updated, ...args]\r\n    },\r\n    radioClear(value: any, nullValue = null, ...args: any[]) {\r\n      if (this.api.getValue() === value) this.api.setValue(nullValue);\r\n      return args;\r\n    },\r\n\r\n    messages(messages: any[], staticProps: anyObject = {}) {\r\n      const {className: cnSP = {}, ...restSP} = staticProps;\r\n      return [objKeys(messages).map(priority => {\r\n        const {norender, texts, className = {}, ...rest} = messages[priority];\r\n        const children: any[] = [];\r\n        objKeys(texts).forEach((key: string) =>\r\n          toArray(texts[key]).forEach((v, i, arr) =>\r\n            (isString(v) && isString(children[children.length - 1])) ? children.push(v, {_$widget: 'br'}) : children.push(v)));\r\n        if (norender || !children.length) return null;\r\n        return {children, ...restSP, className: {['priority_' + priority]: true, ...cnSP, ...className}, ...rest}\r\n      })]\r\n    },\r\n    arrayOfEnum(enumVals: any[], enumExten: any = {}, staticProps: any = {}, name?: true | string) {\r\n      return [enumVals.map(val => {\r\n        let extenProps = getExten(enumExten, val);\r\n        return {value: val, key: val, children: [extenProps.label || val], name: name && (this.name + (name === true ? '' : name)), ...extenProps, ...staticProps}\r\n      })]\r\n    },\r\n    enumInputs(enumVals: any[] = [], enumExten: any = {}, containerProps: any = {}, inputProps: any = {}, labelProps: any = {}, name?: true | string) {\r\n      // inputProps = this.wrapFns(inputProps);\r\n      return [enumVals.map(val => {\r\n        let extenProps = getExten(enumExten, val);\r\n        return {\r\n          key: val,\r\n          ...containerProps,\r\n          children: [\r\n            {value: val, name: name && (this.props.name + (name === true ? '' : name)), ...merge(inputProps, extenProps)},\r\n            {...labelProps, children: [extenProps.label || val]}\r\n          ]\r\n        }\r\n      })]\r\n    },\r\n    enumInputProps(enumVals: any[] = [], ...rest: any[]) {\r\n      let props: any = {};\r\n      for (let i = 0; i < rest.length; i += 2) props[rest[i]] = rest[i + 1];\r\n      return [enumVals.map(val => {return {'children': {'0': props}}})]\r\n    },\r\n    enumInputValue(enumVals: any[] = [], value: any, property = 'checked') {\r\n      value = toArray(value);\r\n      return [enumVals.map(val => {return {'children': {'0': {[property]: !!~value.indexOf(val)}}}})]\r\n    },\r\n  },\r\n  parts: {\r\n    RadioSelector: {\r\n      _$widget: '^/widgets/Input',\r\n      _$cx: '^/_$cx',\r\n      _$useTag: 'div',\r\n      type: 'notInput',\r\n      children: [],\r\n      $_maps: {\r\n        value: '@/selector/value',\r\n        children: [\r\n          {\r\n            $: '^/fn/enumInputs',\r\n            args: [\r\n              '@/selector/enum',\r\n              '@/selector/enumExten',\r\n              {_$useTag: 'label', _$cx: '^/_$cx'},\r\n              {\r\n                _$widget: 'input',\r\n                type: 'radio',\r\n                onChange: {$: '^/fn/eventValue|setValue|updCached', args: ['${value}', {path: './@/selector/value'}]},\r\n                onBlur: '^/sets/nBase/Main/onBlur',\r\n                onFocus: '^/sets/nBase/Main/onFocus',\r\n              },\r\n              {_$useTag: 'span', _$cx: '^/_$cx',},\r\n              true\r\n            ],\r\n            replace: false,\r\n          },\r\n          {$: '^/fn/enumInputValue', args: ['@/selector/enum', '@/selector/value'], replace: false},\r\n          {$: '^/fn/enumInputProps', args: ['@/selector/enum', 'readOnly', '@/params/readonly', 'disabled', '@/params/disabled'], replace: false}\r\n        ]\r\n      }\r\n    },\r\n    Autowidth: {\r\n      _$widget: '^/widgets/Autowidth',\r\n      addWidth: 35,\r\n      minWidth: 60,\r\n      $_maps: {\r\n        value: 'value',\r\n        placeholder: '@/params/placeholder',\r\n        'className/hidden': '@/params/hidden',\r\n        $FField: {$: '^/fn/getProp', args: [], update: 'build'},\r\n      }\r\n    },\r\n    Button: {\r\n      _$widget: '^/widgets/Generic',\r\n      _$cx: '^/_$cx',\r\n      _$useTag: 'button',\r\n      type: 'button',\r\n      $_maps: {\r\n        'className/button-viewer': '@/params/viewer',\r\n        disabled: '@/params/disabled',\r\n      }\r\n    },\r\n    Submit: {\r\n      $_ref: '^/parts/Button',\r\n      type: 'submit',\r\n      children: ['Submit']\r\n      // $_maps: {disabled: {$: '^/fn/not', args: '@/status/valid'},}\r\n    },\r\n    Reset: {\r\n      $_ref: '^/parts/Button',\r\n      children: ['Reset'],\r\n      onClick: {$: '^/fn/api', args: ['reset']},\r\n      $_maps: {\r\n        disabled: '@/status/pristine',\r\n      }\r\n    },\r\n    ArrayAddButton: {\r\n      $_ref: '^/parts/Button',\r\n      children: ['+'],\r\n      onClick: {$: '^/fn/api', args: ['arrayAdd', './', 1]},\r\n      $_maps: {\r\n        'className/hidden': {$: '^/fn/equal | ^/fn/not', args: ['@/fData/type', 'array']},\r\n        'disabled': {$: '^/fn/equal', args: [true, {$: '^/fn/not', args: '@/fData/canAdd'}, '@params/disabled']}\r\n      }\r\n    },\r\n    ArrayDelButton: {\r\n      $_ref: '^/parts/Button',\r\n      children: ['-'],\r\n      onClick: {$: '^/fn/api', args: ['arrayAdd', './', -1]},\r\n      $_maps: {\r\n        'className/hidden': {$: '^/fn/equal | ^/fn/not', args: ['@/fData/type', 'array']},\r\n        'disabled': {$: '^/fn/equal', args: [true, {$: '^/fn/not', args: '@/length'}, '@params/disabled']},\r\n      },\r\n    },\r\n    ArrayEmpty: {\r\n      children: '(array is empty)',\r\n      _$useTag: 'span',\r\n      $_maps: {'className/hidden': {$: '^/fn/equal | ^/fn/not', args: ['@/length', 0]}}\r\n    },\r\n    ArrayItemMenu: {\r\n      _$widget: '^/widgets/ItemMenu',\r\n      _$cx: '^/_$cx',\r\n      buttons: ['first', 'last', 'up', 'down', 'del'],\r\n      onClick: {$: '^/fn/api', args: ['arrayItemOps', './', '${value}']},\r\n      buttonsProps: {\r\n        first: {disabledCheck: 'canUp'},\r\n        last: {disabledCheck: 'canDown'},\r\n        up: {disabledCheck: 'canUp'},\r\n        down: {disabledCheck: 'canDown'},\r\n        del: {disabledCheck: 'canDel'},\r\n      },\r\n      $_maps: {arrayItem: '@/arrayItem', 'className/button-viewer': '@/params/viewer', disabled: '@params/disabled'},\r\n    },\r\n    Expander: {_$widget: 'div', className: {expand: true}}\r\n  },\r\n  _$cx: classNames\r\n};\r\n\r\n\r\nexport {elementsBase as elements, formReducer, FForm, FFormStateAPI, fformCores};\r\n\r\nexport {extractMaps, normalizeMaps, updateProps}","import {getCreateIn, setIn, hasIn, getIn, objKeys, moveArrayElems, makeSlice, memoize, merge, objKeysNSymb, push2array, toArray, deArray, mergeState} from \"./commonLib\";\r\nimport {isMergeable, isUndefined, isNumber, isInteger, isString, isArray, isObject, isFunction} from \"./commonLib\";\r\nimport {anSetState} from './api';\r\n\r\n/////////////////////////////////////////////\r\n//  Symbols\r\n/////////////////////////////////////////////\r\n\r\nconst SymData: any = Symbol.for('FFormData');\r\nconst SymDataMapTree: any = Symbol.for('FFormDataMapTree');\r\nconst SymDataMap: any = Symbol.for('FFormDataMap');\r\nconst SymReset: any = Symbol.for('FFormReset');\r\nconst SymClear: any = Symbol.for('FFormClear');\r\nconst SymDelete = undefined; // Symbol.for('FFormDelete'); // \r\n// const SymBranch: any = Symbol.for('FFormBranch');\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  JSON types detector\r\n/////////////////////////////////////////////\r\n\r\nconst types: any = ['null', 'boolean', 'integer', 'number', 'string', 'array', 'object'];\r\ntypes.any = () => true;\r\ntypes.null = (value: any) => value === null;\r\ntypes.boolean = (value: any) => typeof value === \"boolean\";\r\ntypes.number = isNumber;// (value: any) => typeof value === \"number\";\r\ntypes.integer = isInteger; //(value: any) => typeof value === \"number\" && (Math.floor(value) === value || value > 9007199254740992 || value < -9007199254740992);\r\ntypes.string = isString; //(value: any) => typeof value === \"string\";\r\ntypes.array = isArray;\r\ntypes.object = isObject; //(value: any) => typeof value === \"object\" && value && !isArray(value);// isObject(value);  //\r\ntypes.empty = {'any': null, 'null': null, 'boolean': false, 'number': 0, 'integer': 0, 'string': '', array: Object.freeze([]), object: Object.freeze({})};\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Macros\r\n/////////////////////////////////////////////\r\n\r\nfunction getBindedMaps2update(branch: StateType, path: Path = []) {\r\n  const maps2disable: normalizedDataMapType[] = getIn(branch, SymDataMapTree, SymData) || [];\r\n  const maps2enable = maps2disable.map((map => merge(map, {emitter: path})));\r\n  let clearBinded: any = (maps2disable.length) ? {[SymDataMapTree]: {[SymData]: []}} : undefined\r\n  objKeys(branch).forEach(key => {\r\n    let result: any;\r\n    if (branch[key]) {\r\n      result = getBindedMaps2update(branch[key], path.concat(key));\r\n      push2array(maps2disable, result.maps2disable);\r\n      push2array(maps2enable, result.maps2enable);\r\n      if (result.clearBinded) {\r\n        if (!clearBinded) clearBinded = {};\r\n        clearBinded[key] = result.clearBinded;\r\n      }\r\n    }\r\n  });\r\n  return {maps2disable, maps2enable, clearBinded}\r\n}\r\n\r\nconst Macros: { [key: string]: any } = {};\r\n\r\nMacros.array = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  let {path, macros, value, [SymData]: sym, ...rest} = item as any;\r\n  let length = getUpdValue([UPDATABLE.update, state], path, SymData, 'length');\r\n  if (!isNumber(length)) return state;\r\n\r\n  if (isArray(item.value)) {\r\n    let mergeArrayObj: any = [];\r\n    let replaceArrayObj: any = {};\r\n    for (let i = 0; i < item.value.length; i++) {\r\n      mergeArrayObj[length + i] = item.value[i];\r\n      replaceArrayObj[length + i] = getIn(item.replace, i);\r\n    }\r\n    mergeArrayObj.length = length + item.value.length;\r\n    return updateCurrentPROC(state, UPDATABLE, mergeArrayObj, replaceArrayObj, path, item.setOneOf)\r\n  } else {\r\n    length += item.value || 1;\r\n    if (length < 0) length = 0;\r\n    return updatePROC(state, UPDATABLE, makeNUpdate(path, ['length'], length, false, rest));\r\n  }\r\n};\r\n\r\nMacros.arrayItem = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  let path = item.path;\r\n  let op = item.op;\r\n  let opVal = item.value || 0;\r\n  const from = parseInt(path.pop());\r\n  let to = from;\r\n  const min = arrayStart(getSchemaPart(schema, path, oneOfFromState(state))); // api.get(path.concat(SymData, 'array', 'arrayStartIndex'));\r\n  const length = getUpdValue([UPDATABLE.update, state], path, SymData, 'length');\r\n  const max = length - 1;\r\n  if (op == 'up') to--;\r\n  if (op == 'down') to++;\r\n  if (op == 'first') to = min;\r\n  if (op == 'last' || op == 'del') to = max;\r\n  if (op == 'move') to = opVal;\r\n  if (op == 'shift') to += opVal;\r\n  if (to < min) to = min;\r\n  if (to > max) to = max;\r\n\r\n  let stateObject = {};\r\n  let arrayItems = {};\r\n  let dataMaps = {};\r\n  let currentObject: any = {};\r\n  let updObj: any[] = [];\r\n  updObj[0] = getIn(UPDATABLE.update, path);\r\n  updObj[1] = getIn(UPDATABLE.update, SymData, 'current', path);\r\n  updObj[2] = getIn(UPDATABLE.replace, path);\r\n  updObj[3] = getIn(UPDATABLE.replace, SymData, 'current', path);\r\n\r\n\r\n  for (let i = Math.min(from, to); i <= Math.max(from, to); i++) {\r\n    stateObject[i] = getIn(state, path, i);\r\n    arrayItems[i] = stateObject[i][SymData].arrayItem; //delIn(stateObject[i][SymData].arrayItem, ['uniqId']); // save arrayItem values, except \"uniqId\"\r\n    //dataMaps[i] = stateObject[i][SymDataMapTree];\r\n    currentObject[i] = getIn(state, SymData, 'current', path, i);\r\n    updObj.forEach(obj => isMergeable(obj) && !obj.hasOwnProperty(i) && (obj[i] = SymClear));\r\n  }\r\n  stateObject = moveArrayElems(stateObject, from, to);\r\n  currentObject = moveArrayElems(currentObject, from, to);\r\n  const {maps2disable, maps2enable, clearBinded} = getBindedMaps2update(stateObject, path);\r\n  if (clearBinded) stateObject = merge(stateObject, clearBinded);\r\n  updObj.forEach(obj => {\r\n    if (!isMergeable(obj)) return;\r\n    moveArrayElems(obj, from, to);\r\n    for (let i = Math.min(from, to); i <= Math.max(from, to); i++) {\r\n      if (obj[i] === SymClear) delete obj[i];\r\n    }\r\n  });\r\n\r\n  objKeys(stateObject).forEach(i => {\r\n    stateObject[i] = merge(stateObject[i], makeSlice(SymData, 'arrayItem', arrayItems[i]), {replace: makeSlice(SymData, 'arrayItem', true)});\r\n    //stateObject[i] = merge(stateObject[i], makeSlice(SymDataMapTree, dataMaps[i]), {replace: makeSlice(SymDataMapTree, true)});\r\n  }); // restore arrayItem values and dataMap\r\n\r\n  // const length2test = 1 + item.path.length - (item.path[0] == '#' ? 1 : 0);  // length2test can be smaller because of leading '#' in item.path (replace function receives path without leading '#')\r\n  state = merge(state, makeSlice(path, stateObject), {replace: trueIfLength(item.path.length + 1)}); //(path: Path) => path.length === length2test});\r\n  state = merge(state, makeSlice(SymData, 'current', path, currentObject), {replace: trueIfLength(item.path.length + 3)});//(path: Path) => path.length === length2test + 2});\r\n  if (op == 'del') state = updatePROC(state, UPDATABLE, makeNUpdate(path, ['length'], max));\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n  state = setDataMapInState(state, UPDATABLE, maps2disable, true);\r\n  state = setDataMapInState(state, UPDATABLE, maps2enable);\r\n  return state\r\n};\r\n\r\nMacros.switch = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  let keyPath = item[SymData] || [];\r\n  let switches = makeSlice(keyPath, item.value);\r\n  object2PathValues(switches).forEach(pathValue => state = recursivelyUpdate(state, schema, UPDATABLE, makeNUpdate(item.path, pathValue, pathValue.pop())));\r\n  return state\r\n};\r\n\r\nMacros.setExtraStatus = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  const keyPath = item[SymData] || [];\r\n  let prevVal = getUpdValue([UPDATABLE.update, state], item.path, SymData, keyPath);\r\n  let value = item.value > 0;\r\n  if (!prevVal == value) {\r\n    state = updatePROC(state, UPDATABLE, makeNUpdate(item.path, keyPath, value));\r\n    state = Macros.setStatus(state, schema, UPDATABLE, makeNUpdate(item.path, ['status', keyPath[keyPath.length - 1]], value ? 1 : -1));\r\n  }\r\n  return state\r\n};\r\n\r\nMacros.setStatus = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  const keyPath = item[SymData] || [];\r\n  if (keyPath.length > 2) return Macros.setExtraStatus(state, schema, UPDATABLE, item);\r\n  let op = keyPath[1];\r\n  if (!op) return state;\r\n  if (op == 'valid' || op == 'pristine' || op == 'touched') throw new Error('Setting \"' + op + '\" directly is not allowed');\r\n\r\n  let prevVal = getUpdValue([UPDATABLE.update, state], item.path, SymData, keyPath);\r\n  const selfManaged = isSelfManaged(state, item.path);\r\n\r\n  if (op == 'untouched' && prevVal == 0 && !selfManaged) return state;  // stick \"untouched\" to zero for elements and arrays\r\n  let value = prevVal + item.value;\r\n  if (selfManaged && value > 1) value = 1;\r\n  if (value < 0) value = 0;\r\n  state = updatePROC(state, UPDATABLE, makeNUpdate(item.path, ['status', op], value));\r\n  if (!isTopPath(item.path) && (!prevVal != !value)) //(prevVal && !value || !prevVal && value)) \r\n    state = Macros.setStatus(state, schema, UPDATABLE, makeNUpdate(item.path.slice(0, -1), keyPath, value > 0 ? 1 : -1));\r\n\r\n  return state\r\n};\r\n\r\nMacros.setCurrent = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  return updateCurrentPROC(state, UPDATABLE, item.value, item.replace, item.path, item.setOneOf)\r\n};\r\n\r\nMacros.setOneOf = (state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) => {\r\n  let oldOneOf = getIn(state, item.path, SymData, 'oneOf');\r\n  if (oldOneOf == item.value) {\r\n    if (!isUndefined(item.setValue)) state = updateCurrentPROC(state, UPDATABLE, item.setValue, false, item.path);\r\n    return state;\r\n  }\r\n  const {macros, ...newItem} = item;\r\n  newItem[SymData] = ['oneOf'];\r\n  if (isUndefined(newItem.setValue)) {\r\n    state = mergeUPD_PROC(state, UPDATABLE);\r\n    newItem.setValue = getIn(state, SymData, 'current', item.path);\r\n  }\r\n  return updatePROC(state, UPDATABLE, newItem);\r\n};\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Macros utils\r\n/////////////////////////////////////////////\r\n\r\n\r\nfunction recursivelyUpdate(state: StateType, schema: jsJsonSchema, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType) {\r\n  const branch = getIn(state, item.path);\r\n  const keys = branchKeys(branch);\r\n  if (item.value == SymReset && item[SymData][0] == 'status') {\r\n    let i = {...item};\r\n    i.value = item[SymData][1] == 'untouched' ? isSelfManaged(branch) ? 1 : keys.length : 0;\r\n    state = updatePROC(state, UPDATABLE, i);\r\n  } else state = updatePROC(state, UPDATABLE, item);\r\n  keys.forEach(key => state = recursivelyUpdate(state, schema, UPDATABLE, merge(item, {path: item.path.concat(key)})));\r\n  return state\r\n};\r\n\r\n\r\nfunction branchKeys(branch: StateType) {\r\n  let keys: string[] = [];\r\n  if (isSelfManaged(branch)) return keys;\r\n  if (branch[SymData].fData.type == 'array') for (let j = 0; j < getIn(branch, SymData, 'length'); j++) keys.push(j.toString());\r\n  else keys = objKeys(branch).filter(v => v);\r\n  return keys;\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//      Schema processing functions\r\n/////////////////////////////////////////////\r\n\r\nconst schemaStorage = memoize(function (schema: jsJsonSchema) { // object that used to store and cache data for schema without modifying schema itself  \r\n  return {};\r\n});\r\n\r\nfunction oneOfFromState(state: StateType | Function): (path: Path) => oneOfStructureType {\r\n  return (path: Path) => {\r\n    let s = getIn(isFunction(state) ? state() : state, path, SymData);\r\n    return {oneOf: getIn(s, 'oneOf'), type: getIn(s, 'fData', 'type')}\r\n  };\r\n}\r\n\r\nfunction oneOfStructure(state: StateType | Function, path: Path) { // makes object than copies the structure of state[SymData].oneOf limited to path\r\n  if (typeof state == 'function') state = state();\r\n  const result = {};\r\n  let tmp = result;\r\n  setIn(tmp, getIn(state, SymData, 'oneOf'), SymData, 'oneOf');\r\n  setIn(tmp, getIn(state, SymData, 'fData', 'type'), SymData, 'type');\r\n  for (let i = 0; i < path.length; i++) {\r\n    if (isUndefined(path[i]) || path[i] === '') continue;\r\n    tmp[path[i]] = {};\r\n    tmp = tmp[path[i]];\r\n    state = getIn(state, path[i]);\r\n    setIn(tmp, getIn(state, SymData, 'oneOf'), SymData, 'oneOf');\r\n    setIn(tmp, getIn(state, SymData, 'fData', 'type'), SymData, 'type');\r\n  }\r\n  //return result\r\n  const fn = function (path: Path, oneOf?: oneOfStructureType) {return isUndefined(oneOf) ? getIn(result, path, SymData) : setIn(result, oneOf, path, SymData)};\r\n  fn._canSet = true;\r\n  return fn\r\n}\r\n\r\n\r\nconst additionalItemsSchema = memoize(function (items: jsJsonSchema[]): jsJsonSchema {\r\n  return {\r\n    ff_compiled: true,\r\n    oneOf: items,\r\n    ff_oneOfSelector: normalizeFn(function () {\r\n      return string2path(this.path).pop() % items.length;\r\n    })\r\n  }\r\n});\r\n\r\nfunction getSchemaPart(schema: jsJsonSchema, path: Path, getOneOf: (path: Path) => oneOfStructureType, fullOneOf?: boolean): jsJsonSchema {\r\n\r\n  function getArrayItemSchemaPart(index: number, schemaPart: jsJsonSchema): jsJsonSchema {\r\n    let items: jsJsonSchema[] = [];\r\n    if (schemaPart.items) {\r\n      if (!isArray(schemaPart.items)) return schemaPart.items;\r\n      else items = schemaPart.items;\r\n    }\r\n    if (index < items.length) return items[index];\r\n    else {\r\n      if (schemaPart.additionalItems !== false) {\r\n        if (schemaPart.additionalItems && schemaPart.additionalItems !== true) return schemaPart.additionalItems;\r\n        return additionalItemsSchema(items);\r\n        //return items[index % items.length]\r\n      }\r\n    }\r\n    throw new Error(errorText + path.join('/'));\r\n  }\r\n\r\n  function getSchemaByRef(schema: jsJsonSchema, $ref: string) {\r\n    const path = string2path($ref);\r\n    if ($ref[0] == '#') return getIn(schema, path); // Extract and use the referenced definition if we have it.\r\n    throw new Error(`Can only ref to #`);// No matching definition found, that's an error (bogus schema?)\r\n  }\r\n\r\n  function deref(schema: jsJsonSchema, schemaPart: jsJsonSchema) {\r\n    while (schemaPart.$ref) schemaPart = getSchemaByRef(schema, schemaPart.$ref);\r\n    return schemaPart;\r\n  }\r\n\r\n  function combineSchemasINNER_PROCEDURE(schemaPart: jsJsonSchema): jsJsonSchema | jsJsonSchema[] {\r\n    if (schemaPart.$ref || schemaPart.allOf || schemaPart.oneOf) {\r\n      if (combinedSchemas.get(schemaPart)) schemaPart = combinedSchemas.get(schemaPart);\r\n      else {\r\n        let schemaPartAsKey = schemaPart;\r\n        schemaPart = derefAndMergeAllOf(schema, schemaPart);  // merge allOf, with derefing it and merge with schemaPart\r\n        if (schemaPart.oneOf) {\r\n          let {oneOf, ...restSchemaPart} = schemaPart;\r\n          (schemaPart as any) = oneOf.map((oneOfPart) => merge(derefAndMergeAllOf(schema, oneOfPart), restSchemaPart, {array: 'replace'})) // deref every oneOf, merge allOf in there, and merge with schemaPart\r\n        }\r\n        combinedSchemas.set(schemaPartAsKey, schemaPart);\r\n      }\r\n    }\r\n    return schemaPart;\r\n  }\r\n\r\n  function derefAndMergeAllOf(schema: jsJsonSchema, schemaPart: jsJsonSchema) {\r\n    schemaPart = deref(schema, schemaPart);\r\n    if (schemaPart.allOf) {\r\n      let {allOf, ...restSchemaPart} = schemaPart;\r\n      let result;\r\n      for (let i = 0; i < allOf.length; i++) {\r\n        result = merge(result, derefAndMergeAllOf(schema, allOf[i]), {array: 'replace'})\r\n      }\r\n      schemaPart = merge(result, restSchemaPart)\r\n    }\r\n    return schemaPart\r\n  }\r\n\r\n\r\n  const errorText = 'Schema path not found: ';\r\n  let schemaPart: jsJsonSchema | jsJsonSchema[] = schema;\r\n  const combinedSchemas = getCreateIn(schemaStorage(schema), new Map(), 'combinedSchemas');\r\n  let type;\r\n  for (let i = path[0] == '#' ? 1 : 0; i < path.length; i++) {\r\n    if (!schemaPart) throw new Error(errorText + path.join('/'));\r\n    schemaPart = combineSchemasINNER_PROCEDURE(schemaPart);\r\n    let {oneOf, type} = getOneOf(path.slice(0, i));\r\n    if (isArray(schemaPart)) schemaPart = schemaPart[oneOf || 0];\r\n\r\n    if (type == 'array') {\r\n      if (isNaN(parseInt(path[i]))) throw new Error(errorText + path.join('/'));\r\n      schemaPart = getArrayItemSchemaPart(path[i], schemaPart)\r\n    } else {\r\n      if (schemaPart.properties && schemaPart.properties[path[i]]) schemaPart = schemaPart.properties[path[i]];\r\n      else throw new Error(errorText + path.join('/'));\r\n    }\r\n  }\r\n  schemaPart = combineSchemasINNER_PROCEDURE(schemaPart);\r\n  if (fullOneOf) return schemaPart as any;\r\n  if (isArray(schemaPart)) schemaPart = schemaPart[getOneOf(path).oneOf || 0];\r\n  return schemaPart;\r\n}\r\n\r\nconst arrayStart = memoize(function (schemaPart: jsJsonSchema) {\r\n    if (!isArray(schemaPart.items)) return 0;\r\n    if (schemaPart.additionalItems === false) return schemaPart.items.length;\r\n    if (typeof schemaPart.additionalItems === 'object') return schemaPart.items.length;\r\n    if (schemaPart.items.length == 0) return 0;\r\n    return schemaPart.items.length - 1;\r\n  }\r\n);\r\n\r\nconst basicStatus = {invalid: 0, dirty: 0, untouched: 1, pending: 0, valid: true, touched: false, pristine: true};\r\n\r\nconst makeDataStorage = memoize(function (schemaPart: jsJsonSchema, oneOf: number, type: string, value: any = schemaPart.default) {\r\n  // const x = schemaPart.x || ({} as FFSchemaExtensionType);\r\n  const {ff_params = {}, ff_data = {}} = schemaPart;\r\n  const result: any = Object.assign({params: ff_params}, ff_data);\r\n  if (!isObject(result.messages)) result.messages = {};\r\n\r\n  if (isUndefined(value)) value = types.empty[type || 'any'];\r\n\r\n  result.oneOf = oneOf;\r\n  result.status = basicStatus;\r\n  if (!isObject(result.fData)) result.fData = {};\r\n  const fData = result.fData;\r\n  fData.type = type;\r\n  fData.required = schemaPart.required;\r\n  if (schemaPart.title) fData.title = schemaPart.title;\r\n  if (schemaPart.ff_placeholder) fData.placeholder = schemaPart.ff_placeholder;\r\n  if (schemaPart.enum) fData.enum = schemaPart.enum;\r\n  if (schemaPart.ff_enumExten) fData.enumExten = schemaPart.ff_enumExten;\r\n  if (schemaPart.ff_oneOfSelector) fData.oneOfSelector = true;\r\n\r\n  if (isSchemaSelfManaged(schemaPart, type)) result.value = value;\r\n  else delete result.value;\r\n  let untouched = 1;\r\n  if (type == 'array') {\r\n    result.length = getIn(value, 'length') || 0;\r\n    if (!isUndefined(schemaPart.minItems) && result.length < schemaPart.minItems) result.length = schemaPart.minItems;\r\n    result.fData.canAdd = isArrayCanAdd(schemaPart, result.length);\r\n    untouched = result.length;\r\n  } else if (type == 'object') untouched = objKeys(schemaPart.properties || {}).length;\r\n  if (untouched != 1) result.status = {...result.status, untouched};\r\n  return result;\r\n});\r\n\r\n\r\nfunction getUniqKey() {return Date.now().toString(36) + Math.random().toString(36) }\r\n\r\nfunction makeStateBranch(schema: jsJsonSchema, getNSetOneOf: (path: Path, upd?: oneOfStructureType) => oneOfStructureType, path: Path = [], value?: any) { //: { state: StateType, dataMap: StateType } {\r\n  const result = {};\r\n  const dataMapObjects: normalizedDataMapType[] = [];\r\n  let defaultValues: any;\r\n  let currentOneOf = (getNSetOneOf(path) || {}).oneOf;\r\n  const schemaPartsOneOf = toArray(getSchemaPart(schema, path, getNSetOneOf, true));\r\n  if (isUndefined(currentOneOf)) {\r\n    const ff_oneOfSelector = schemaPartsOneOf[currentOneOf || 0].ff_oneOfSelector;\r\n    if (ff_oneOfSelector) {\r\n      let setOneOf = processFn.call({path: path2string(path)}, ff_oneOfSelector, value, false);\r\n      if (isArray(setOneOf)) setOneOf = setOneOf[0];\r\n      currentOneOf = setOneOf;\r\n      //schemaPart = schemaPartsOneOf[oneOf];\r\n    }\r\n  }\r\n  let {schemaPart, oneOf, type} = findOneOf(schemaPartsOneOf, value, currentOneOf);\r\n\r\n  if (isUndefined(schemaPart) || !isUndefined(currentOneOf) && currentOneOf != oneOf) { // value type is not that currentOneOf supports \r\n    console.info('Passed value: \"' + value + '\" is not supported by schema.type in path \"' + path.join('/') + '\" and oneOfIndex \"' + currentOneOf + '\". Reset value to default.\\n');\r\n    value = (schemaPartsOneOf)[currentOneOf || 0].default; // so, reset value to default, cause keeping oneOf is in prior (if currentOneOf exists, otherwise oneOf is changed)\r\n    const tmp = findOneOf(schemaPartsOneOf, value, currentOneOf);\r\n    schemaPart = tmp.schemaPart;\r\n    oneOf = tmp.oneOf;\r\n    type = tmp.type;\r\n  }\r\n  push2array(dataMapObjects, normalizeDataMap(schemaPart.ff_dataMap || [], path));\r\n  result[SymDataMap] = {};\r\n  result[SymData] = makeDataStorage(schemaPart, oneOf, type, value);\r\n  getNSetOneOf(path, {oneOf, type});\r\n\r\n  if ((result[SymData].hasOwnProperty('value'))) defaultValues = result[SymData].value;\r\n  else {\r\n    if (type == 'array') {\r\n      defaultValues = [];\r\n      defaultValues.length = result[SymData].length;\r\n      for (let i = 0; i < defaultValues.length; i++) {\r\n        let {state: branch, dataMap, defaultValues: dValue} = makeStateBranch(schema, getNSetOneOf, path.concat(i), getIn(isUndefined(value) ? schemaPart.default : value, i));\r\n        defaultValues[i] = dValue;\r\n        push2array(dataMapObjects, dataMap);\r\n        branch = merge(branch, {[SymData]: {arrayItem: getArrayItemData(schemaPart, i, defaultValues.length)}}, {replace: {[SymData]: {ArrayItem: true}}});\r\n        branch = merge(branch, {[SymData]: {params: {uniqKey: getUniqKey()}}});\r\n        result[i] = branch;\r\n\r\n      }\r\n    } else if (type == 'object') {\r\n      defaultValues = {};\r\n      let arrayOfRequired = result[SymData].fData.required;\r\n      arrayOfRequired = isArray(arrayOfRequired) && arrayOfRequired.length && arrayOfRequired;\r\n      objKeys(schemaPart.properties || {}).forEach(field => {\r\n        let {state: branch, dataMap, defaultValues: dValue} = makeStateBranch(schema, getNSetOneOf, path.concat(field), getIn(isUndefined(value) ? schemaPart.default : value, field));\r\n        defaultValues[field] = dValue;\r\n        push2array(dataMapObjects, dataMap);\r\n        if (arrayOfRequired && (~arrayOfRequired.indexOf(field))) branch = merge(branch, {[SymData]: {fData: {required: true}}});\r\n        result[field] = branch;\r\n      });\r\n    }\r\n    if (value) defaultValues = merge(value, defaultValues, {replace: trueIfLength(1)})\r\n  }\r\n\r\n  return {state: result, defaultValues, dataMap: dataMapObjects}\r\n}\r\n\r\nfunction isArrayCanAdd(schemaPart: jsJsonSchema, length: number) {\r\n  const arrayStartIndex = arrayStart(schemaPart); //; dataItem.array.arrayStartIndex;\r\n  const minItems = schemaPart.minItems || 0;\r\n  return (schemaPart.additionalItems !== false || length < arrayStartIndex) && (length < (schemaPart.maxItems || Infinity))\r\n}\r\n\r\nfunction getArrayItemData(schemaPart: jsJsonSchema, index: number, length: number) {\r\n  let result: { [key: string]: boolean } = {};\r\n  const arrayStartIndex = arrayStart(schemaPart); //; dataItem.array.arrayStartIndex;\r\n  const minItems = schemaPart.minItems || 0;\r\n  // if (index >= arrayStartIndex) {\r\n  result.canUp = arrayStartIndex < index;\r\n  result.canDown = (arrayStartIndex <= index) && (index < length - 1);\r\n  // } \r\n  // if (index >= minItems) \r\n  result.canDel = index >= Math.min(arrayStartIndex, length - 1);\r\n  return result\r\n}\r\n\r\nfunction isSelfManaged(state: StateType, ...pathes: any[]) {\r\n  return hasIn(state, ...pathes, SymData, 'value')\r\n}\r\n\r\nfunction isSchemaSelfManaged(schemaPart: jsJsonSchema, type: string) {\r\n  return type !== 'array' && type !== 'object' || getIn(schemaPart, 'ff_managed')\r\n}\r\n\r\nfunction findOneOf(oneOfShemas: any, value?: any, currentOneOf?: number) {\r\n  if (!isArray(oneOfShemas)) oneOfShemas = [oneOfShemas];\r\n  const oneOfKeys = oneOfShemas.map((v: any, i: number) => i);\r\n  if (currentOneOf) moveArrayElems(oneOfKeys, currentOneOf, 0); // currentOneOf should be checked first to match type\r\n  for (let k = 0; k < oneOfKeys.length; k++) {\r\n    let oneOf = oneOfKeys[k];\r\n    let schemaTypes = oneOfShemas[oneOf].type || types;\r\n    if (!isArray(schemaTypes)) schemaTypes = [schemaTypes];\r\n    let defaultUsed;\r\n    let checkValue = isUndefined(value) ? (defaultUsed = true) && oneOfShemas[oneOf].default : value;\r\n    for (let j = 0; j < schemaTypes.length; j++)\r\n      if (types[schemaTypes[j]](checkValue) || isUndefined(checkValue)) return {schemaPart: oneOfShemas[oneOf], oneOf, type: schemaTypes[j]};\r\n    if (defaultUsed && !isUndefined(oneOfShemas[oneOf].default))\r\n      throw new Error('Type of schema.default is not supported by schema.type');\r\n  }\r\n  return {}\r\n  //return {schemaPart: oneOfShemas[0], oneOf: 0, type: toArray(oneOfShemas[0].type || types)[0]}\r\n}\r\n\r\nfunction rehydrateState(state: any, UPDATABLE: PROCEDURE_UPDATABLE_Type) {\r\n  let {dataMap = []} = makeStateBranch(UPDATABLE.api.schema, oneOfFromState(state));\r\n  return setDataMapInState(state, UPDATABLE, dataMap, null);\r\n}\r\n\r\n/////////////////////////////////////////////\r\n//      state update PROCEDURES\r\n/////////////////////////////////////////////\r\n\r\n\r\nfunction updateMessagesPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, track: Path, result?: MessageData, defaultGroup = 0) {\r\n  function conv(item: MessageGroupType | string): MessageGroupType {\r\n    return (typeof item === 'object') ? item : {group: defaultGroup, text: item};\r\n  };\r\n  let messages: MessageGroupType[] = isArray(result) ? (result as any).map(conv) : [conv(result as any)];\r\n  messages.forEach((item) => {\r\n    let {path, ...itemNoPath} = item;\r\n    if (path) {\r\n      path = normalizePath(path, track);\r\n      return updateMessagesPROC(state, UPDATABLE, path, itemNoPath, defaultGroup)\r\n    } else {\r\n      let {group = defaultGroup, text, priority = 0, ...rest} = itemNoPath;\r\n      const messageData = getCreateIn(UPDATABLE.update, {}, track, SymData, 'messages', priority);\r\n      Object.assign(messageData, rest);\r\n      if (!isObject(messageData.texts)) messageData.texts = {};\r\n      if (!isArray(messageData.texts[group])) messageData.texts[group] = [];\r\n      if (text) push2array(messageData.texts[group], text);\r\n    }\r\n  });\r\n  return state\r\n}\r\n\r\nfunction getCurrentPriority(messages: any) {\r\n  let priorities = objKeys(messages || {});\r\n  let currentPriority;\r\n  for (let i = 0; i < priorities.length; i++) {\r\n    let groups = getIn(messages, priorities[i], 'texts') || {};\r\n    let grKeys = objKeys(groups);\r\n    for (let j = 0; j < grKeys.length; j++) {\r\n      if (groups[grKeys[j]] && groups[grKeys[j]].length) {\r\n        currentPriority = parseInt(priorities[i]);\r\n        break;\r\n      }\r\n    }\r\n    if (!isUndefined(currentPriority)) break;\r\n  }\r\n  return currentPriority\r\n}\r\n\r\nfunction setPriorityPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, track: Path, currentPriority?: number) {\r\n  state = updatePROC(state, UPDATABLE, makeNUpdate(track, ['status', 'validation', 'invalid'], currentPriority === 0 ? 1 : 0, true, {macros: 'setStatus'}));\r\n  state = updatePROC(state, UPDATABLE, makeNUpdate(track, ['status', 'priority'], currentPriority));\r\n  return state;\r\n}\r\n\r\nfunction setValidStatusPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, update: any, track: Path = []) {\r\n  let currentPriority = getCurrentPriority(getIn(state, track, SymData, 'messages'));\r\n  state = setPriorityPROC(state, UPDATABLE, track, currentPriority);\r\n  if (!isSelfManaged(state, track)) objKeys(update).forEach(key => state = setValidStatusPROC(state, UPDATABLE, update[key], track.concat(key)));\r\n  return state\r\n}\r\n\r\nfunction makeValidation(state: StateType, dispatch: any, action: any) {\r\n\r\n  function recurseValidationInnerPROCEDURE(state: StateType, validatedValue: StateType, modifiedValues: StateType, track: Path = []) {\r\n    let schemaPart: jsJsonSchema;\r\n    try {schemaPart = getSchemaPart(schema, track, oneOfFromState(state))} catch (e) {return state}\r\n\r\n    const selfManaged = isSelfManaged(state, track);\r\n    if (!selfManaged)\r\n      modifiedValues && objKeys(modifiedValues).forEach(key => state = recurseValidationInnerPROCEDURE(state, validatedValue[key], modifiedValues[key], track.concat(key)));\r\n\r\n    let ff_validators = schemaPart.ff_validators;\r\n\r\n    if (ff_validators) {\r\n      const field = makeSynthField(UPDATABLE.api, path2string(track));\r\n      ff_validators.forEach((validator: any) => {\r\n        const updates: any[] = [];\r\n        field.updates = updates;\r\n        let result = processFn.call(field, validator, validatedValue, false);\r\n        if (result && result.then && typeof result.then === 'function') { //Promise\r\n          result.validatedValue = validatedValue;\r\n          result.path = track;\r\n          result.selfManaged = selfManaged;\r\n          vPromises.push(result);\r\n          state = updatePROC(state, UPDATABLE, makeNUpdate(track, ['status', 'validation', 'pending'], 1, true, {macros: 'setStatus'}))\r\n        } else state = updateMessagesPROC(state, UPDATABLE, track, result, 1);\r\n        if (updates.length) updates.forEach((update: any) => state = updatePROC(state, UPDATABLE, update));\r\n        field.updates = null\r\n      })\r\n    }\r\n    return state\r\n  }\r\n\r\n  function clearDefaultMessagesInnerPROCEDURE(state: StateType, modifiedValues: StateType, track: Path = []) {\r\n    const type = getIn(state, track, SymData, 'fData', 'type');\r\n    if (!type) return state;\r\n    if (type == 'object' || type == 'array')\r\n      modifiedValues && objKeys(modifiedValues).forEach(key => clearDefaultMessagesInnerPROCEDURE(state, modifiedValues[key], track.concat(key)));\r\n    setUPDATABLE(UPDATABLE, {}, true, track, SymData, 'messages', '0', 'texts')\r\n    return state;\r\n    //return updateMessagesPROC(state, UPDATABLE, track); // sets empty array for 0-level messages\r\n  }\r\n\r\n  let {api, force, opts, promises} = action;\r\n  const {JSONValidator, schema, getState, UPDATABLE} = api;\r\n  const currentValues = state[SymData].current;\r\n  const vPromises: vPromisesType[] = [];\r\n  const modifiedValues = force === true ? currentValues : force;\r\n  //console.log('modifiedValues ', modifiedValues);\r\n\r\n  if (!modifiedValues || objKeys(modifiedValues).length == 0) { // no changes, no validation\r\n    promises.resolve();\r\n    promises.vAsync.resolve();\r\n    return state;\r\n  }\r\n  if (JSONValidator) {\r\n    state = clearDefaultMessagesInnerPROCEDURE(state, modifiedValues);\r\n    let errs = JSONValidator(currentValues);  // Validate, using JSONSchemaValidator;\r\n    errs.forEach((item: any) => updateMessagesPROC(state, UPDATABLE, item[0], item[1]));\r\n  }\r\n  state = recurseValidationInnerPROCEDURE(state, currentValues, modifiedValues);\r\n  let update = UPDATABLE.update;\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n  state = setValidStatusPROC(state, UPDATABLE, update);\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n  promises.resolve();\r\n  if (vPromises.length) {\r\n    Promise.all(vPromises).then((results) => {\r\n      let state = getState();\r\n      let UPDATABLE = api.UPDATABLE;\r\n      let newValues = state[SymData].current; //getRawValues().current;\r\n      for (let i = 0; i < vPromises.length; i++) {\r\n        //if (!results[i]) continue;\r\n        let {validatedValue, path, selfManaged} = vPromises[i];\r\n        if (validatedValue == getIn(newValues, path)) {\r\n          state = updateMessagesPROC(state, UPDATABLE, path, results[i] || '', 2);\r\n          state = updatePROC(state, UPDATABLE, makeNUpdate(path, ['status', 'validation', 'pending'], 0, false, {macros: 'setStatus'}))\r\n          // pendingStatus[path2string(path)] = false;\r\n        }\r\n      }\r\n      let update = UPDATABLE.update;\r\n      state = mergeUPD_PROC(state, UPDATABLE);\r\n      state = setValidStatusPROC(state, UPDATABLE, update);\r\n      state = mergeUPD_PROC(state, UPDATABLE);// merge(state, UPDATABLE.update, {replace: UPDATABLE.replace});\r\n      dispatch({type: anSetState, state, api});\r\n      promises.vAsync.resolve();\r\n    }).catch(reason => {\r\n      let state = getState();\r\n      let UPDATABLE = api.UPDATABLE; // let UPDATABLE = {update: {}, replace: {}, api: {};\r\n      let newValues = state[SymData].current; //getRawValues().current;\r\n      for (let i = 0; i < vPromises.length; i++) {\r\n        let {validatedValue, path, selfManaged} = vPromises[i];\r\n        if (validatedValue == getIn(newValues, path)) {\r\n          state = updatePROC(state, UPDATABLE, makeNUpdate(path, ['status', 'validation', 'pending'], 0, false, {macros: 'setStatus'}))\r\n        }\r\n      }\r\n      let update = UPDATABLE.update;\r\n      state = mergeUPD_PROC(state, UPDATABLE);\r\n      state = setValidStatusPROC(state, UPDATABLE, update);\r\n      state = mergeUPD_PROC(state, UPDATABLE);\r\n      dispatch({type: anSetState, state, api});\r\n      promises.vAsync.reject(reason);\r\n    })\r\n  } else promises.vAsync.resolve();\r\n  return state;\r\n}\r\n\r\nfunction setDirtyPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, inital: any, current: any, track: Path = []) {\r\n  if (current === inital) return state;\r\n  const {schema} = UPDATABLE.api;\r\n  let schemaPart;\r\n  try {schemaPart = getSchemaPart(schema, track, oneOfFromState(state))} catch (e) {}\r\n\r\n  if (!schemaPart || isSelfManaged(state, track)) { //direct compare\r\n    let path: Path = schemaPart ? track : track.slice(0, -1);\r\n    state = updatePROC(state, UPDATABLE, makeNUpdate(path, ['status', 'dirty'], 1, false, {macros: 'setStatus'}))\r\n  } else {\r\n    let keys = objKeys(Object.assign({}, inital, current));\r\n    keys.forEach(key => state = setDirtyPROC(state, UPDATABLE, getIn(inital, key), getIn(current, key), track.concat(key)))\r\n  }\r\n  return state\r\n}\r\n\r\nfunction updateDirtyPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, inital: any, currentChanges: any, track: Path = [], forceDirty = false) {\r\n  const {schema} = UPDATABLE.api;\r\n  let schemaPart;\r\n  try {schemaPart = getSchemaPart(schema, track, oneOfFromState(state))} catch (e) {}\r\n  if (!schemaPart || isSelfManaged(state, track)) { //direct compare\r\n    let current = getIn(state, SymData, 'current', track);\r\n    let value = forceDirty || current !== inital ? 1 : -1;\r\n    let path: Path = track;\r\n    let keyPath = ['status', 'dirty'];\r\n    if (!schemaPart) {\r\n      path = path.slice();\r\n      keyPath.push(path.pop(), keyPath.pop() as any);\r\n    }\r\n    state = updatePROC(state, UPDATABLE, makeNUpdate(path, keyPath, value, false, {macros: 'setStatus',}))\r\n  } else {\r\n    let keys = objKeys(currentChanges || {});\r\n    if (schemaPart.type == 'array') {\r\n      if (!~keys.indexOf('length')) keys.push('length');\r\n      let existKeys = branchKeys(getIn(state, track));\r\n      keys = keys.filter(k => isNaN(parseInt(k)) || ~existKeys.indexOf(k))\r\n    }\r\n    // if (schemaPart.type == 'array' && !~keys.indexOf('length')) keys.push('length');\r\n    forceDirty = forceDirty || !isMergeable(inital);\r\n    keys.forEach(key => state = updateDirtyPROC(state, UPDATABLE, getIn(inital, key), currentChanges[key], track.concat(key), forceDirty))\r\n  }\r\n  return state\r\n}\r\n\r\nfunction setPristinePROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, inital: any, track: Path = []) {\r\n  if (getIn(UPDATABLE.update, track, SymData, 'status', 'pristine')) {\r\n    if (isMergeable(inital) && getIn(state, SymData, 'current', track) !== inital) {\r\n      setIn(UPDATABLE.update, inital, SymData, 'current', track);\r\n      setIn(UPDATABLE.replace, true, SymData, 'current', track);\r\n    }\r\n  } else {\r\n    objKeys(getIn(UPDATABLE.update, track)).forEach(key => setPristinePROC(state, UPDATABLE, getIn(inital, key), track.concat(key)))\r\n  }\r\n  return state\r\n}\r\n\r\nfunction updateState(dispatch: any) {\r\n  // console.time('execActions');\r\n\r\n  let {updates, state, api, forceValidation, opts, promises} = this;\r\n  let {getState, schema, UPDATABLE} = api;\r\n  if (!state) state = getState();\r\n  let prevState = state;\r\n\r\n  updates.forEach((update: StateApiUpdateType) => state = updatePROC(state, UPDATABLE, update));\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n  let oldCurrent = getIn(prevState, SymData, 'current');\r\n  if (UPDATABLE.forceCheck) {\r\n    oldCurrent = merge(oldCurrent, UPDATABLE.forceCheck);\r\n    UPDATABLE.forceCheck = undefined;\r\n  }\r\n  if (prevState[SymData].inital !== state[SymData].inital) {  // check dirty for inital changes\r\n    let initalChanges = mergeState(prevState[SymData].inital, state[SymData].inital, {diff: true}).changes;\r\n    state = updateDirtyPROC(state, UPDATABLE, state[SymData].inital, initalChanges);\r\n  }\r\n  let currentChanges = mergeState(oldCurrent, getIn(state, SymData, 'current'), {diff: true}).changes;\r\n  if (currentChanges)\r\n    state = updateDirtyPROC(state, UPDATABLE, state[SymData].inital, currentChanges); // check dirty only for changes\r\n  state = setPristinePROC(state, UPDATABLE, state[SymData].inital);\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n\r\n  let force;\r\n  if (opts.noValidation) force = forceValidation;\r\n  else {\r\n    if (forceValidation) {\r\n      object2PathValues(currentChanges).forEach(path => {\r\n        path.pop();\r\n        setIfNotDeeper(forceValidation, true, path)\r\n      });\r\n      force = forceValidation;\r\n    } else force = isMergeable(currentChanges) ? currentChanges : !isUndefined(currentChanges);\r\n  }\r\n\r\n  if (force) state = makeValidation(state, dispatch, {force, api, opts, promises});\r\n\r\n  dispatch({type: anSetState, state, api});\r\n\r\n  return promises;\r\n\r\n}\r\n\r\nconst makeStateFromSchema = memoize(function (schema: jsJsonSchema) {\r\n  return makeStateBranch(schema, oneOfStructure({}, []));\r\n});\r\n\r\nfunction initState(UPDATABLE: PROCEDURE_UPDATABLE_Type) {\r\n  let {state, dataMap = [], defaultValues} = makeStateFromSchema(UPDATABLE.api.schema);\r\n  state = merge(state, setIn({}, defaultValues, [SymData, 'current']));\r\n  state = setDataMapInState(state, UPDATABLE, dataMap);\r\n  const current: any = getIn(state, SymData, 'current');\r\n  state = updatePROC(state, UPDATABLE, makeNUpdate([], ['inital'], current));\r\n  state = updatePROC(state, UPDATABLE, makeNUpdate([], ['default'], current));\r\n  state = mergeUPD_PROC(state, UPDATABLE);\r\n  return state;\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//      items updating PROCEDURES\r\n/////////////////////////////////////////////\r\n\r\n\r\nfunction updateCurrentPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, value: any, replace: any, track: Path = [], setOneOf?: number): StateType {\r\n\r\n  if (value === SymReset) value = getIn(state, SymData, 'inital', track);\r\n  if (value === SymClear) value = getIn(state, SymData, 'default', track);\r\n  if (getIn(state, SymData, 'current', track) === value && !hasIn(UPDATABLE.update, SymData, 'current', track)) return state;\r\n\r\n  let branch = getIn(state, track);\r\n\r\n  // if no branch then no need to modify state for this value, just update current\r\n  if (!branch) {\r\n    if (track[track.length - 1] == 'length') {  // hook if someone decides to edit array's length directly\r\n      const topPath = track.slice(0, -1);\r\n      const topBranch = getIn(state, topPath);\r\n      if (topBranch[SymData].fData.type == 'array')\r\n        return updatePROC(state, UPDATABLE, makeNUpdate(topPath, ['length'], value));\r\n    }\r\n    return updatePROC(state, UPDATABLE, makeNUpdate([], ['current'].concat(track), value, replace));\r\n  }\r\n\r\n  if (branch[SymData].fData.oneOfSelector) {\r\n    const field = makeSynthField(UPDATABLE.api, path2string(track));\r\n\r\n  }\r\n  const oneOfSelector = branch[SymData].fData.oneOfSelector;\r\n  const type = branch[SymData].fData.type;\r\n  if (isUndefined(value)) value = types.empty[type || 'any'];\r\n  if (oneOfSelector || !types[type || 'any'](value)) { // if wrong type for current oneOf index search for proper type in oneOf\r\n    // setOneOf = \r\n    const parts = getSchemaPart(UPDATABLE.api.schema, track, oneOfFromState(state), true);\r\n    let currentOneOf = branch[SymData].oneOf;\r\n    if (oneOfSelector) {\r\n      //const field = makeSynthField(UPDATABLE.api, path2string(track));\r\n      const ff_oneOfSelector = parts[currentOneOf].ff_oneOfSelector;\r\n      setOneOf = processFn.call({path: path2string(track)}, ff_oneOfSelector, value, false);\r\n      if (isArray(setOneOf)) setOneOf = setOneOf[0];\r\n    }\r\n\r\n    const {schemaPart, oneOf, type} = findOneOf(parts, value, isUndefined(setOneOf) ? currentOneOf : setOneOf);\r\n    if (currentOneOf !== oneOf) {\r\n      if (schemaPart) {\r\n        return updatePROC(state, UPDATABLE, makeNUpdate(track, ['oneOf'], oneOf, false, {type, setValue: value}));\r\n      } else console.warn('Type \"' + (typeof value) + '\" not found in path [' + track.join('/') + ']')\r\n    }\r\n  }\r\n\r\n  if (isSelfManaged(branch)) { // if object has own value then replace it directly\r\n    state = updatePROC(state, UPDATABLE, makeNUpdate(track, ['value'], value, replace))\r\n  } else {\r\n    if (isMergeable(value)) {  // if we receive object or array then apply their values to state\r\n      if (type == 'array' && !isUndefined(value.length)) {\r\n        state = updatePROC(state, UPDATABLE, makeNUpdate(track, ['length'], value.length));\r\n        branch = getIn(state, track);\r\n      }\r\n      if (replace === true) { // restore value's props-structure that are exist in state\r\n        let v = isArray(value) ? [] : {};\r\n        branchKeys(branch).forEach(k => v[k] = undefined);\r\n        value = Object.assign(v, value);\r\n      }\r\n      objKeys(value).forEach(key =>\r\n        state = updateCurrentPROC(state, UPDATABLE, value[key], replace === true ? true : getIn(replace, key), track.concat(key)))\r\n      if (replace === true) { // this code removes props from current that are not preset in value and not exists in state\r\n        state = mergeUPD_PROC(state, UPDATABLE);\r\n        branch = getIn(state, track);\r\n        let current = getIn(state, SymData, 'current', track);\r\n        branchKeys(branch).forEach(k => value[k] = current[k]); // value was reassigned in block below, so change it directly\r\n        state = updatePROC(state, UPDATABLE, makeNUpdate([], ['current'].concat(track), value, replace));\r\n      }\r\n    }\r\n  }\r\n\r\n  return state\r\n}\r\n\r\n\r\nfunction splitValuePROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType): StateType {\r\n  const {value: itemValue, path, replace} = item;\r\n  const keyPath = item[SymData] || [];\r\n  if (keyPath.length == 0) {\r\n    const {value, status, length, oneOf, ...rest} = itemValue;\r\n    ['value', 'status', 'length', 'oneOf'].forEach(key => {\r\n      if (hasIn(itemValue, key)) state = updatePROC(state, UPDATABLE, makeNUpdate(path, [key], itemValue[key], getIn(replace, key)))\r\n    });\r\n    if (objKeys(rest).length) state = updatePROC(state, UPDATABLE, makeNUpdate(path, keyPath, rest, replace))\r\n  } else {\r\n    objKeys(itemValue).forEach(key => {\r\n      state = updatePROC(state, UPDATABLE, makeNUpdate(path, keyPath.concat(key), itemValue[key], getIn(replace, key)))\r\n    });\r\n  }\r\n  return state\r\n}\r\n\r\nfunction updateNormalizationPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: StateApiUpdateType): StateType {\r\n  const items = normalizeUpdate(item, state);\r\n  items.forEach(i => {\r\n    if (i.path.length === 0 && i[SymData][0] == 'current') {\r\n      i.macros = 'setCurrent';\r\n      i.path = i[SymData].slice(1);\r\n      i[SymData] = [];\r\n    }\r\n    if (i[SymData][0] == 'value') {\r\n      i.macros = 'setCurrent';\r\n      i.path = i.path.concat(i[SymData].slice(1));\r\n      i[SymData] = [];\r\n    } else if (i[SymData][0] == 'status') {\r\n      console.warn('Status should not be changed through StateApi. Update ignored.');\r\n      return;\r\n    } else if (i[SymData][0] == 'oneOf') {\r\n      i.macros = 'setOneOf';\r\n    }\r\n\r\n    state = updatePROC(state, UPDATABLE, i);\r\n  });\r\n  return state;\r\n}\r\n\r\nfunction setUPDATABLE(UPDATABLE: PROCEDURE_UPDATABLE_Type, update: any, replace: any, ...pathes: any[]) {\r\n  object2PathValues(replace).forEach(path => {\r\n    let replaceValue = path.pop();\r\n    setIn(UPDATABLE, getIn(update, path), 'update', ...pathes, path);\r\n    if (replaceValue) setIn(UPDATABLE, replaceValue, 'replace', ...pathes, path);\r\n  });\r\n  return UPDATABLE;\r\n}\r\n\r\nfunction mergeUPD_PROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type) {\r\n  state = merge(state, UPDATABLE.update, {replace: UPDATABLE.replace});\r\n  UPDATABLE.update = {};\r\n  UPDATABLE.replace = {};\r\n  return state;\r\n}\r\n\r\nfunction updatePROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, item: NormalizedUpdateType | StateApiUpdateType | null): StateType {\r\n  if (!item) return state;\r\n  const {update, replace: replace_UPDATABLE, api} = UPDATABLE;\r\n  const {schema} = api;\r\n  // normalize updates\r\n  if (!isNUpdate(item)) return updateNormalizationPROC(state, UPDATABLE, item);\r\n\r\n  // execute macros\r\n  if (item.macros) {\r\n    let macro = Macros[item.macros];\r\n    if (!macro) throw new Error('\"' + macro + '\" not found in macros');\r\n    return macro(state, schema, UPDATABLE, item);\r\n  }\r\n\r\n  let {value, path, replace} = item;\r\n  const keyPath = item[SymData];\r\n  if (isFunction(value)) value = value(getFromUPD(state, UPDATABLE)(path, SymData, keyPath));\r\n\r\n  if (path.length == 0 && (keyPath[0] == 'inital' || keyPath[0] == 'default')) {\r\n    state = merge(state, makeSlice(SymData, keyPath, value), {replace: makeSlice(SymData, keyPath, replace)})\r\n  } else {\r\n    // split object for proper state update (for dataMap correct execution)\r\n    if (isObject(value) && (keyPath.length == 0 && (hasIn(value, 'value') || hasIn(value, 'status') || hasIn(value, 'length') || hasIn(value, 'oneOf'))\r\n      || (keyPath.length == 1 && keyPath[0] == 'status'))) return splitValuePROC(state, UPDATABLE, item);\r\n\r\n    let branch = getIn(state, path);\r\n    if (!isObject(branch)) return state; // check if there is branch in state\r\n\r\n    if (keyPath[0] == 'value' && !hasIn(branch, SymData, 'value')) // value is not self managed, so modify only current\r\n      return Macros.setCurrent(state, schema, UPDATABLE, {value, replace, path: path.concat(keyPath.slice(1))});\r\n\r\n    // check if value is differ\r\n    if (value === getUpdValue([UPDATABLE.update, state], path, SymData, keyPath)) return state;\r\n\r\n    // set data\r\n    setUPDATABLE(UPDATABLE, value, replace, path, SymData, keyPath);\r\n    // setIn(update, value, path, SymData, keyPath);\r\n    // if (replace) setIn(replace_UPDATABLE, replace, path, SymData, keyPath);\r\n\r\n    // additional state modifying if required\r\n    if (keyPath[0] == 'value') { // modify current\r\n      state = updatePROC(state, UPDATABLE, makeNUpdate([], push2array(['current'], path, keyPath.slice(1)), value, replace))\r\n    } else if (keyPath[0] == 'messages') { // modify valid status\r\n      const messages = getFromUPD(state, UPDATABLE)(path, SymData, 'messages');\r\n      let currentPriority = getCurrentPriority(messages);\r\n      state = setPriorityPROC(state, UPDATABLE, path, currentPriority);\r\n    } else if (keyPath[0] == 'length') { // modify state with new length\r\n      state = updatePROC(state, UPDATABLE, makeNUpdate([], push2array(['current'], path, keyPath), value, replace));\r\n      let start = branch[SymData].length;\r\n      start = Math.max(start, 0);\r\n      let end = Math.max(value || 0);\r\n      const oneOfStateFn = oneOfStructure(state, path);\r\n      const maps2enable: any[] = [];\r\n      const maps2disable: any[] = [];\r\n      for (let i = start; i < end; i++) {\r\n        let elemPath = path.concat(i);\r\n        if (!isUndefined(item.setOneOf)) oneOfStateFn(elemPath, {oneOf: item.setOneOf});\r\n        let {state: branch, dataMap = [], defaultValues} = makeStateBranch(schema, oneOfStateFn, elemPath);\r\n        const untouched = getUpdValue([state, UPDATABLE.update], path, SymData, 'status', 'untouched');\r\n        const mergeBranch: any = {[SymData]: {params: {uniqKey: getUniqKey()}}};\r\n        if (!untouched) setIn(mergeBranch[SymData], {untouched: 0, touched: true}, 'status');\r\n        branch = merge(branch, mergeBranch);\r\n        state = merge(state, setIn({}, branch, elemPath), {replace: setIn({}, true, elemPath)});\r\n        state = updatePROC(state, UPDATABLE, makeNUpdate([], push2array(['current'], elemPath), defaultValues, true));\r\n        push2array(maps2enable, dataMap);\r\n        if (untouched) state = Macros.setStatus(state, schema, UPDATABLE, makeNUpdate(path, ['status', 'untouched'], 1));\r\n      }\r\n      for (let i = end; i < start; i++) {\r\n        let elemPath = path.concat(i);\r\n        push2array(maps2disable, getIn(state, elemPath, SymDataMapTree, SymData) || []);\r\n        ['invalid', 'dirty', 'untouched', 'pending'].forEach(key => {\r\n          let statusValue = getUpdValue([update, state], path, SymData, 'status', key);\r\n          if (statusValue) state = Macros.setStatus(state, schema, UPDATABLE, makeNUpdate(path, ['status', key], -1));\r\n        });\r\n        setUPDATABLE(UPDATABLE, SymDelete, true, elemPath);\r\n        // setIn(update, SymDelete, elemPath);\r\n        // setIn(replace_UPDATABLE, SymDelete, elemPath);\r\n      }\r\n\r\n      let schemaPart = getSchemaPart(schema, path, oneOfFromState(state));\r\n      setIn(update, isArrayCanAdd(schemaPart, end), path, SymData, 'fData', 'canAdd');\r\n      for (let i = Math.max(Math.min(start, end) - 1, 0); i < end; i++)\r\n        setUPDATABLE(UPDATABLE, getArrayItemData(schemaPart, i, end), true, path, i, SymData, 'arrayItem');\r\n\r\n      state = mergeUPD_PROC(state, UPDATABLE);\r\n      state = setDataMapInState(state, UPDATABLE, maps2disable, true);\r\n      state = setDataMapInState(state, UPDATABLE, maps2enable);\r\n\r\n\r\n    } else if (keyPath[0] == 'status') { // properly set status change\r\n      let keyStatus = keyPath[1];\r\n      let newKey;\r\n      let value;\r\n      if (keyStatus == 'invalid' || keyStatus == 'pending') {\r\n        value = getUpdValue([update, state], path, SymData, 'status', 'pending') ? null : !getUpdValue([update, state], path, SymData, 'status', 'invalid');\r\n        newKey = 'valid';\r\n      } else if (keyStatus == 'untouched' || keyStatus == 'dirty') {\r\n        value = !getUpdValue([update, state], path, SymData, 'status', keyStatus);\r\n        newKey = keyStatus == 'untouched' ? 'touched' : 'pristine';\r\n      }\r\n      if (!isUndefined(newKey))\r\n        state = updatePROC(state, UPDATABLE, makeNUpdate(path, ['status', newKey], value));\r\n      //setIn(update, value, path, SymData, 'status', newKey);\r\n\r\n    } else if (keyPath[0] == 'oneOf') {\r\n      const oldBranch = getIn(state, path);\r\n      let oldOneOf = getIn(oldBranch, SymData, 'oneOf') || 0;\r\n      let newOneOf = getIn(UPDATABLE.update, path, SymData, 'oneOf');\r\n      if ((oldOneOf != newOneOf) || (item.type && item.type != getIn(oldBranch, SymData, 'fData', 'type'))) {\r\n        setIfNotDeeper(UPDATABLE, SymReset, 'forceCheck', item.path);\r\n        state = mergeUPD_PROC(state, UPDATABLE);\r\n        state = setDataMapInState(state, UPDATABLE, getIn(state, path, SymDataMapTree, SymData) || [], true);\r\n\r\n        let {state: branch, dataMap: maps2enable = [], defaultValues} = makeStateBranch(schema, oneOfStructure(state, path), path, item.setValue);\r\n        const {value: v1, length: v2, oneOf: v3, fData: v4, ...previousBranchData} = oldBranch[SymData]; // remove data that should be replaced by new branch\r\n        if (!isSelfManaged(oldBranch) || !isSelfManaged(branch)) delete previousBranchData.status; // keep status values only for self-managed branch, that keeps to be self-managed\r\n\r\n        branch = merge(branch, {[SymData]: previousBranchData}, {arrays: 'replace'});\r\n        if (path.length) {\r\n          const topPath = path.slice();\r\n          const field = topPath.pop();\r\n          ['invalid', 'dirty', 'pending'].forEach(key => { // 'untouched',\r\n            let oldStatusValue = getIn(oldBranch, SymData, 'status', key);\r\n            let newStatusValue = getIn(branch, SymData, 'status', key);\r\n            if (!oldStatusValue != !newStatusValue) state = Macros.setStatus(state, schema, UPDATABLE, makeNUpdate(topPath, ['status', key], newStatusValue ? 1 : -1));\r\n          });\r\n          let arrayOfRequired = getIn(state, topPath, SymData, 'fData', 'required');\r\n          arrayOfRequired = isArray(arrayOfRequired) && arrayOfRequired.length && arrayOfRequired;\r\n          if (arrayOfRequired && (~arrayOfRequired.indexOf(field))) branch = merge(branch, {[SymData]: {fData: {required: true}}});\r\n        }\r\n\r\n        if (getIn(oldBranch, SymData, 'status', 'untouched') == 0) branch = merge(branch, {[SymData]: {status: {untouched: 0}}});// stick untouched to zero\r\n        state = merge(state, setIn({}, branch, path), {replace: setIn({}, true, path)});\r\n        state = updatePROC(state, UPDATABLE, makeNUpdate([], push2array(['current'], path), defaultValues, true));\r\n        state = setDataMapInState(state, UPDATABLE, maps2enable);\r\n        if (getIn(branch, SymData, 'status', 'untouched') == 0) state = Macros.switch(state, schema, UPDATABLE, makeNUpdate(path, ['status', 'untouched'], 0));\r\n      }\r\n    }\r\n  }\r\n\r\n  // apply dataMap\r\n  let dataMap = getIn(state, path, SymDataMapTree);\r\n  for (let i = 0; i < keyPath.length; i++) {\r\n    if (!dataMap) break;\r\n\r\n    state = executeDataMapsPROC(state, UPDATABLE, dataMap[SymDataMap],\r\n      makeNUpdate(path, keyPath.slice(0, i), setIn({}, value, keyPath.slice(i)), setIn({}, replace, keyPath.slice(i)))\r\n    );\r\n    dataMap = dataMap[keyPath[i]];\r\n  }\r\n\r\n  if (dataMap) state = recursivelyExecuteDataMaps(dataMap, value, replace, keyPath);\r\n\r\n  function recursivelyExecuteDataMaps(dataMap: any[], value: any, replace: any, track: Path = []) {\r\n    state = executeDataMapsPROC(state, UPDATABLE, dataMap[SymDataMap], makeNUpdate(path, track, value, replace));\r\n    isMergeable(value) && objKeys(dataMap).forEach(key => value.hasOwnProperty(key) && (state = recursivelyExecuteDataMaps(dataMap[key], value[key], getIn(replace, key), track.concat(key))))\r\n    return state;\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\n\r\nfunction normalizeDataMap(dataMap: FFDataMapGeneric<Function | Function[]>[], emitter: Path): normalizedDataMapType[] {\r\n  return dataMap.map((item: any) => {\r\n    let {from, to, ...action} = item;\r\n    if (!action.$) action = true;\r\n    else action = normalizeFn(action);\r\n    if (!from || !to) action = false;\r\n    // {action = {...action, ...normalizeArgs(action.args)};\r\n    //   if (!action.args.length) action.args = ['${value}'];}\r\n    return {emitter, from, to, action} as normalizedDataMapType;\r\n\r\n  })\r\n}\r\n\r\nfunction setDataMapInState(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, dataMaps: normalizedDataMapType[], unset: boolean | null = false) {\r\n  const dataMaps2execute: any = [];\r\n  dataMaps.forEach((dataMap) => {\r\n    const emitterPath = dataMap.emitter;\r\n    let bindMap2emitter: boolean = false;\r\n    normalizeUpdate({path: emitterPath.join('/') + '/' + dataMap.from, value: null}, state).forEach(fromItem => {\r\n        let key = fromItem[SymData][0];\r\n        if (key == 'current' || key == 'inital' || key == 'default' && fromItem.path.length)\r\n          fromItem = {...fromItem, path: [], [SymData]: [key, ...fromItem.path, ...fromItem[SymData].slice(1)]};\r\n\r\n        normalizeUpdate({path: emitterPath.join('/') + '/' + dataMap.to, value: null}, state).forEach(toItem => {\r\n          let relTo = path2string(relativePath(fromItem.path, toItem.path.concat(SymData, ...toItem[SymData])));\r\n          //console.log(relTo);\r\n          if (getIn(state, fromItem.path)) setIn(UPDATABLE.update, unset ? undefined : dataMap.action, fromItem.path, SymDataMapTree, fromItem[SymData], SymDataMap, relTo);\r\n          if (!unset) {\r\n            // state = executeDataMapsPROC(state, UPDATABLE, makeSlice(relTo, dataMap.action),\r\n            //   makeNUpdate(fromItem.path, fromItem[SymData], getIn(state, fromItem.path, SymData, fromItem[SymData])));\r\n            dataMaps2execute.push({\r\n              map: makeSlice(relTo, dataMap.action),\r\n              fromPath: fromItem.path,\r\n              keyPath: fromItem[SymData]\r\n            });\r\n            if (!bindMap2emitter && relativePath(emitterPath, fromItem.path)[0] != '.') bindMap2emitter = true;\r\n          }\r\n          //state = mergeUPD_PROC(state, UPDATABLE);\r\n        })\r\n      }\r\n    );\r\n    if (bindMap2emitter) {\r\n      const emitterBranch = getIn(state, emitterPath);\r\n      if (emitterBranch) {\r\n        let bindedMaps = getIn(emitterBranch, SymDataMapTree, SymData) || [];\r\n        let i;\r\n        for (i = 0; i < bindedMaps.length; i++) {\r\n          if (dataMap.from === bindedMaps[i].from && dataMap.to === bindedMaps[i].to) break;\r\n        }\r\n        bindedMaps = bindedMaps.slice();\r\n        bindedMaps[i] = dataMap;\r\n        setUPDATABLE(UPDATABLE, bindedMaps, true, emitterPath, SymDataMapTree, SymData);\r\n      }\r\n    }\r\n    state = mergeUPD_PROC(state, UPDATABLE);\r\n  });\r\n  if (unset !== null) dataMaps2execute.forEach((v: any) => {\r\n    state = executeDataMapsPROC(state, UPDATABLE, v.map, makeNUpdate(v.fromPath, v.keyPath, getIn(state, v.fromPath, SymData, v.keyPath)));\r\n    state = mergeUPD_PROC(state, UPDATABLE);\r\n  });\r\n  return state\r\n}\r\n\r\n\r\nfunction executeDataMapsPROC(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type, maps: any, item: NormalizedUpdateType) {\r\n  const {value, path, replace} = item;\r\n  const keyPath = item[SymData] || [];\r\n  const from = NUpdate2string(item);\r\n  objKeys(maps || {}).forEach((pathTo) => {\r\n    //console.log('maps=', maps);\r\n    if (!maps[pathTo]) return; // disabled map\r\n    const map: dataMapActionType = maps[pathTo];\r\n    const NpathTo = path2string(normalizePath(pathTo, path));\r\n    let executedValue = value;\r\n    const updates: any[] = [];\r\n    if (isObject(map)) {\r\n      const field = makeSynthField(UPDATABLE.api, NpathTo, from);\r\n      //let _get = field.api._get;\r\n      //field.api._get = getFromUPD(state, UPDATABLE);\r\n      field.get = getFromUPD(state, UPDATABLE);\r\n      field.updates = updates;\r\n      executedValue = processFn.call(field, map, value);\r\n      field.updates = null;\r\n      field.get = null;\r\n    }\r\n    if (!updates.length) updates.push({path: NpathTo, value: executedValue, replace: isUndefined(map.replace) ? replace : map.replace});\r\n    updates.forEach((update: any) => state = updatePROC(state, UPDATABLE, update));\r\n  });\r\n  return state;\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//      state utilities\r\n/////////////////////////////////////////////\r\n\r\nconst trueIfLength = (length: number) => (path: any) => getIn(path, 'length') === length;\r\n\r\nfunction isTopPath(path: Path) {\r\n  return path.length == 0 || path.length == 1 && path[0] == '#';\r\n}\r\n\r\nconst makeSynthField = memoize(function (stateApi: any, to: string, from?: string) {\r\n  const path = to.split('@')[0];\r\n  const pathData = from ? from.split('@')[0] : path;\r\n  const updates: any[] = [];\r\n  const field: any = {from, to, path, stateApi, updates};\r\n  field.api = stateApi.wrapper(field);\r\n  field.wrapOpts = (rest: any) => {\r\n    if (field.updates && isUndefined(rest.setExecution)) rest.setExecution = (addUpdates: any) => addUpdates && push2array(field.updates, addUpdates);\r\n    return rest\r\n  };\r\n  field.getData = () => field.api.get(pathData, SymData);\r\n  return field;\r\n});\r\n\r\n\r\nfunction getFromUPD(state: StateType, UPDATABLE: PROCEDURE_UPDATABLE_Type) {\r\n  return (...tPath: Array<string | Path>) => {\r\n    if (hasIn(UPDATABLE.update, ...tPath.map(path => normalizePath(path as any))))\r\n      return merge(getFromState(state, ...tPath), getFromState(UPDATABLE.update, ...tPath), {replace: getFromState(UPDATABLE.replace, ...tPath)});\r\n    return getFromState(state, ...tPath);\r\n  }\r\n}\r\n\r\nfunction getUpdValue(states: StateType[], ...pathes: Path) {\r\n  for (let i = 0; i < states.length; i++) {\r\n    if (hasIn(states[i], ...pathes)) return getIn(states[i], ...pathes);\r\n  }\r\n}\r\n\r\n\r\nfunction getFromState(state: any, ...pathes: Array<symbol | string | Path>) {\r\n  return getIn(state, ...pathes.map(path => normalizePath(path as any)));\r\n}\r\n\r\nconst makeNUpdate = (path: Path, keyPath: Path, value?: any, replace?: any, rest: any = {}): NormalizedUpdateType => {return {path, [SymData]: keyPath, value, replace, ...rest}};\r\n\r\n\r\nfunction isNUpdate(updateItem: any): updateItem is NormalizedUpdateType {\r\n  return !isUndefined(getIn(updateItem, SymData)) && isArray(updateItem[SymData]);\r\n}\r\n\r\n\r\nfunction string2NUpdate(path: string | Path, base: string | Path = [], rest: any = {}): NormalizedUpdateType {\r\n  path = normalizePath(path, base);\r\n  let keyPath: any = [];\r\n  let a = path.indexOf(SymData);\r\n  if (~a) {\r\n    keyPath = path.slice(a + 1);\r\n    path = path.slice(0, a);\r\n  }\r\n  const {value, replace, ...r} = rest;\r\n  return makeNUpdate(path, keyPath, value, replace, r);\r\n}\r\n\r\n\r\nfunction NUpdate2string(item: PathItem): string {\r\n  let path = path2string(item.path);\r\n  return path + (item[SymData] && !~path.indexOf('@') ? '/@/' + path2string(item[SymData]) : '');\r\n}\r\n\r\n\r\nfunction normalizeUpdate(update: StateApiUpdateType, state: StateType): NormalizedUpdateType[] {\r\n  const {path, value, replace, base, ...rest} = update;\r\n  const result: NormalizedUpdateType[] = [];\r\n  let pathArray: string[] = path2string(path).split(';');\r\n  pathArray.forEach(path => {\r\n    let pathes = normalizePath(path, base);\r\n    let keyPathes: any = [];\r\n    let a = pathes.indexOf(SymData);\r\n    if (~a) {\r\n      keyPathes = pathes.slice(a + 1);\r\n      pathes = pathes.slice(0, a);\r\n    }\r\n    pathes = multiplyPath(pathes, {'*': (p: Path) => branchKeys(getIn(state, p)).join(',')});\r\n    keyPathes = multiplyPath(keyPathes);\r\n    objKeys(pathes).forEach(p => objKeys(keyPathes).forEach(k => result.push(makeNUpdate(pathes[p], keyPathes[k], value, replace, rest))));\r\n  });\r\n  return result;\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//  Path functions\r\n/////////////////////////////////////////////\r\n\r\nconst symConv: any = function (key: any, anotherKey?: any) {\r\n  if (!isUndefined(anotherKey)) {\r\n    symConv._data[key] = anotherKey;\r\n    symConv._data[anotherKey] = key;\r\n  } else return symConv._data[key]\r\n};\r\n\r\nsymConv._data = {'#': ''};\r\nsymConv.sym2str = (sym: any) => typeof sym == 'symbol' && !isUndefined(symConv(sym)) ? symConv(sym) : sym;\r\nsymConv.str2sym = (str: any) => typeof str == 'string' && !isUndefined(symConv(str)) ? symConv(str) : str;\r\n\r\nsymConv('@', SymData);\r\n\r\n\r\nfunction multiplyPath(path: Path, strReplace: { [key: string]: any } = {}) {\r\n  let result: any = {'': []};\r\n  path.forEach(value => {\r\n    let res: any = {};\r\n    value = strReplace[value] || value;\r\n    if (typeof value == 'string' && ~value.indexOf(',')) {\r\n      objKeys(result).forEach(key => value.split(',').forEach((k: string) => res[key && (key + ',' + k) || k] = result[key].concat(k.trim())))\r\n    } else if (typeof value == 'function') {\r\n      objKeys(result).forEach(key => {\r\n        let tmp: any = value(result[key]);\r\n        if (typeof tmp == 'string') tmp = string2path(tmp);\r\n        tmp = multiplyPath(tmp, strReplace);\r\n        objKeys(tmp).forEach(k => res[key && (key + (k ? ',' + k : '')) || k] = result[key].concat(tmp[k]))\r\n      });\r\n    } else objKeys(result).forEach(key => push2array(result[key], value));\r\n    if (objKeys(res).length) result = res;\r\n  });\r\n  return result;\r\n}\r\n\r\nconst num2string = (value: any) => typeof value == 'number' ? value.toString() : value;\r\n\r\nfunction relativePath(base: Path, destination: Path) {\r\n  if (base[0] === '#') base = base.slice(1);\r\n  if (destination[0] === '#') destination = destination.slice(1);\r\n  // let same = true;\r\n  // let res: Path = [];\r\n  const result: Path = [];\r\n  let i;\r\n  for (i = 0; i < base.length; i++) if (num2string(base[i]) !== num2string(destination[i])) break;\r\n  for (let j = i; j < base.length; j++) result.push('..');\r\n  if (!result.length) result.push('.');\r\n  return push2array(result, destination.slice(i));\r\n  // return result;\r\n}\r\n\r\nfunction resolvePath(path: Path, base?: Path) {\r\n  const result: Path = (base && (path[0] === '.' || path[0] == '..')) ? base.slice() : [];\r\n  for (let i = 0; i < path.length; i++) {\r\n    let val = path[i];\r\n    if (val === '..') result.pop();\r\n    else if (val !== '' && val !== '.') result.push(val);\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction setIfNotDeeper(state: any, value: any, ...pathes: any[]) {\r\n  if (state === value) return state;\r\n  const path = flattenPath(pathes);\r\n  let result = state;\r\n  for (let i = 0; i < path.length - 1; i++) {\r\n    if (result[path[i]] === value) return state;\r\n    if (!isObject(result[path[i]])) result[path[i]] = {};\r\n    result = result[path[i]];\r\n  }\r\n  if (path.length) result[path[path.length - 1]] = value;\r\n  else return value;\r\n  return state\r\n}\r\n\r\nfunction flattenPath(path: any): Path {\r\n  if (isArray(path)) {\r\n    const result: Path = [];\r\n    push2array(result, ...path.map(flattenPath));\r\n    return result;\r\n  } else if (typeof path == 'string') return string2path(path);\r\n  return [path];\r\n}\r\n\r\nfunction isNPath(path: any) {\r\n  return isMergeable(path) && getIn(path, SymData) === 'nPath';\r\n}\r\n\r\nfunction normalizePath(path: string | Path, base: string | Path = []): Path {\r\n  let result = resolvePath(flattenPath(path), base.length ? flattenPath(base) : []);\r\n  result[SymData] = 'nPath';\r\n  return result;\r\n}\r\n\r\nfunction path2string(path: any): string {\r\n  return isArray(path) ? path.map(path2string).join('/') : symConv.sym2str(path);\r\n}\r\n\r\nfunction string2path(path: string) {\r\n  path = path.replace(symConv(SymData), '/' + symConv(SymData) + '/');\r\n  path = path.replace(/\\/+/g, '/');\r\n  const result: Path = [];\r\n  path.split('/').forEach(key => key && (key = symConv.str2sym(key.trim())) && result.push(key));\r\n  return result\r\n}\r\n\r\n\r\n/////////////////////////////////////////////\r\n//      common utils\r\n/////////////////////////////////////////////\r\n\r\nfunction object2PathValues(vals: { [key: string]: any }, options: object2PathValuesOptions = {}, track: Path = []): PathValueType[] {\r\n  const fn = options.symbol ? objKeysNSymb : objKeys;\r\n  const check = options.arrayAsValue ? isObject : isMergeable;\r\n  if (!check(vals)) return [[vals]];\r\n  let result: any[] = [];\r\n  fn(vals).forEach((key) => {\r\n    let path = track.concat(key);\r\n    if (check(vals[key])) object2PathValues(vals[key], options, path).forEach(item => result.push(item)); // result = result.concat(object2PathValues(vals[key], path));\r\n    else result.push(push2array(path, vals[key]))\r\n  });\r\n  if (!result.length) return [push2array(track.slice(), {})]; // empty object\r\n  return result\r\n}\r\n\r\nconst objMap = (object: any, fn: (item: any, track: string[]) => any, track: string[] = []) =>\r\n  objKeys(object).reduce((result, key) => ((result[key] = fn(object[key], track.concat(key))) || true) && result, isArray(object) ? [] : {});\r\n\r\nconst isMapFn = (arg: any) => isObject(arg) && arg.$ || isFunction(arg) && arg._map;\r\n\r\nfunction normalizeArgs(args: any, wrapFn?: any) {\r\n  let dataRequest = false;\r\n  args = toArray(isUndefined(args) ? [] : args).map((arg: any) => {\r\n    if (isString(arg)) {\r\n      let fnReq = 0;\r\n      if (arg[0] == '@') fnReq = 1;\r\n      if (arg.substr(0, 2) == '!@') fnReq = 2;\r\n      if (arg.substr(0, 3) == '!!@') fnReq = 3;\r\n      if (fnReq) {\r\n        dataRequest = true;\r\n        let res = normalizePath(arg.substr(fnReq));\r\n        if (fnReq == 2)\r\n          res[SymDataMap] = 'not';\r\n        if (fnReq == 3) res[SymDataMap] = 'doubleNot';\r\n        return res\r\n      }\r\n    }\r\n    if (isMapFn(arg)) {\r\n      let res = normalizeArgs(arg.args, wrapFn);\r\n      if (res.dataRequest) dataRequest = true;\r\n      res = {...arg, ...res};\r\n      return wrapFn ? wrapFn(res) : res\r\n    } else if (wrapFn && isMergeable(arg)) return wrapFn(arg);\r\n    return arg;\r\n  });\r\n  return {dataRequest, args, norm: true}\r\n}\r\n\r\nfunction normalizeFn(fn: any, wrapFn?: Function, dontAddValue?: boolean): { $: Function, args: any, [key: string]: any } {\r\n  let nFn: any = !isObject(fn) ? {$: fn} : fn;\r\n  nFn = {...nFn, ...normalizeArgs(nFn.args, wrapFn)};\r\n  if (!nFn.args.length && !dontAddValue) nFn.args = ['${value}'];\r\n  return nFn\r\n}\r\n\r\nfunction testArray(value: any) {\r\n  if (isUndefined(value)) return [];\r\n  if (!isArray(value)) throw new Error('array expected');\r\n  return value\r\n}\r\n\r\nfunction processProp(nextData: any, arg: any) {\r\n  let res = getIn(nextData, arg);\r\n  switch (arg[SymDataMap]) {\r\n    case 'not':\r\n      return !res;\r\n    case 'doubleNot':\r\n      return !!res;\r\n    default:\r\n      return res\r\n  }\r\n}\r\n\r\nfunction processFn(map: any, value: any, strictArrayResult = true) {\r\n  const processArg = (arg: any) => {\r\n    if (isNPath(arg)) return processProp(nextData, arg);\r\n    if (isMapFn(arg)) return !arg._map ? processFn.call(this, arg, value, strictArrayResult) : arg(value, strictArrayResult);\r\n    if (arg == '${value}') return value;\r\n    return arg;\r\n  };\r\n  const nextData = map.dataRequest ? this.getData() : null;\r\n  const res = toArray(map.$).reduce((args, fn) =>\r\n      isFunction(fn) ? (strictArrayResult ? testArray : toArray)(\r\n        fn.apply(this, args)) : args,\r\n    (map.args || []).map(processArg));\r\n  return strictArrayResult ? testArray(res)[0] : deArray(res);\r\n}\r\n\r\n\r\n// function objKeysMap(obj: any, fn: Function, symbol = false) {\r\n//   if (!isMergeable(obj)) return obj;\r\n//   const result = _isArray(obj) ? [] : {};\r\n//   (symbol ? objKeys : objKeysNSymb)(obj).forEach(key => result[fn(key)] = obj[key]);\r\n//   return result;\r\n// };\r\n\r\n// function without(obj: {}, symbol = false, ...rest: any[]) {\r\n//   //const args = arrFrom(rest); // [].slice.call(arguments);\r\n//   const result = _isArray(obj) ? [] : {};\r\n//   const fn = symbol ? objKeys : objKeysNSymb;\r\n//   fn(obj).forEach(key => {\r\n//     if (!~rest.indexOf(key)) result[key] = obj[key]\r\n//   });\r\n//   return result;\r\n// };\r\n//\r\n// function split(test: (key: string, val: any) => boolean, obj: any, symbol = false) {\r\n//   const passed = {};\r\n//   const wrong = {};\r\n//\r\n//   const fn = symbol ? objKeys : objKeysNSymb;\r\n//   fn(obj).forEach(key => {\r\n//     let val = obj[key];\r\n//     if (test(key, val)) passed[key] = val;\r\n//     else wrong[key] = val;\r\n//   });\r\n//\r\n//   return [passed, wrong];\r\n// };\r\n//\r\n//\r\n// function replaceDeep(obj: any, value: any) {\r\n//   if (!isMergeable(obj)) return value;\r\n//   const result = _isArray(obj) ? [] : {};\r\n//   objKeys(obj).forEach(field => result[field] = replaceDeep(obj[field], value));\r\n//   return result;\r\n// }\r\n//\r\n\r\n\r\nexport {\r\n  object2PathValues,\r\n  string2path,\r\n  relativePath,\r\n  getSchemaPart,\r\n  oneOfFromState,\r\n  path2string,\r\n  normalizePath,\r\n  branchKeys,\r\n  getFromState,\r\n  arrayStart,\r\n  mergeUPD_PROC,\r\n  isSelfManaged,\r\n  normalizeUpdate,\r\n  setIfNotDeeper,\r\n  objMap,\r\n  setUPDATABLE,\r\n  isNPath,\r\n  multiplyPath,\r\n  normalizeArgs,\r\n  normalizeFn,\r\n  processFn,\r\n  isMapFn,\r\n  types,\r\n  updateState,\r\n  initState,\r\n  rehydrateState,\r\n  processProp,\r\n};\r\nexport {SymData, SymReset, SymClear, SymDelete, SymDataMap}\r\nexport {makeNUpdate, updatePROC, string2NUpdate};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}