{
  "type": "object",
  "_layout": [
    {
      "className": {
        "layout": true,
        "inline": true
      },
      "$_fields": [
        {
          "$_ref": "^/parts/Button",
          "children": "switch to viewer",
          "className": {
            "shrink": true
          },
          "$_maps": {
            "disabled": "@/params/viewer",
            "className/button-viewer": false
          },
          "onClick": {
            "$": "^/fn/api",
            "args": [
              "set",
              "/@/params/viewer",
              true,
              {
                "macros": "switch"
              }
            ]
          }
        },
        {
          "$_ref": "^/parts/Button",
          "children": "switch to editor",
          "className": {
            "shrink": true
          },
          "$_maps": {
            "disabled": {
              "$": "^/fn/not",
              "args": "@/params/viewer"
            },
            "className/button-viewer": false
          },
          "onClick": {
            "$": "^/fn/setValue",
            "args": [
              false,
              {
                "path": "/@/params/viewer",
                "macros": "switch"
              }
            ]
          }
        },
        {
          "_$widget": "input",
          "type": "text",
          "onChange": {
            "$": "^/fn/eventValue|setValue",
            "args": [
              "${0}",
              {
                "path": "./@/focusValue",
                "execute": true
              }
            ]
          },
          "$_reactRef": {
            "ref": "!focusInput"
          },
          "$_maps": {
            "className/hidden": "@/params/viewer",
            "value": "@/focusValue"
          }
        },
        {
          "$_ref": "^/parts/Button",
          "children": "focus",
          "className": {
            "shrink": true
          },
          "onClick": "^/user/focusInput"
        },
        {
          "$_ref": "^/parts/Expander"
        }
      ]
    }
  ],
  "_data": {
    "focusValue": "/array/2/1"
  },
  "properties": {
    "array": {
      "type": "array",
      "title": "Array of mix",
      "_layout": [
        {
          "className": {
            "layout": true,
            "inline": true
          },
          "$_fields": [
            "0",
            "1"
          ]
        }
      ],
      "default": [
        "vd 1",
        "vd 2",
        [
          "string value",
          0,
          false,
          null,
          "more text"
        ]
      ],
      "items": [
        {
          "type": "string",
          "_presets": "string:$noArrayControls"
        },
        {
          "type": "string",
          "default": "some default",
          "_presets": "string:$noArrayControls"
        },
        {
          "type": "array",
          "title": "Array of values",
          "_presets": "array:$noArrayControls",
          "_custom": {
            "Title": {
              "style": {
                "width": "100%"
              },
              "children": [
                {},
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+string"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 0
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+number"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 1
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+boolean"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 2
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayDelButton"
                },
                {
                  "$_ref": "^/parts/ArrayEmpty"
                },
                {
                  "$_ref": "^/parts/ArrayItemMenu",
                  "_$useTag": "span",
                  "buttons": [
                    "up",
                    "down",
                    "del"
                  ],
                  "buttonsProps": {
                    "up": {
                      "children": [
                        "⬆"
                      ]
                    },
                    "down": {
                      "children": [
                        "⬇"
                      ]
                    },
                    "del": {
                      "children": [
                        "x"
                      ]
                    }
                  },
                  "style": {
                    "float": "right",
                    "marginRight": "1em",
                    "marginLeft": "1em"
                  }
                }
              ]
            },
            "Main": {
              "$_maps": {
                "viewer": "@/params/viewer"
              }
            }
          },
          "maxItems": 4,
          "items": {
            "oneOf": [
              {
                "type": "string",
                "_presets": "string:$inlineTitle:$inlineArrayControls",
                "default": "default"
              },
              {
                "type": [
                  "number",
                  "null"
                ],
                "_presets": "numberNull:$inlineTitle:$inlineArrayControls",
                "default": null
              },
              {
                "type": "boolean",
                "_presets": "boolean:$inlineTitle:$inlineArrayControls",
                "default": false
              }
            ]
          }
        }
      ]
    },
    "booleanLeft": {
      "type": "boolean",
      "title": "boolean left",
      "_presets": "booleanLeft:$inlineTitle",
      "default": false,
      "_enumExten": {
        "true": {
          "label": "yes"
        },
        "false": {
          "label": "no"
        }
      }
    },
    "booleanNullLeft": {
      "type": [
        "boolean",
        "null"
      ],
      "title": "booleanNull left",
      "_presets": "booleanNullLeft:$inlineTitle",
      "default": false,
      "_stateMaps": [
        {
          "from": "./@/value",
          "to": "../booleanLeft/@/value",
          "$": "^/fn/not"
        }
      ]
    },
    "select": {
      "title": "Select",
      "type": "string",
      "enum": [
        "option 1",
        "option 2",
        "option 3"
      ],
      "default": "option 2",
      "_presets": "select:$inlineTitle"
    },
    "radioSelect": {
      "title": "Radio select",
      "type": "string",
      "_presets": "radio:$inlineItems:$inlineTitle",
      "enum": [
        "option 1",
        "option 2",
        "option 3"
      ],
      "default": "option 2"
    },
    "checkboxSelect": {
      "title": "Checkbox select",
      "_presets": "checkboxes:$inlineItems:$inlineTitle",
      "type": "array",
      "required": true,
      "_data": {
        "fData": {
          "enum": [
            "option 1",
            "option 2",
            "option 3"
          ]
        }
      },
      "_managed": true,
      "items": {
        "type": "string",
        "enum": [
          "option 1",
          "option 2",
          "option 3"
        ]
      },
      "default": [
        "option 2",
        "option 3"
      ]
    },
    "autowidth": {
      "type": "number",
      "_presets": "number:$autowidth"
    },
    "multiselect": {
      "title": "Multiselect",
      "_presets": "multiselect",
      "type": "array",
      "_data": {
        "fData": {
          "enum": [
            "option 1",
            "option 2",
            "option 3"
          ]
        }
      },
      "_managed": true,
      "items": {
        "type": "string",
        "enum": [
          "option 1",
          "option 2",
          "option 3"
        ]
      }
    },
    "textarea": {
      "title": "Textarea",
      "type": "string",
      "_presets": "textarea"
    }
  }
}