{
  "type": "object",
  "_presets": "object:$noMessage",
  "_data": {
    "focusValue": "/array/2/1"
  },
  "_layout": {
    "$_fields": [
      {
        "className": {
          "fform-layout": true,
          "fform-inline": true,
          "fform-wrapper": true
        },
        "$_fields": [
          {
            "$_ref": "^/parts/Button",
            "children": "switch to viewer",
            "className": {
              "fform-shrink": true
            },
            "$_maps": {
              "disabled": "@/params/viewer",
              "className/fform-hidden": "@/params/noEditor"
            },
            "onClick": {
              "$": "^/fn/api",
              "args": [
                "set",
                "/@/params/viewer",
                true,
                {
                  "macros": "switch"
                }
              ]
            }
          },
          {
            "$_ref": "^/parts/Button",
            "children": "switch to editor",
            "className": {
              "fform-shrink": true
            },
            "$_maps": {
              "disabled": "!@/params/viewer",
              "className/fform-hidden": "@/params/noEditor"
            },
            "onClick": {
              "$": "^/fn/setValue",
              "args": [
                false,
                {
                  "path": "/@/params/viewer",
                  "macros": "switch"
                }
              ]
            }
          },
          {
            "_$widget": "input",
            "type": "text",
            "className": {
              "form-control": true
            },
            "style": {
              "width": "auto"
            },
            "onChange": {
              "$": "^/fn/eventValue|setValue",
              "args": [
                "${0}",
                {
                  "path": "./@/focusValue",
                  "execute": true
                }
              ]
            },
            "$_reactRef": {
              "ref": "!focusInput"
            },
            "$_maps": {
              "className/fform-hidden": "@/params/viewer",
              "value": "@/focusValue"
            }
          },
          {
            "$_ref": "^/parts/Button",
            "children": "focus",
            "className": {
              "fform-shrink": true
            },
            "onClick": "^/user/focusInput"
          },
          {
            "$_ref": "^/parts/Expander"
          }
        ]
      },
      "array",
      "boolean",
      "booleanLeft",
      "booleanNullLeft",
      "select",
      "radioSelect",
      "checkboxSelect",
      "autowidth",
      "multiselect",
      "textarea",
      {
        "className": {
          "fform-wrapper": true
        },
        "$_ref": "^/parts/Message"
      },
      {
        "className": {
          "fform-inline": true
        },
        "$_fields": [
          {
            "$_ref": "^/parts/Submit",
            "id": "submit-button",
            "children": [
              "Send"
            ]
          },
          {
            "$_ref": "^/parts/Reset",
            "id": "reset-button"
          }
        ]
      }
    ]
  },
  "properties": {
    "array": {
      "type": "array",
      "title": "Array of mix",
      "default": [
        "vd 1",
        "vd 2",
        [
          "string value",
          0,
          false,
          null,
          "more text"
        ]
      ],
      "_layout": {
        "$_fields": [
          {
            "className": {
              "fform-layout": true,
              "fform-inline": true
            },
            "$_fields": [
              "0",
              "1"
            ]
          },
          "2"
        ]
      },
      "items": [
        {
          "type": "string",
          "_presets": "string:$noArrayControls"
        },
        {
          "type": "string",
          "default": "some default",
          "_presets": "string:$noArrayControls"
        },
        {
          "type": "array",
          "maxItems": 4,
          "title": "Array of values",
          "_presets": "array:$noArrayControls",
          "_custom": {
            "Title": {
              "style": {
                "width": "100%"
              },
              "children": [
                {},
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "data-key": "add_0",
                  "children": [
                    "+string"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 0
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "data-key": "add_1",
                  "children": [
                    "+number"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 1
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "data-key": "add_2",
                  "children": [
                    "+boolean"
                  ],
                  "onClick": {
                    "args": {
                      "3": {
                        "setOneOf": 2
                      }
                    }
                  }
                },
                {
                  "$_ref": "^/parts/ArrayDelButton",
                  "data-key": "del"
                },
                {
                  "$_ref": "^/parts/ArrayEmpty"
                },
                {
                  "$_ref": "^/parts/ArrayItemMenu",
                  "_$useTag": "span",
                  "buttons": [
                    "up",
                    "down",
                    "del"
                  ],
                  "buttonsProps": {
                    "up": {
                      "children": [
                        "⬆"
                      ]
                    },
                    "down": {
                      "children": [
                        "⬇"
                      ]
                    },
                    "del": {
                      "children": [
                        "x"
                      ]
                    }
                  },
                  "style": {
                    "float": "right",
                    "marginRight": "1em",
                    "marginLeft": "1em"
                  }
                }
              ]
            },
            "Main": {
              "$_maps": {
                "viewer": "@/params/viewer"
              }
            }
          },
          "_layout": {
            "$_fields": [
              "0"
            ]
          },
          "items": {
            "oneOf": [
              {
                "type": "string",
                "default": "default",
                "_presets": "string:$inlineTitle:$inlineArrayControls"
              },
              {
                "type": [
                  "number",
                  "null"
                ],
                "default": null,
                "_presets": "numberNull:$inlineTitle:$inlineArrayControls"
              },
              {
                "type": "boolean",
                "default": false,
                "_presets": "boolean:$inlineTitle:$inlineArrayControls"
              }
            ]
          }
        }
      ]
    },
    "boolean": {
      "type": "boolean",
      "title": "boolean",
      "default": false,
      "_presets": "boolean:$inlineTitle",
      "_enumExten": {
        "true": {
          "label": "yes"
        },
        "false": {
          "label": "no"
        }
      }
    },
    "booleanLeft": {
      "type": "boolean",
      "title": "boolean left",
      "default": false,
      "_presets": "booleanLeft:$inlineTitle",
      "_enumExten": {
        "true": {
          "label": "yes"
        },
        "false": {
          "label": "no"
        }
      }
    },
    "booleanNullLeft": {
      "type": [
        "boolean",
        "null"
      ],
      "title": "booleanNull left",
      "default": false,
      "_presets": "booleanNullLeft:$inlineTitle",
      "_stateMaps": [
        {
          "from": "./@/value",
          "to": "../booleanLeft/@/value",
          "$": "^/fn/not"
        }
      ]
    },
    "select": {
      "type": "string",
      "title": "Select",
      "default": "option 2",
      "_presets": "select:$inlineTitle",
      "enum": [
        "option 1",
        "option 2",
        "option 3"
      ]
    },
    "radioSelect": {
      "type": "string",
      "title": "Radio select",
      "default": "option 2",
      "_presets": "radio:$inlineItems:$inlineTitle",
      "_enumExten": [
        "option 2",
        {
          "value": "1",
          "label": "option 1"
        },
        "option 3"
      ]
    },
    "checkboxSelect": {
      "type": "array",
      "title": "Checkbox select",
      "default": [
        "option 2",
        "option 3"
      ],
      "_presets": "checkboxes:$inlineItems:$inlineTitle",
      "_simple": true,
      "_enumExten": {
        "option 1": true,
        "option 2": true,
        "option 3": true
      },
      "_layout": {
        "$_fields": [
          "0"
        ]
      },
      "items": {
        "type": "string"
      }
    },
    "autowidth": {
      "type": "number",
      "_presets": "number:$autowidth"
    },
    "multiselect": {
      "type": "array",
      "title": "Multiselect",
      "_presets": "multiselect",
      "_simple": true,
      "_enumExten": {
        "option 1": "value 1",
        "option 2": "value 2",
        "option 3": "value 3"
      },
      "_layout": {
        "$_fields": [
          "0"
        ]
      },
      "items": {
        "type": "string"
      }
    },
    "textarea": {
      "type": "string",
      "title": "Textarea",
      "_presets": "textarea"
    }
  }
}