{
  "type": "object",
  "ff_layout": [
    {
      "className": {
        "layout": true,
        "inline": true
      },
      "$_fields": [
        {
          "$_ref": "^/parts/Button",
          "children": "switch to viewer",
          "className": {
            "shrink": true
          },
          "$_maps": {
            "disabled": "@/params/viewer",
            "className/button-viewer": false
          },
          "onClick": {
            "$": "^/user/set",
            "args": [
              "/@/params/viewer",
              true,
              {
                "macros": "switch"
              }
            ]
          }
        },
        {
          "$_ref": "^/parts/Button",
          "children": "switch to editor",
          "className": {
            "shrink": true
          },
          "$_maps": {
            "disabled": {
              "$": "^/fn/not",
              "args": "@/params/viewer"
            },
            "className/button-viewer": false
          },
          "onClick": {
            "$": "^/user/set",
            "args": [
              "/@/params/viewer",
              false,
              {
                "macros": "switch"
              }
            ]
          }
        },
        {
          "_$widget": "input",
          "type": "text",
          "onChange": {
            "$": "^/user/focusInputChange"
          },
          "$_reactRef": {
            "ref": "!focusInput"
          },
          "$_maps": {
            "className/hidden": "@/params/viewer",
            "value": "@/focusValue"
          }
        },
        {
          "$_ref": "^/parts/Button",
          "children": "focus",
          "className": {
            "shrink": true
          },
          "onClick": "^/user/focusInput"
        },
        {
          "$_ref": "^/parts/expander"
        }
      ]
    }
  ],
  "ff_data": {
    "focusValue": "/array/2/1"
  },
  "properties": {
    "array": {
      "type": "array",
      "title": "Array of mix",
      "ff_layout": [
        {
          "className": {
            "layout": true,
            "inline": true
          },
          "$_fields": [
            "0",
            "1"
          ]
        }
      ],
      "default": [
        "vd 1",
        "vd 2",
        [
          "string value",
          0,
          false,
          null,
          "more text"
        ]
      ],
      "items": [
        {
          "type": "string",
          "ff_presets": "string:noArrayControls"
        },
        {
          "type": "string",
          "default": "some default",
          "ff_presets": "string:noArrayControls"
        },
        {
          "type": "array",
          "title": "Array of values",
          "ff_presets": "array:noArrayControls",
          "ff_custom": {
            "Title": {
              "style": {
                "width": "100%"
              },
              "children": [
                {},
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+string"
                  ],
                  "onClick": {
                    "args": [
                      "./",
                      1,
                      {
                        "setOneOf": 0
                      }
                    ]
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+number"
                  ],
                  "onClick": {
                    "args": [
                      "./",
                      1,
                      {
                        "setOneOf": 1
                      }
                    ]
                  }
                },
                {
                  "$_ref": "^/parts/ArrayAddButton",
                  "children": [
                    "+boolean"
                  ],
                  "onClick": {
                    "args": [
                      "./",
                      1,
                      {
                        "setOneOf": 2
                      }
                    ]
                  }
                },
                {
                  "$_ref": "^/parts/ArrayDelButton"
                },
                {
                  "$_ref": "^/parts/ArrayEmpty"
                },
                {
                  "$_ref": "^/parts/ArrayItemMenu",
                  "useTag": "span",
                  "buttons": [
                    "up",
                    "down",
                    "del"
                  ],
                  "buttonsProps": {
                    "up": {
                      "children": [
                        "⬆"
                      ]
                    },
                    "down": {
                      "children": [
                        "⬇"
                      ]
                    },
                    "del": {
                      "children": [
                        "x"
                      ]
                    }
                  },
                  "style": {
                    "float": "right",
                    "marginRight": "1em",
                    "marginLeft": "1em"
                  }
                }
              ]
            },
            "Main": {
              "$_maps": {
                "viewer": "@/params/viewer"
              }
            }
          },
          "maxItems": 3,
          "items": {
            "oneOf": [
              {
                "type": "string",
                "ff_presets": "string:inlineTitle:inlineArrayControls",
                "default": "default"
              },
              {
                "type": [
                  "number",
                  "null"
                ],
                "ff_presets": "numberNull:inlineTitle:inlineArrayControls",
                "default": null
              },
              {
                "type": "boolean",
                "ff_presets": "boolean:inlineTitle:inlineArrayControls",
                "default": false
              }
            ]
          }
        }
      ]
    },
    "booleanLeft": {
      "type": "boolean",
      "title": "boolean left",
      "ff_presets": "booleanLeft:inlineTitle",
      "default": false,
      "ff_enumExten": {
        "true": {
          "label": "yes"
        },
        "false": {
          "label": "no"
        }
      }
    },
    "booleanNullLeft": {
      "type": [
        "boolean",
        "null"
      ],
      "title": "booleanNull left",
      "ff_presets": "booleanNullLeft:inlineTitle",
      "default": false,
      "ff_dataMap": [
        {
          "from": "./@/value",
          "to": "../booleanLeft/@/value",
          "$": "^/fn/not"
        }
      ]
    },
    "select": {
      "title": "Select",
      "type": "string",
      "enum": [
        "option 1",
        "option 2",
        "option 3"
      ],
      "default": "option 2",
      "ff_presets": "select:inlineTitle"
    },
    "radioSelect": {
      "title": "Radio select",
      "type": "string",
      "ff_presets": "radio:inlineItems:inlineTitle",
      "enum": [
        "option 1",
        "option 2",
        "option 3"
      ],
      "default": "option 2"
    },
    "checkboxSelect": {
      "title": "Checkbox select",
      "ff_presets": "checkboxes:inlineItems:inlineTitle",
      "type": "array",
      "required": true,
      "ff_data": {
        "fData": {
          "enum": [
            "option 1",
            "option 2",
            "option 3"
          ]
        }
      },
      "ff_managed": true,
      "items": {
        "type": "string",
        "enum": [
          "option 1",
          "option 2",
          "option 3"
        ]
      },
      "default": [
        "option 2",
        "option 3"
      ]
    },
    "autowidth": {
      "type": "number",
      "ff_presets": "number:autowidth"
    },
    "multiselect": {
      "title": "Multiselect",
      "ff_presets": "multiselect",
      "type": "array",
      "ff_data": {
        "fData": {
          "enum": [
            "option 1",
            "option 2",
            "option 3"
          ]
        }
      },
      "ff_managed": true,
      "items": {
        "type": "string",
        "enum": [
          "option 1",
          "option 2",
          "option 3"
        ]
      }
    },
    "textarea": {
      "title": "Textarea",
      "type": "string",
      "ff_presets": "textarea"
    }
  }
}